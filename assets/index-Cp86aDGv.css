:root{--font-sans: "Noto Sans KR", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--bg-deep-space: #0A0E1A;--bg-surface: #141927;--bg-interactive: #202638;--bg-interactive-hover: #293045;--fill-primary: #E0E2E8;--fill-secondary: #8A94A8;--fill-tertiary: #5C667A;--border-primary: #2A3145;--border-secondary: var(--accent-primary);--accent-gradient: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-primary-dark) 100%);--accent-green: #2ECC71;--accent-red: #E74C3C;--accent-orange: #f39c12;--korean-color: #FFB6C1;--english-color: #FFDAB9;--math-color: #FFFACD;--social-color: #B2DFDB;--science-color: #B0E0E6;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 16px;--shadow-sm: 0 2px 4px rgba(0,0,0,.1);--shadow-md: 0 4px 10px rgba(0,0,0,.15);--shadow-lg: 0 10px 30px rgba(0,0,0,.2);--shadow-glow: 0 0 20px -5px}body.theme-default{--accent-primary-light: #E0F2F1;--accent-primary: #A7D7C5;--accent-primary-dark: #82BBAA;--accent-primary-text: #3E5B53;--accent-primary-glow: rgba(167, 215, 197, .3)}body.theme-pink{--accent-primary-light: #FFF0F5;--accent-primary: #FFB6C1;--accent-primary-dark: #F0A1B0;--accent-primary-text: #6D434B;--accent-primary-glow: rgba(255, 182, 193, .3)}body.theme-peach{--accent-primary-light: #FFF5EE;--accent-primary: #FFDAB9;--accent-primary-dark: #F0C4A5;--accent-primary-text: #7D5A44;--accent-primary-glow: rgba(255, 218, 185, .3)}body.theme-yellow{--accent-primary-light: #FFFDE7;--accent-primary: #FFFACD;--accent-primary-dark: #F5E9B9;--accent-primary-text: #7A714C;--accent-primary-glow: rgba(255, 250, 205, .3)}body.theme-blue{--accent-primary-light: #E1F5FE;--accent-primary: #B0E0E6;--accent-primary-dark: #98D3DD;--accent-primary-text: #3C5A60;--accent-primary-glow: rgba(176, 224, 230, .3)}body.theme-korean{--accent-primary-light: #FFF0F5;--accent-primary: #FFB6C1;--accent-primary-dark: #F0A1B0;--accent-primary-text: #6D434B;--accent-primary-glow: rgba(255, 182, 193, .3)}body.theme-english{--accent-primary-light: #FFF5EE;--accent-primary: #FFDAB9;--accent-primary-dark: #F0C4A5;--accent-primary-text: #7D5A44;--accent-primary-glow: rgba(255, 218, 185, .3)}body.theme-math{--accent-primary-light: #FFFDE7;--accent-primary: #FFFACD;--accent-primary-dark: #F5E9B9;--accent-primary-text: #7A714C;--accent-primary-glow: rgba(255, 250, 205, .3)}body.theme-social{--accent-primary-light: #E0F2F1;--accent-primary: #B2DFDB;--accent-primary-dark: #80CBC4;--accent-primary-text: #264644;--accent-primary-glow: rgba(178, 223, 219, .3)}body.theme-science{--accent-primary-light: #E1F5FE;--accent-primary: #B0E0E6;--accent-primary-dark: #98D3DD;--accent-primary-text: #3C5A60;--accent-primary-glow: rgba(176, 224, 230, .3)}*{box-sizing:border-box;margin:0;padding:0}html{font-family:var(--font-sans)}body{background-color:var(--bg-deep-space);color:var(--fill-primary);overflow:hidden;transition:--accent-primary .3s ease}#root{height:100vh;width:100vw}.app-layout{display:flex;height:100%}.main-content{flex-grow:1;height:100%;overflow-y:auto;padding:2.5rem}.loading-fullscreen{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;gap:1.5rem;color:var(--fill-secondary)}.loading-fullscreen p{font-size:1.1rem;font-weight:500}.error-message{background-color:var(--accent-red);color:#fff;padding:1rem 1.5rem;border-radius:var(--radius-md);text-align:center;margin:1rem}.sidebar{width:260px;background-color:var(--bg-deep-space);border-right:1px solid var(--border-primary);display:flex;flex-direction:column;padding:1.5rem 1rem;transition:transform .3s ease-in-out;flex-shrink:0;z-index:10}.sidebar-header{display:flex;align-items:center;gap:.75rem;padding:.5rem .5rem 2.5rem}.sidebar-header span{font-size:1.5rem}.sidebar-header h1{font-size:1.25rem;font-weight:700;color:var(--fill-primary)}.sidebar-nav{display:flex;flex-direction:column;gap:.5rem}.sidebar-nav button{display:flex;align-items:center;gap:.85rem;width:100%;padding:.8rem 1rem;border-radius:var(--radius-md);background-color:transparent;border:none;color:var(--fill-secondary);font-size:1rem;font-weight:500;text-align:left;cursor:pointer;transition:all .2s}.sidebar-nav button:hover{background-color:var(--bg-interactive);color:var(--fill-primary)}.sidebar-nav button.active{background-color:var(--accent-primary);color:var(--accent-primary-text);font-weight:700}.sidebar-nav button.active svg{stroke:var(--accent-primary-text)}.sidebar-nav button svg{stroke:var(--fill-tertiary);transition:stroke .2s}.sidebar-nav button:hover svg{stroke:var(--fill-primary)}.sidebar-nav .end-lesson-button{margin-top:1rem;color:var(--accent-green);border:1px solid var(--border-primary)}.sidebar-nav .end-lesson-button:hover:not(:disabled){background-color:var(--accent-green);color:var(--bg-deep-space);font-weight:700}.sidebar-nav .end-lesson-button:disabled{color:var(--fill-tertiary);border-color:var(--border-primary);cursor:not-allowed;background-color:transparent}.sidebar-nav .end-lesson-button:disabled svg{stroke:var(--fill-tertiary)}.mobile-menu-toggle,.sidebar-overlay{display:none}.centered-form-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center;padding:1.5rem;animation:fadeIn .5s ease}.form-box{width:100%;max-width:450px;background-color:var(--bg-surface);padding:2.5rem;border-radius:var(--radius-lg);border:1px solid var(--border-primary);box-shadow:var(--shadow-lg)}.form-box h3{text-align:center;font-size:1.5rem;font-weight:600;margin-bottom:.5rem}.form-box .form-sub-header{text-align:center;color:var(--fill-secondary);margin-bottom:2rem}.form-content{display:flex;flex-direction:column;gap:1.25rem}.form-group{display:flex;flex-direction:column;gap:.5rem}.form-group label{font-weight:500;color:var(--fill-secondary);font-size:.9rem}.form-group input,.form-group select{width:100%;padding:.8rem 1rem;background-color:var(--bg-deep-space);border:1px solid var(--border-primary);border-radius:var(--radius-md);color:var(--fill-primary);font-size:1rem;transition:all .2s ease}.form-group input:focus,.form-group select:focus{outline:none;border-color:var(--border-secondary);background-color:var(--bg-surface)}.form-group input:disabled{background-color:var(--bg-interactive);cursor:not-allowed;color:var(--fill-tertiary)}.form-group input[type=file]{padding:.5rem;cursor:pointer}.form-group input[type=file]::file-selector-button{padding:.4rem .8rem;border-radius:var(--radius-sm);border:none;background-color:var(--bg-interactive);color:var(--fill-primary);cursor:pointer;transition:background-color .2s}.form-group input[type=file]::file-selector-button:hover{background-color:var(--bg-interactive-hover)}.form-toggle-buttons{display:flex;background-color:var(--bg-deep-space);border-radius:var(--radius-md);padding:.25rem;margin-bottom:2rem}.form-toggle-buttons button{flex:1;padding:.75rem;border:none;background-color:transparent;color:var(--fill-secondary);font-weight:600;border-radius:var(--radius-sm);cursor:pointer;transition:all .2s ease}.form-toggle-buttons button.active{background-color:var(--accent-primary);color:var(--accent-primary-text);font-weight:700}.form-error{color:var(--accent-red);text-align:center;font-weight:500;margin-top:-.5rem;margin-bottom:.5rem}.form-success{color:var(--accent-green);text-align:center;font-weight:500}.api-key-warning{padding:1rem;background-color:#f39c121a;border-left:4px solid var(--accent-orange);border-radius:var(--radius-sm);margin-bottom:1.5rem;font-size:.9rem;color:var(--fill-secondary)}.api-key-warning strong{color:var(--accent-orange)}.external-link{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;color:var(--fill-secondary);font-size:.9rem;text-decoration:none;transition:color .2s}.external-link:hover{color:var(--fill-primary)}.external-link svg{margin-bottom:2px}.settings-screen{animation:fadeIn .5s ease;max-width:900px;margin:0 auto}.settings-screen .form-box{background:transparent;border:none;box-shadow:none;padding:0}.data-management-buttons{display:flex;flex-direction:column;gap:.75rem;margin-top:1.5rem}.secondary-button,.danger-button{width:100%;padding:.8rem 1rem;border-radius:var(--radius-md);font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease}.secondary-button{background-color:var(--bg-interactive);border:1px solid var(--border-primary);color:var(--fill-primary)}.secondary-button:hover{background-color:var(--bg-interactive-hover)}.danger-button{background-color:var(--accent-red);border:1px solid var(--accent-red);color:#fff}.danger-button:hover{opacity:.85}.selection-screen{animation:fadeIn .5s ease;max-width:800px;margin:0 auto}.selection-header{margin-bottom:2.5rem;text-align:center}.selection-header h2{font-size:2.5rem;font-weight:700;margin-bottom:.75rem;letter-spacing:-.5px;color:var(--fill-primary)}.selection-header p{color:var(--fill-secondary);font-size:1.1rem;max-width:600px;margin:0 auto}.selection-path{margin-top:1.5rem;padding:.75rem 1.25rem;background-color:var(--bg-surface);border:1px solid var(--border-primary);border-radius:var(--radius-md);color:var(--fill-secondary);font-size:.9rem;min-height:42px;transition:all .3s ease}body[class*=theme-] .selection-path{border-left:4px solid var(--accent-primary-dark)}.selection-stepper{margin-top:2rem}.selection-step{animation:fadeIn .4s ease-out}.selection-step h3{font-size:1.75rem;font-weight:600;margin-bottom:2rem;text-align:center;color:var(--fill-primary);transition:color .3s ease}body[class*=theme-] .selection-step h3{color:var(--accent-primary)}.subject-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem}.selection-item-subject{background-color:var(--bg-surface);border:1px solid var(--border-primary);border-radius:var(--radius-lg);padding:1.5rem 1rem;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.75rem;text-align:center;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease-out;color:var(--fill-secondary)}.selection-item-subject:hover{transform:translateY(-5px);background-color:var(--bg-interactive)}.selection-item-subject.korean:hover{border-color:var(--korean-color);color:var(--korean-color);box-shadow:var(--shadow-glow) var(--korean-color)}.selection-item-subject.english:hover{border-color:var(--english-color);color:var(--english-color);box-shadow:var(--shadow-glow) var(--english-color)}.selection-item-subject.math:hover{border-color:var(--math-color);color:var(--math-color);box-shadow:var(--shadow-glow) var(--math-color)}.selection-item-subject.social:hover{border-color:var(--social-color);color:var(--social-color);box-shadow:var(--shadow-glow) var(--social-color)}.selection-item-subject.science:hover{border-color:var(--science-color);color:var(--science-color);box-shadow:var(--shadow-glow) var(--science-color)}.selection-item-subject:hover svg{stroke:currentColor}.selection-item-subject svg{stroke:var(--fill-tertiary);transition:stroke .2s}.selection-list-paged{display:flex;flex-direction:column;gap:.75rem}.selection-item,.selection-item-detailed{width:100%;text-align:left;background:var(--bg-surface);border:1px solid var(--border-primary);border-radius:var(--radius-md);cursor:pointer;transition:all .2s ease;padding:1rem 1.5rem;color:var(--fill-primary)}.selection-item:hover,.selection-item-detailed:hover{border-color:var(--accent-primary);background-color:var(--bg-interactive);transform:translateY(-2px);box-shadow:0 0 15px -5px var(--accent-primary-glow)}.selection-item{font-size:1.1rem;font-weight:500}.selection-item-detailed h5{color:var(--fill-primary);font-size:1rem;margin-bottom:.35rem;font-weight:600}.selection-item-detailed p{color:var(--fill-secondary);font-size:.9rem}.difficulty-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.75rem}.selection-item-difficulty{padding:1rem .5rem;background:var(--bg-surface);border:1px solid var(--border-primary);color:var(--fill-secondary);border-radius:var(--radius-md);cursor:pointer;transition:all .2s ease;font-size:.95rem;text-align:center}.selection-item-difficulty:hover{border-color:var(--fill-primary);color:var(--fill-primary)}.selection-item-difficulty.active{background-color:var(--accent-primary);border-color:var(--accent-primary);font-weight:700;color:var(--accent-primary-text)}.cta-button{width:100%;padding:1rem;margin-top:1rem;background-image:var(--accent-gradient);color:var(--accent-primary-text);border:none;border-radius:var(--radius-md);font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease;background-size:150% 150%}.cta-button:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 6px 20px -5px var(--accent-primary-glow);background-position:right center}.cta-button:disabled{background:var(--bg-interactive);color:var(--fill-tertiary);cursor:not-allowed;box-shadow:none;background-image:none}#root .selection-step .cta-button{margin-top:2.5rem}.selection-footer{margin-top:3rem;text-align:center;height:40px}.back-button{display:inline-flex;align-items:center;gap:.5rem;padding:.6rem 1.2rem;background:transparent;color:var(--fill-secondary);border:1px solid var(--border-primary);border-radius:var(--radius-md);cursor:pointer;font-weight:500;transition:all .2s ease}.back-button:hover{background:var(--bg-interactive);color:var(--fill-primary)}.learning-screen{display:flex;flex-direction:column;height:100%;animation:fadeIn .5s ease}.learning-header{flex-shrink:0;padding:1.25rem 1.75rem;background:var(--bg-surface);border-radius:var(--radius-lg);margin-bottom:2rem;border:1px solid var(--border-primary);border-left:4px solid var(--accent-primary-dark)}.learning-header .topic-path{font-weight:600;color:var(--fill-primary);font-size:1.1rem}.learning-header .topic-path span{opacity:.7}.learning-header .topic-difficulty{font-size:.9rem;color:var(--fill-secondary);margin-top:.25rem}.learning-content-grid{display:grid;grid-template-columns:1fr .9fr;gap:2rem;flex-grow:1;min-height:0}.explanation-panel,.interaction-panel{display:flex;flex-direction:column;background:var(--bg-surface);border-radius:var(--radius-lg);overflow:hidden;border:1px solid var(--border-primary)}.panel-header{padding:1rem 1.5rem;border-bottom:1px solid var(--border-primary);flex-shrink:0}.panel-header h3{font-size:1.2rem;font-weight:600;color:var(--fill-primary)}.panel-content{padding:1.5rem;overflow-y:auto}.interaction-tabs{display:flex;padding:.5rem;background:var(--bg-deep-space);gap:.5rem}.interaction-tabs button{flex:1;padding:.75rem;background:transparent;border:none;color:var(--fill-secondary);font-size:.95rem;font-weight:600;cursor:pointer;border-radius:var(--radius-md);transition:all .2s}.interaction-tabs button:hover{background:var(--bg-interactive);color:var(--fill-primary)}.interaction-tabs button.active{background:var(--accent-primary);color:var(--accent-primary-text);font-weight:700}.interaction-content-panel{display:flex;flex-direction:column;gap:1rem;padding:1.5rem;overflow-y:auto;flex-grow:1}.interaction-content-panel textarea{width:100%;background:var(--bg-deep-space);border:1px solid var(--border-primary);border-radius:var(--radius-md);padding:1rem;color:var(--fill-primary);font-size:1rem;resize:vertical;transition:all .2s}.interaction-content-panel textarea:focus{outline:none;border-color:var(--border-secondary);background-color:var(--bg-surface)}.submit-button{padding:.8rem;background:var(--fill-primary);color:var(--bg-deep-space);font-weight:600;border:none;border-radius:var(--radius-md);cursor:pointer;transition:all .2s}.submit-button:hover:not(:disabled){opacity:.9}.submit-button:disabled{background:var(--bg-interactive);color:var(--fill-tertiary);cursor:not-allowed}.ai-feedback-box{padding:1.25rem;background:#2ecc711a;border-left:4px solid var(--accent-green);border-radius:var(--radius-sm)}.summary-suggestions-box{background-color:var(--bg-interactive);border-left:4px solid var(--accent-primary);padding:1rem 1.5rem;border-radius:var(--radius-md);animation:fadeIn .5s ease}.summary-suggestions-box h4{font-size:1rem;font-weight:600;color:var(--fill-primary);margin-bottom:.75rem}.summary-suggestions-box p{font-size:.9rem;color:var(--fill-secondary);margin-bottom:1rem}.summary-suggestions-box ul{list-style-type:none;padding:0;display:flex;flex-direction:column;gap:.75rem}.summary-suggestions-box li{color:var(--fill-primary);font-size:.95rem;padding-left:1.5rem;position:relative;line-height:1.5}.summary-suggestions-box li:before{content:"→";position:absolute;left:0;top:0;color:var(--accent-primary-dark);font-weight:700}.chat-panel{padding:0;gap:0}.chat-history{flex-grow:1;overflow-y:auto;padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem}.chat-message{display:flex;max-width:85%}.chat-message.user{align-self:flex-end}.chat-message.model{align-self:flex-start}.message-bubble{padding:.8rem 1.2rem;border-radius:18px;line-height:1.6}.chat-message.user .message-bubble{background:var(--accent-primary);color:var(--accent-primary-text);font-weight:600;border-bottom-right-radius:4px}.chat-message.model .message-bubble{background-color:var(--bg-interactive);border-bottom-left-radius:4px}.typing-indicator span{height:8px;width:8px;background-color:var(--fill-tertiary);border-radius:50%;display:inline-block;animation:wave 1.3s infinite;margin:0 2px}.typing-indicator span:nth-of-type(2){animation-delay:-1.1s}.typing-indicator span:nth-of-type(3){animation-delay:-.9s}.chat-input-form{display:flex;gap:.75rem;padding:1rem;border-top:1px solid var(--border-primary);background:var(--bg-surface);align-items:flex-end}.chat-input-form textarea{flex-grow:1;padding:.8rem 1rem;border-radius:var(--radius-md);border:1px solid var(--border-primary);background-color:var(--bg-deep-space);color:var(--fill-primary);resize:none;overflow-y:hidden;min-height:44px;max-height:150px;font-size:1rem}.chat-input-form textarea:focus{outline:none;border-color:var(--border-secondary)}.chat-input-form button{border:none;border-radius:var(--radius-md);cursor:pointer;color:var(--accent-primary-text);display:flex;align-items:center;justify-content:center;flex-shrink:0;width:44px;height:44px;background:var(--accent-primary);transition:all .2s ease}.chat-input-form button:disabled{background:var(--bg-interactive);cursor:not-allowed}.chat-input-form button:disabled svg{color:var(--fill-tertiary)}.chat-input-form button:hover:not(:disabled){opacity:.85}.panel-content,.ai-feedback-box,.message-bubble,.modal-section{line-height:1.7;color:var(--fill-primary)}.panel-content strong,.ai-feedback-box strong,.message-bubble strong,.modal-section strong{color:#fff;font-weight:600}.panel-content a,.ai-feedback-box a,.message-bubble a,.modal-section a{color:var(--accent-primary);text-decoration:none}.panel-content a:hover,.ai-feedback-box a:hover,.message-bubble a:hover,.modal-section a:hover{text-decoration:underline}.panel-content *:last-child,.ai-feedback-box *:last-child,.message-bubble *:last-child,.modal-section *:last-child{margin-bottom:0}.panel-content p,.ai-feedback-box p,.message-bubble p,.modal-section p{margin-bottom:1em;color:var(--fill-primary)}.panel-content h1,.panel-content h2,.panel-content h3{margin:1.2em 0 .8em;color:var(--fill-primary);font-weight:600;border:none;padding:0}.panel-content ul,.panel-content ol{padding-left:2em;margin-bottom:1em}.panel-content li{margin-bottom:.5em}.panel-content code{background-color:var(--bg-interactive);color:var(--korean-color);padding:.2em .4em;border-radius:4px;font-family:SF Mono,Courier New,Courier,monospace}.panel-content pre{background-color:var(--bg-deep-space);padding:1em;border-radius:8px;overflow-x:auto;margin-bottom:1em;border:1px solid var(--border-primary)}.chat-message.user .message-bubble,.chat-message.user .message-bubble p,.chat-message.user .message-bubble li,.chat-message.user .message-bubble strong{color:inherit}.summaries-screen{animation:fadeIn .5s ease}.summaries-header{margin-bottom:2rem}.summaries-header h2{font-size:2.2rem;font-weight:700;margin-bottom:.5rem}.summaries-header p{color:var(--fill-secondary);font-size:1.1rem}.filter-controls{display:flex;flex-wrap:wrap;gap:1rem;margin-top:1.5rem;align-items:center}.filter-group{display:flex;gap:.5rem;border:1px solid var(--border-primary);padding:.5rem;border-radius:var(--radius-lg);background:var(--bg-surface)}.filter-controls button{padding:.5rem 1rem;border-radius:var(--radius-md);border:1px solid transparent;background:transparent;color:var(--fill-secondary);font-weight:500;cursor:pointer;transition:all .2s}.filter-controls button:hover{color:var(--fill-primary)}.filter-controls button.active{background:var(--fill-primary);color:var(--bg-deep-space);border-color:var(--fill-primary);font-weight:600}.filter-controls button.korean.active{background-color:var(--korean-color);color:var(--accent-primary-text);border-color:var(--korean-color)}body.theme-korean .filter-controls button.korean.active,body.theme-english .filter-controls button.english.active,body.theme-math .filter-controls button.math.active,body.theme-social .filter-controls button.social.active,body.theme-science .filter-controls button.science.active{color:var(--accent-primary-text)}.summaries-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem}.summary-card{background:var(--bg-surface);border-radius:var(--radius-lg);padding:1.5rem;cursor:pointer;transition:all .2s ease-out;border:1px solid var(--border-primary);border-top:4px solid}.summary-card:hover{transform:translateY(-5px);border-color:var(--accent-primary);box-shadow:0 8px 25px #0003}.summary-card.korean{border-top-color:var(--korean-color)}.summary-card.english{border-top-color:var(--english-color)}.summary-card.math{border-top-color:var(--math-color)}.summary-card.social{border-top-color:var(--social-color)}.summary-card.science{border-top-color:var(--science-color)}.summary-card-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.75rem}.summary-card-header h3{font-size:1.2rem;margin-right:1rem;font-weight:600;color:var(--fill-primary)}.summary-card-header span{font-size:.8rem;font-weight:600;padding:.25rem .6rem;border-radius:var(--radius-lg);background:var(--bg-interactive);color:var(--fill-secondary)}.summary-card-path{font-size:.9rem;color:var(--fill-secondary);margin-bottom:1.25rem}.summary-card-summary{color:var(--fill-primary);margin-bottom:1.5rem;font-style:italic;opacity:.9}.summary-card-footer{display:flex;justify-content:space-between;font-size:.8rem;color:var(--fill-tertiary)}.empty-state{text-align:center;padding:4rem 2rem;background-color:var(--bg-surface);border-radius:var(--radius-lg)}.empty-state h3{font-size:1.5rem;margin-bottom:1rem;color:var(--fill-primary)}.empty-state p{color:var(--fill-secondary);margin-bottom:2rem}.empty-state button{display:inline-block;width:auto;padding:.8rem 1.5rem}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#0a0e1a99;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;justify-content:center;align-items:center;z-index:1000;animation:fadeIn .3s}.modal-content{background:var(--bg-surface);border:1px solid var(--border-primary);border-radius:var(--radius-lg);width:90%;max-width:800px;max-height:90vh;display:flex;flex-direction:column;box-shadow:var(--shadow-lg);animation:slideInUp .4s;border-top:4px solid}.modal-content.korean{border-top-color:var(--korean-color)}.modal-content.english{border-top-color:var(--english-color)}.modal-content.math{border-top-color:var(--math-color)}.modal-content.social{border-top-color:var(--social-color)}.modal-content.science{border-top-color:var(--science-color)}.modal-close-button{position:absolute;top:1rem;right:1rem;background:none;border:none;font-size:2rem;color:var(--fill-secondary);cursor:pointer;transition:color .2s}.modal-close-button:hover{color:var(--fill-primary)}.modal-header{padding:1.5rem 2rem;border-bottom:1px solid var(--border-primary)}.modal-header h3{font-size:1.3rem;font-weight:600;color:var(--fill-primary)}.modal-header p{font-size:.9rem;color:var(--fill-secondary);margin-top:.25rem}.modal-body{overflow-y:auto;padding:.5rem 2rem 2rem}.modal-body h4{font-size:1rem;margin:1.5rem 0 .75rem;color:var(--fill-secondary);font-weight:600}.modal-section{padding:1.5rem;border:1px solid var(--border-primary);border-radius:var(--radius-md);background:var(--bg-deep-space)}.modal-section.user-summary{white-space:pre-wrap}.modal-section.ai-feedback{background:#2ecc711a}.modal-footer{padding:1.25rem 2rem;border-top:1px solid var(--border-primary);display:flex;justify-content:flex-end;gap:.75rem;align-items:center;background-color:var(--bg-surface)}.delete-button{background:var(--accent-red);color:#fff;padding:.6rem 1.2rem;border:none;border-radius:var(--radius-md);cursor:pointer;transition:opacity .2s;font-weight:500}.delete-button:hover{opacity:.85}.review-button{background-color:transparent;color:var(--accent-primary);font-weight:600;padding:.6rem 1.2rem;border:1px solid var(--accent-primary);border-radius:var(--radius-md);cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;gap:.5rem;margin-right:auto}.review-button:hover:not(:disabled){background-color:var(--accent-primary);color:var(--accent-primary-text);box-shadow:0 0 10px -2px var(--accent-primary-glow)}.review-button:disabled{border-color:var(--border-primary);background:var(--bg-interactive);color:var(--fill-tertiary);cursor:not-allowed;box-shadow:none}.special-lecture-screen .selection-step{width:100%;max-width:800px}.special-lecture-screen .question-input-area{display:flex;flex-direction:column;gap:1rem}.special-lecture-screen .question-input-area textarea{width:100%;min-height:120px;background:var(--bg-surface);border:1px solid var(--border-primary);border-radius:var(--radius-md);padding:1rem;color:var(--fill-primary);font-size:1rem;resize:vertical}.special-lecture-screen .question-input-area textarea:focus{outline:none;border-color:var(--accent-primary)}.spinner{width:48px;height:48px;border-radius:50%;display:inline-block;border-top:4px solid var(--fill-primary);border-right:4px solid transparent;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes wave{0%,60%,to{transform:translateY(0)}30%{transform:translateY(-10px)}}.theme-selector{display:grid;grid-template-columns:repeat(5,1fr);gap:.75rem;padding:.25rem;background-color:var(--bg-deep-space);border-radius:var(--radius-md)}.theme-option{display:flex;flex-direction:column;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border-radius:var(--radius-md);border:2px solid transparent;transition:all .2s ease}.theme-option.active{border-color:var(--accent-primary);background-color:var(--bg-interactive)}.theme-option span{font-size:.8rem;font-weight:500;color:var(--fill-secondary)}.theme-option.active span{color:var(--fill-primary);font-weight:600}.theme-swatch{width:32px;height:32px;border-radius:50%;border:2px solid var(--bg-surface);box-shadow:var(--shadow-sm)}.learning-content-wrapper.mobile-view{display:none}@media (max-width: 1024px){.learning-content-grid.desktop-view{display:none}.learning-screen{height:100%}.learning-content-wrapper.mobile-view{display:flex;flex-direction:column;height:100%;min-height:0}.mobile-content-area{flex-grow:1;overflow-y:auto}.mobile-panel{background:transparent;border:none;border-radius:0;height:100%;display:flex;flex-direction:column}.mobile-panel .interaction-content-panel.chat-panel{height:100%}.mobile-panel .panel-content,.mobile-panel .interaction-content-panel{padding:1.5rem .5rem}.learning-mobile-tabs{display:flex;flex-shrink:0;background:var(--bg-surface);border-top:1px solid var(--border-primary);box-shadow:0 -2px 10px #0003}.learning-mobile-tabs button{flex:1;display:flex;flex-direction:column;align-items:center;gap:.2rem;padding:.5rem 0;border:none;background:transparent;color:var(--fill-secondary);font-size:.7rem;font-weight:500;cursor:pointer;transition:all .2s ease}.learning-mobile-tabs button svg{width:20px;height:20px;stroke:var(--fill-secondary);transition:all .2s ease;margin-bottom:2px}.learning-mobile-tabs button:hover{color:var(--fill-primary)}.learning-mobile-tabs button:hover svg{stroke:var(--fill-primary)}.learning-mobile-tabs button.active{color:var(--accent-primary)}.learning-mobile-tabs button.active svg{stroke:var(--accent-primary)}.interaction-panel{max-height:unset}}@media (max-width: 768px){.sidebar{position:fixed;top:0;left:0;height:100%;transform:translate(-100%);z-index:2000;background:var(--bg-deep-space)}.sidebar.is-open{transform:translate(0)}.mobile-menu-toggle{display:block;position:fixed;top:1rem;left:1rem;z-index:1500;background:var(--bg-surface);border:1px solid var(--border-primary);padding:.5rem;border-radius:var(--radius-md);color:var(--fill-primary)}.sidebar-overlay{display:block;position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;z-index:1999;animation:fadeIn .3s}.app-layout{flex-direction:column}.main-content{padding:5.5rem 1.5rem 1.5rem}.selection-screen,.special-lecture-screen,.settings-screen{padding:0}.selection-header h2,.special-lecture-screen h2,.settings-screen h2{font-size:2rem}.selection-header p,.special-lecture-screen p,.settings-screen p{padding:0 1rem;font-size:1rem}.learning-screen{padding-bottom:1rem}.learning-header{margin-bottom:1rem;padding:1rem 1.25rem}.subject-grid{grid-template-columns:1fr 1fr}}
