var LT=Object.defineProperty;var Em=n=>{throw TypeError(n)};var VT=(n,e,i)=>e in n?LT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var $e=(n,e,i)=>VT(n,typeof e!="symbol"?e+"":e,i),qT=(n,e,i)=>e.has(n)||Em("Cannot "+i);var Am=(n,e,i)=>e.has(n)?Em("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,i);var bo=(n,e,i)=>(qT(n,e,"access private method"),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const f of a)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(a){const f={};return a.integrity&&(f.integrity=a.integrity),a.referrerPolicy&&(f.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?f.credentials="include":a.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(a){if(a.ep)return;a.ep=!0;const f=i(a);fetch(a.href,f)}})();var Ou={exports:{}},Do={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function PT(){if(Mm)return Do;Mm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,a,f){var h=null;if(f!==void 0&&(h=""+f),a.key!==void 0&&(h=""+a.key),"key"in a){f={};for(var m in a)m!=="key"&&(f[m]=a[m])}else f=a;return a=f.ref,{$$typeof:n,type:o,key:h,ref:a!==void 0?a:null,props:f}}return Do.Fragment=e,Do.jsx=i,Do.jsxs=i,Do}var Rm;function zT(){return Rm||(Rm=1,Ou.exports=PT()),Ou.exports}var C=zT(),Fu={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function BT(){if(Nm)return ve;Nm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function x(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,L={};function G(A,q,J){this.props=A,this.context=q,this.refs=L,this.updater=J||M}G.prototype.isReactComponent={},G.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},G.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function H(){}H.prototype=G.prototype;function O(A,q,J){this.props=A,this.context=q,this.refs=L,this.updater=J||M}var Y=O.prototype=new H;Y.constructor=O,N(Y,G.prototype),Y.isPureReactComponent=!0;var W=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function $(A,q,J,Z,ne,Ae){return J=Ae.ref,{$$typeof:n,type:A,key:q,ref:J!==void 0?J:null,props:Ae}}function se(A,q){return $(A.type,q,void 0,void 0,void 0,A.props)}function X(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function ye(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(J){return q[J]})}var he=/\/+/g;function Te(A,q){return typeof A=="object"&&A!==null&&A.key!=null?ye(""+A.key):q.toString(36)}function We(){}function rt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(We,We):(A.status="pending",A.then(function(q){A.status==="pending"&&(A.status="fulfilled",A.value=q)},function(q){A.status==="pending"&&(A.status="rejected",A.reason=q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Le(A,q,J,Z,ne){var Ae=typeof A;(Ae==="undefined"||Ae==="boolean")&&(A=null);var fe=!1;if(A===null)fe=!0;else switch(Ae){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(A.$$typeof){case n:case e:fe=!0;break;case v:return fe=A._init,Le(fe(A._payload),q,J,Z,ne)}}if(fe)return ne=ne(A),fe=Z===""?"."+Te(A,0):Z,W(ne)?(J="",fe!=null&&(J=fe.replace(he,"$&/")+"/"),Le(ne,q,J,"",function(jt){return jt})):ne!=null&&(X(ne)&&(ne=se(ne,J+(ne.key==null||A&&A.key===ne.key?"":(""+ne.key).replace(he,"$&/")+"/")+fe)),q.push(ne)),1;fe=0;var St=Z===""?".":Z+":";if(W(A))for(var Ye=0;Ye<A.length;Ye++)Z=A[Ye],Ae=St+Te(Z,Ye),fe+=Le(Z,q,J,Ae,ne);else if(Ye=x(A),typeof Ye=="function")for(A=Ye.call(A),Ye=0;!(Z=A.next()).done;)Z=Z.value,Ae=St+Te(Z,Ye++),fe+=Le(Z,q,J,Ae,ne);else if(Ae==="object"){if(typeof A.then=="function")return Le(rt(A),q,J,Z,ne);throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return fe}function V(A,q,J){if(A==null)return A;var Z=[],ne=0;return Le(A,Z,"","",function(Ae){return q.call(J,Ae,ne++)}),Z}function K(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(J){(A._status===0||A._status===-1)&&(A._status=1,A._result=J)},function(J){(A._status===0||A._status===-1)&&(A._status=2,A._result=J)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var re=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function De(){}return ve.Children={map:V,forEach:function(A,q,J){V(A,function(){q.apply(this,arguments)},J)},count:function(A){var q=0;return V(A,function(){q++}),q},toArray:function(A){return V(A,function(q){return q})||[]},only:function(A){if(!X(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ve.Component=G,ve.Fragment=i,ve.Profiler=a,ve.PureComponent=O,ve.StrictMode=o,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ve.__COMPILER_RUNTIME={__proto__:null,c:function(A){return I.H.useMemoCache(A)}},ve.cache=function(A){return function(){return A.apply(null,arguments)}},ve.cloneElement=function(A,q,J){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Z=N({},A.props),ne=A.key,Ae=void 0;if(q!=null)for(fe in q.ref!==void 0&&(Ae=void 0),q.key!==void 0&&(ne=""+q.key),q)!oe.call(q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&q.ref===void 0||(Z[fe]=q[fe]);var fe=arguments.length-2;if(fe===1)Z.children=J;else if(1<fe){for(var St=Array(fe),Ye=0;Ye<fe;Ye++)St[Ye]=arguments[Ye+2];Z.children=St}return $(A.type,ne,void 0,void 0,Ae,Z)},ve.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:f,_context:A},A},ve.createElement=function(A,q,J){var Z,ne={},Ae=null;if(q!=null)for(Z in q.key!==void 0&&(Ae=""+q.key),q)oe.call(q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ne[Z]=q[Z]);var fe=arguments.length-2;if(fe===1)ne.children=J;else if(1<fe){for(var St=Array(fe),Ye=0;Ye<fe;Ye++)St[Ye]=arguments[Ye+2];ne.children=St}if(A&&A.defaultProps)for(Z in fe=A.defaultProps,fe)ne[Z]===void 0&&(ne[Z]=fe[Z]);return $(A,Ae,void 0,void 0,null,ne)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(A){return{$$typeof:m,render:A}},ve.isValidElement=X,ve.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:K}},ve.memo=function(A,q){return{$$typeof:p,type:A,compare:q===void 0?null:q}},ve.startTransition=function(A){var q=I.T,J={};I.T=J;try{var Z=A(),ne=I.S;ne!==null&&ne(J,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(De,re)}catch(Ae){re(Ae)}finally{I.T=q}},ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ve.use=function(A){return I.H.use(A)},ve.useActionState=function(A,q,J){return I.H.useActionState(A,q,J)},ve.useCallback=function(A,q){return I.H.useCallback(A,q)},ve.useContext=function(A){return I.H.useContext(A)},ve.useDebugValue=function(){},ve.useDeferredValue=function(A,q){return I.H.useDeferredValue(A,q)},ve.useEffect=function(A,q,J){var Z=I.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(A,q)},ve.useId=function(){return I.H.useId()},ve.useImperativeHandle=function(A,q,J){return I.H.useImperativeHandle(A,q,J)},ve.useInsertionEffect=function(A,q){return I.H.useInsertionEffect(A,q)},ve.useLayoutEffect=function(A,q){return I.H.useLayoutEffect(A,q)},ve.useMemo=function(A,q){return I.H.useMemo(A,q)},ve.useOptimistic=function(A,q){return I.H.useOptimistic(A,q)},ve.useReducer=function(A,q,J){return I.H.useReducer(A,q,J)},ve.useRef=function(A){return I.H.useRef(A)},ve.useState=function(A){return I.H.useState(A)},ve.useSyncExternalStore=function(A,q,J){return I.H.useSyncExternalStore(A,q,J)},ve.useTransition=function(){return I.H.useTransition()},ve.version="19.1.0",ve}var wm;function yc(){return wm||(wm=1,Fu.exports=BT()),Fu.exports}var j=yc(),Yu={exports:{}},ko={},Ju={exports:{}},$u={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function GT(){return bm||(bm=1,function(n){function e(V,K){var re=V.length;V.push(K);e:for(;0<re;){var De=re-1>>>1,A=V[De];if(0<a(A,K))V[De]=K,V[re]=A,re=De;else break e}}function i(V){return V.length===0?null:V[0]}function o(V){if(V.length===0)return null;var K=V[0],re=V.pop();if(re!==K){V[0]=re;e:for(var De=0,A=V.length,q=A>>>1;De<q;){var J=2*(De+1)-1,Z=V[J],ne=J+1,Ae=V[ne];if(0>a(Z,re))ne<A&&0>a(Ae,Z)?(V[De]=Ae,V[ne]=re,De=ne):(V[De]=Z,V[J]=re,De=J);else if(ne<A&&0>a(Ae,re))V[De]=Ae,V[ne]=re,De=ne;else break e}}return K}function a(V,K){var re=V.sortIndex-K.sortIndex;return re!==0?re:V.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var y=[],p=[],v=1,S=null,x=3,M=!1,N=!1,L=!1,G=!1,H=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function W(V){for(var K=i(p);K!==null;){if(K.callback===null)o(p);else if(K.startTime<=V)o(p),K.sortIndex=K.expirationTime,e(y,K);else break;K=i(p)}}function I(V){if(L=!1,W(V),!N)if(i(y)!==null)N=!0,oe||(oe=!0,Te());else{var K=i(p);K!==null&&Le(I,K.startTime-V)}}var oe=!1,$=-1,se=5,X=-1;function ye(){return G?!0:!(n.unstable_now()-X<se)}function he(){if(G=!1,oe){var V=n.unstable_now();X=V;var K=!0;try{e:{N=!1,L&&(L=!1,O($),$=-1),M=!0;var re=x;try{t:{for(W(V),S=i(y);S!==null&&!(S.expirationTime>V&&ye());){var De=S.callback;if(typeof De=="function"){S.callback=null,x=S.priorityLevel;var A=De(S.expirationTime<=V);if(V=n.unstable_now(),typeof A=="function"){S.callback=A,W(V),K=!0;break t}S===i(y)&&o(y),W(V)}else o(y);S=i(y)}if(S!==null)K=!0;else{var q=i(p);q!==null&&Le(I,q.startTime-V),K=!1}}break e}finally{S=null,x=re,M=!1}K=void 0}}finally{K?Te():oe=!1}}}var Te;if(typeof Y=="function")Te=function(){Y(he)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,rt=We.port2;We.port1.onmessage=he,Te=function(){rt.postMessage(null)}}else Te=function(){H(he,0)};function Le(V,K){$=H(function(){V(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(V){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var re=x;x=K;try{return V()}finally{x=re}},n.unstable_requestPaint=function(){G=!0},n.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=x;x=V;try{return K()}finally{x=re}},n.unstable_scheduleCallback=function(V,K,re){var De=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?De+re:De):re=De,V){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=re+A,V={id:v++,callback:K,priorityLevel:V,startTime:re,expirationTime:A,sortIndex:-1},re>De?(V.sortIndex=re,e(p,V),i(y)===null&&V===i(p)&&(L?(O($),$=-1):L=!0,Le(I,re-De))):(V.sortIndex=A,e(y,V),N||M||(N=!0,oe||(oe=!0,Te()))),V},n.unstable_shouldYield=ye,n.unstable_wrapCallback=function(V){var K=x;return function(){var re=x;x=K;try{return V.apply(this,arguments)}finally{x=re}}}}($u)),$u}var Dm;function HT(){return Dm||(Dm=1,Ju.exports=GT()),Ju.exports}var Zu={exports:{}},vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function OT(){if(km)return vt;km=1;var n=yc();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function f(y,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:y,containerInfo:p,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,vt.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return f(y,p,null,v)},vt.flushSync=function(y){var p=h.T,v=o.p;try{if(h.T=null,o.p=2,y)return y()}finally{h.T=p,o.p=v,o.d.f()}},vt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(y,p))},vt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},vt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,S=m(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?o.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:M}):v==="script"&&o.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);o.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(y)},vt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=m(v,p.crossOrigin);o.d.L(y,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vt.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=m(p.as,p.crossOrigin);o.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(y)},vt.requestFormReset=function(y){o.d.r(y)},vt.unstable_batchedUpdates=function(y,p){return y(p)},vt.useFormState=function(y,p,v){return h.H.useFormState(y,p,v)},vt.useFormStatus=function(){return h.H.useHostTransitionStatus()},vt.version="19.1.0",vt}var Um;function FT(){if(Um)return Zu.exports;Um=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zu.exports=OT(),Zu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function YT(){if(Im)return ko;Im=1;var n=HT(),e=yc(),i=FT();function o(t){var l="https://react.dev/errors/"+t;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)l+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var l=t,s=t;if(t.alternate)for(;l.return;)l=l.return;else{t=l;do l=t,(l.flags&4098)!==0&&(s=l.return),t=l.return;while(t)}return l.tag===3?s:null}function h(t){if(t.tag===13){var l=t.memoizedState;if(l===null&&(t=t.alternate,t!==null&&(l=t.memoizedState)),l!==null)return l.dehydrated}return null}function m(t){if(f(t)!==t)throw Error(o(188))}function y(t){var l=t.alternate;if(!l){if(l=f(t),l===null)throw Error(o(188));return l!==t?null:t}for(var s=t,c=l;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return m(d),t;if(g===c)return m(d),l;g=g.sibling}throw Error(o(188))}if(s.return!==c.return)s=d,c=g;else{for(var T=!1,_=d.child;_;){if(_===s){T=!0,s=d,c=g;break}if(_===c){T=!0,c=d,s=g;break}_=_.sibling}if(!T){for(_=g.child;_;){if(_===s){T=!0,s=g,c=d;break}if(_===c){T=!0,c=g,s=d;break}_=_.sibling}if(!T)throw Error(o(189))}}if(s.alternate!==c)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?t:l}function p(t){var l=t.tag;if(l===5||l===26||l===27||l===6)return t;for(t=t.child;t!==null;){if(l=p(t),l!==null)return l;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function Te(t){return t===null||typeof t!="object"?null:(t=he&&t[he]||t["@@iterator"],typeof t=="function"?t:null)}var We=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===We?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case G:return"Profiler";case L:return"StrictMode";case I:return"Suspense";case oe:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case Y:return(t.displayName||"Context")+".Provider";case O:return(t._context.displayName||"Context")+".Consumer";case W:var l=t.render;return t=t.displayName,t||(t=l.displayName||l.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return l=t.displayName||null,l!==null?l:rt(t.type)||"Memo";case se:l=t._payload,t=t._init;try{return rt(t(l))}catch{}}return null}var Le=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},De=[],A=-1;function q(t){return{current:t}}function J(t){0>A||(t.current=De[A],De[A]=null,A--)}function Z(t,l){A++,De[A]=t.current,t.current=l}var ne=q(null),Ae=q(null),fe=q(null),St=q(null);function Ye(t,l){switch(Z(fe,l),Z(Ae,t),Z(ne,null),l.nodeType){case 9:case 11:t=(t=l.documentElement)&&(t=t.namespaceURI)?Wh(t):0;break;default:if(t=l.tagName,l=l.namespaceURI)l=Wh(l),t=jh(l,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ne),Z(ne,t)}function jt(){J(ne),J(Ae),J(fe)}function ue(t){t.memoizedState!==null&&Z(St,t);var l=ne.current,s=jh(l,t.type);l!==s&&(Z(Ae,t),Z(ne,s))}function Me(t){Ae.current===t&&(J(ne),J(Ae)),St.current===t&&(J(St),Ao._currentValue=re)}var Ne=Object.prototype.hasOwnProperty,Oe=n.unstable_scheduleCallback,Ke=n.unstable_cancelCallback,en=n.unstable_shouldYield,ki=n.unstable_requestPaint,Nt=n.unstable_now,Da=n.unstable_getCurrentPriorityLevel,Dc=n.unstable_ImmediatePriority,kc=n.unstable_UserBlockingPriority,Zo=n.unstable_NormalPriority,gy=n.unstable_LowPriority,Uc=n.unstable_IdlePriority,yy=n.log,vy=n.unstable_setDisableYieldValue,kl=null,wt=null;function kn(t){if(typeof yy=="function"&&vy(t),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(kl,t)}catch{}}var bt=Math.clz32?Math.clz32:Cy,Ty=Math.log,Sy=Math.LN2;function Cy(t){return t>>>=0,t===0?32:31-(Ty(t)/Sy|0)|0}var Ko=256,Qo=4194304;function si(t){var l=t&42;if(l!==0)return l;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xo(t,l,s){var c=t.pendingLanes;if(c===0)return 0;var d=0,g=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var _=c&134217727;return _!==0?(c=_&~g,c!==0?d=si(c):(T&=_,T!==0?d=si(T):s||(s=_&~t,s!==0&&(d=si(s))))):(_=c&~g,_!==0?d=si(_):T!==0?d=si(T):s||(s=c&~t,s!==0&&(d=si(s)))),d===0?0:l!==0&&l!==d&&(l&g)===0&&(g=d&-d,s=l&-l,g>=s||g===32&&(s&4194048)!==0)?l:d}function Ul(t,l){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&l)===0}function _y(t,l){switch(t){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ic(){var t=Ko;return Ko<<=1,(Ko&4194048)===0&&(Ko=256),t}function Lc(){var t=Qo;return Qo<<=1,(Qo&62914560)===0&&(Qo=4194304),t}function ka(t){for(var l=[],s=0;31>s;s++)l.push(t);return l}function Il(t,l){t.pendingLanes|=l,l!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xy(t,l,s,c,d,g){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var _=t.entanglements,E=t.expirationTimes,D=t.hiddenUpdates;for(s=T&~s;0<s;){var P=31-bt(s),B=1<<P;_[P]=0,E[P]=-1;var k=D[P];if(k!==null)for(D[P]=null,P=0;P<k.length;P++){var U=k[P];U!==null&&(U.lane&=-536870913)}s&=~B}c!==0&&Vc(t,c,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(T&~l))}function Vc(t,l,s){t.pendingLanes|=l,t.suspendedLanes&=~l;var c=31-bt(l);t.entangledLanes|=l,t.entanglements[c]=t.entanglements[c]|1073741824|s&4194090}function qc(t,l){var s=t.entangledLanes|=l;for(t=t.entanglements;s;){var c=31-bt(s),d=1<<c;d&l|t[c]&l&&(t[c]|=l),s&=~d}}function Ua(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ia(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pc(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:vm(t.type))}function Ey(t,l){var s=K.p;try{return K.p=t,l()}finally{K.p=s}}var Un=Math.random().toString(36).slice(2),gt="__reactFiber$"+Un,xt="__reactProps$"+Un,Ui="__reactContainer$"+Un,La="__reactEvents$"+Un,Ay="__reactListeners$"+Un,My="__reactHandles$"+Un,zc="__reactResources$"+Un,Ll="__reactMarker$"+Un;function Va(t){delete t[gt],delete t[xt],delete t[La],delete t[Ay],delete t[My]}function Ii(t){var l=t[gt];if(l)return l;for(var s=t.parentNode;s;){if(l=s[Ui]||s[gt]){if(s=l.alternate,l.child!==null||s!==null&&s.child!==null)for(t=im(t);t!==null;){if(s=t[gt])return s;t=im(t)}return l}t=s,s=t.parentNode}return null}function Li(t){if(t=t[gt]||t[Ui]){var l=t.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return t}return null}function Vl(t){var l=t.tag;if(l===5||l===26||l===27||l===6)return t.stateNode;throw Error(o(33))}function Vi(t){var l=t[zc];return l||(l=t[zc]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ut(t){t[Ll]=!0}var Bc=new Set,Gc={};function ai(t,l){qi(t,l),qi(t+"Capture",l)}function qi(t,l){for(Gc[t]=l,t=0;t<l.length;t++)Bc.add(l[t])}var Ry=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hc={},Oc={};function Ny(t){return Ne.call(Oc,t)?!0:Ne.call(Hc,t)?!1:Ry.test(t)?Oc[t]=!0:(Hc[t]=!0,!1)}function Wo(t,l,s){if(Ny(l))if(s===null)t.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(l);return;case"boolean":var c=l.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(l);return}}t.setAttribute(l,""+s)}}function jo(t,l,s){if(s===null)t.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttribute(l,""+s)}}function hn(t,l,s,c){if(c===null)t.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(l,s,""+c)}}var qa,Fc;function Pi(t){if(qa===void 0)try{throw Error()}catch(s){var l=s.stack.trim().match(/\n( *(at )?)/);qa=l&&l[1]||"",Fc=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+t+Fc}var Pa=!1;function za(t,l){if(!t||Pa)return"";Pa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(l){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(U){var k=U}Reflect.construct(t,[],B)}else{try{B.call()}catch(U){k=U}t.call(B.prototype)}}else{try{throw Error()}catch(U){k=U}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(U){if(U&&k&&typeof U.stack=="string")return[U.stack,k.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],_=g[1];if(T&&_){var E=T.split(`
`),D=_.split(`
`);for(d=c=0;c<E.length&&!E[c].includes("DetermineComponentFrameRoot");)c++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(c===E.length||d===D.length)for(c=E.length-1,d=D.length-1;1<=c&&0<=d&&E[c]!==D[d];)d--;for(;1<=c&&0<=d;c--,d--)if(E[c]!==D[d]){if(c!==1||d!==1)do if(c--,d--,0>d||E[c]!==D[d]){var P=`
`+E[c].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=c&&0<=d);break}}}finally{Pa=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Pi(s):""}function wy(t){switch(t.tag){case 26:case 27:case 5:return Pi(t.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return za(t.type,!1);case 11:return za(t.type.render,!1);case 1:return za(t.type,!0);case 31:return Pi("Activity");default:return""}}function Yc(t){try{var l="";do l+=wy(t),t=t.return;while(t);return l}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jc(t){var l=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function by(t){var l=Jc(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,l),c=""+t[l];if(!t.hasOwnProperty(l)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,l,{configurable:!0,get:function(){return d.call(this)},set:function(T){c=""+T,g.call(this,T)}}),Object.defineProperty(t,l,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){t._valueTracker=null,delete t[l]}}}}function es(t){t._valueTracker||(t._valueTracker=by(t))}function $c(t){if(!t)return!1;var l=t._valueTracker;if(!l)return!0;var s=l.getValue(),c="";return t&&(c=Jc(t)?t.checked?"true":"false":t.value),t=c,t!==s?(l.setValue(t),!0):!1}function ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dy=/[\n"\\]/g;function Bt(t){return t.replace(Dy,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ba(t,l,s,c,d,g,T,_){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),l!=null?T==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+zt(l)):t.value!==""+zt(l)&&(t.value=""+zt(l)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),l!=null?Ga(t,T,zt(l)):s!=null?Ga(t,T,zt(s)):c!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+zt(_):t.removeAttribute("name")}function Zc(t,l,s,c,d,g,T,_){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),l!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||l!=null))return;s=s!=null?""+zt(s):"",l=l!=null?""+zt(l):s,_||l===t.value||(t.value=l),t.defaultValue=l}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=_?t.checked:!!c,t.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Ga(t,l,s){l==="number"&&ts(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function zi(t,l,s,c){if(t=t.options,l){l={};for(var d=0;d<s.length;d++)l["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=l.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&c&&(t[s].defaultSelected=!0)}else{for(s=""+zt(s),l=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}l!==null||t[d].disabled||(l=t[d])}l!==null&&(l.selected=!0)}}function Kc(t,l,s){if(l!=null&&(l=""+zt(l),l!==t.value&&(t.value=l),s==null)){t.defaultValue!==l&&(t.defaultValue=l);return}t.defaultValue=s!=null?""+zt(s):""}function Qc(t,l,s,c){if(l==null){if(c!=null){if(s!=null)throw Error(o(92));if(Le(c)){if(1<c.length)throw Error(o(93));c=c[0]}s=c}s==null&&(s=""),l=s}s=zt(l),t.defaultValue=s,c=t.textContent,c===s&&c!==""&&c!==null&&(t.value=c)}function Bi(t,l){if(l){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=l;return}}t.textContent=l}var ky=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xc(t,l,s){var c=l.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="":c?t.setProperty(l,s):typeof s!="number"||s===0||ky.has(l)?l==="float"?t.cssFloat=s:t[l]=(""+s).trim():t[l]=s+"px"}function Wc(t,l,s){if(l!=null&&typeof l!="object")throw Error(o(62));if(t=t.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||l!=null&&l.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var d in l)c=l[d],l.hasOwnProperty(d)&&s[d]!==c&&Xc(t,d,c)}else for(var g in l)l.hasOwnProperty(g)&&Xc(t,g,l[g])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ns(t){return Iy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Oa=null;function Fa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gi=null,Hi=null;function jc(t){var l=Li(t);if(l&&(t=l.stateNode)){var s=t[xt]||null;e:switch(t=l.stateNode,l.type){case"input":if(Ba(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),l=s.name,s.type==="radio"&&l!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Bt(""+l)+'"][type="radio"]'),l=0;l<s.length;l++){var c=s[l];if(c!==t&&c.form===t.form){var d=c[xt]||null;if(!d)throw Error(o(90));Ba(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(l=0;l<s.length;l++)c=s[l],c.form===t.form&&$c(c)}break e;case"textarea":Kc(t,s.value,s.defaultValue);break e;case"select":l=s.value,l!=null&&zi(t,!!s.multiple,l,!1)}}}var Ya=!1;function ef(t,l,s){if(Ya)return t(l,s);Ya=!0;try{var c=t(l);return c}finally{if(Ya=!1,(Gi!==null||Hi!==null)&&(Gs(),Gi&&(l=Gi,t=Hi,Hi=Gi=null,jc(l),t)))for(l=0;l<t.length;l++)jc(t[l])}}function ql(t,l){var s=t.stateNode;if(s===null)return null;var c=s[xt]||null;if(c===null)return null;s=c[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(o(231,l,typeof s));return s}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=!1;if(mn)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Ja=!1}var In=null,$a=null,is=null;function tf(){if(is)return is;var t,l=$a,s=l.length,c,d="value"in In?In.value:In.textContent,g=d.length;for(t=0;t<s&&l[t]===d[t];t++);var T=s-t;for(c=1;c<=T&&l[s-c]===d[g-c];c++);return is=d.slice(t,1<c?1-c:void 0)}function ls(t){var l=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&l===13&&(t=13)):t=l,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function nf(){return!1}function Et(t){function l(s,c,d,g,T){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(s=t[_],this[_]=s?s(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?os:nf,this.isPropagationStopped=nf,this}return v(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),l}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=Et(ri),zl=v({},ri,{view:0,detail:0}),Ly=Et(zl),Za,Ka,Bl,as=v({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bl&&(Bl&&t.type==="mousemove"?(Za=t.screenX-Bl.screenX,Ka=t.screenY-Bl.screenY):Ka=Za=0,Bl=t),Za)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),lf=Et(as),Vy=v({},as,{dataTransfer:0}),qy=Et(Vy),Py=v({},zl,{relatedTarget:0}),Qa=Et(Py),zy=v({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),By=Et(zy),Gy=v({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hy=Et(Gy),Oy=v({},ri,{data:0}),of=Et(Oy),Fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $y(t){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(t):(t=Jy[t])?!!l[t]:!1}function Xa(){return $y}var Zy=v({},zl,{key:function(t){if(t.key){var l=Fy[t.key]||t.key;if(l!=="Unidentified")return l}return t.type==="keypress"?(t=ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(t){return t.type==="keypress"?ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ky=Et(Zy),Qy=v({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=Et(Qy),Xy=v({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Wy=Et(Xy),jy=v({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),ev=Et(jy),tv=v({},as,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nv=Et(tv),iv=v({},ri,{newState:0,oldState:0}),lv=Et(iv),ov=[9,13,27,32],Wa=mn&&"CompositionEvent"in window,Gl=null;mn&&"documentMode"in document&&(Gl=document.documentMode);var sv=mn&&"TextEvent"in window&&!Gl,af=mn&&(!Wa||Gl&&8<Gl&&11>=Gl),rf=" ",uf=!1;function cf(t,l){switch(t){case"keyup":return ov.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ff(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oi=!1;function av(t,l){switch(t){case"compositionend":return ff(l);case"keypress":return l.which!==32?null:(uf=!0,rf);case"textInput":return t=l.data,t===rf&&uf?null:t;default:return null}}function rv(t,l){if(Oi)return t==="compositionend"||!Wa&&cf(t,l)?(t=tf(),is=$a=In=null,Oi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return af&&l.locale!=="ko"?null:l.data;default:return null}}var uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(t){var l=t&&t.nodeName&&t.nodeName.toLowerCase();return l==="input"?!!uv[t.type]:l==="textarea"}function hf(t,l,s,c){Gi?Hi?Hi.push(c):Hi=[c]:Gi=c,l=$s(l,"onChange"),0<l.length&&(s=new ss("onChange","change",null,s,c),t.push({event:s,listeners:l}))}var Hl=null,Ol=null;function cv(t){$h(t,0)}function rs(t){var l=Vl(t);if($c(l))return t}function mf(t,l){if(t==="change")return l}var pf=!1;if(mn){var ja;if(mn){var er="oninput"in document;if(!er){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),er=typeof gf.oninput=="function"}ja=er}else ja=!1;pf=ja&&(!document.documentMode||9<document.documentMode)}function yf(){Hl&&(Hl.detachEvent("onpropertychange",vf),Ol=Hl=null)}function vf(t){if(t.propertyName==="value"&&rs(Ol)){var l=[];hf(l,Ol,t,Fa(t)),ef(cv,l)}}function fv(t,l,s){t==="focusin"?(yf(),Hl=l,Ol=s,Hl.attachEvent("onpropertychange",vf)):t==="focusout"&&yf()}function dv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rs(Ol)}function hv(t,l){if(t==="click")return rs(l)}function mv(t,l){if(t==="input"||t==="change")return rs(l)}function pv(t,l){return t===l&&(t!==0||1/t===1/l)||t!==t&&l!==l}var Dt=typeof Object.is=="function"?Object.is:pv;function Fl(t,l){if(Dt(t,l))return!0;if(typeof t!="object"||t===null||typeof l!="object"||l===null)return!1;var s=Object.keys(t),c=Object.keys(l);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!Ne.call(l,d)||!Dt(t[d],l[d]))return!1}return!0}function Tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sf(t,l){var s=Tf(t);t=0;for(var c;s;){if(s.nodeType===3){if(c=t+s.textContent.length,t<=l&&c>=l)return{node:s,offset:l-t};t=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Tf(s)}}function Cf(t,l){return t&&l?t===l?!0:t&&t.nodeType===3?!1:l&&l.nodeType===3?Cf(t,l.parentNode):"contains"in t?t.contains(l):t.compareDocumentPosition?!!(t.compareDocumentPosition(l)&16):!1:!1}function _f(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var l=ts(t.document);l instanceof t.HTMLIFrameElement;){try{var s=typeof l.contentWindow.location.href=="string"}catch{s=!1}if(s)t=l.contentWindow;else break;l=ts(t.document)}return l}function tr(t){var l=t&&t.nodeName&&t.nodeName.toLowerCase();return l&&(l==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||l==="textarea"||t.contentEditable==="true")}var gv=mn&&"documentMode"in document&&11>=document.documentMode,Fi=null,nr=null,Yl=null,ir=!1;function xf(t,l,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ir||Fi==null||Fi!==ts(c)||(c=Fi,"selectionStart"in c&&tr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yl&&Fl(Yl,c)||(Yl=c,c=$s(nr,"onSelect"),0<c.length&&(l=new ss("onSelect","select",null,l,s),t.push({event:l,listeners:c}),l.target=Fi)))}function ui(t,l){var s={};return s[t.toLowerCase()]=l.toLowerCase(),s["Webkit"+t]="webkit"+l,s["Moz"+t]="moz"+l,s}var Yi={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},lr={},Ef={};mn&&(Ef=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function ci(t){if(lr[t])return lr[t];if(!Yi[t])return t;var l=Yi[t],s;for(s in l)if(l.hasOwnProperty(s)&&s in Ef)return lr[t]=l[s];return t}var Af=ci("animationend"),Mf=ci("animationiteration"),Rf=ci("animationstart"),yv=ci("transitionrun"),vv=ci("transitionstart"),Tv=ci("transitioncancel"),Nf=ci("transitionend"),wf=new Map,or="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");or.push("scrollEnd");function Qt(t,l){wf.set(t,l),ai(l,[t])}var bf=new WeakMap;function Gt(t,l){if(typeof t=="object"&&t!==null){var s=bf.get(t);return s!==void 0?s:(l={value:t,source:l,stack:Yc(l)},bf.set(t,l),l)}return{value:t,source:l,stack:Yc(l)}}var Ht=[],Ji=0,sr=0;function us(){for(var t=Ji,l=sr=Ji=0;l<t;){var s=Ht[l];Ht[l++]=null;var c=Ht[l];Ht[l++]=null;var d=Ht[l];Ht[l++]=null;var g=Ht[l];if(Ht[l++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}g!==0&&Df(s,d,g)}}function cs(t,l,s,c){Ht[Ji++]=t,Ht[Ji++]=l,Ht[Ji++]=s,Ht[Ji++]=c,sr|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function ar(t,l,s,c){return cs(t,l,s,c),fs(t)}function $i(t,l){return cs(t,null,null,l),fs(t)}function Df(t,l,s){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s);for(var d=!1,g=t.return;g!==null;)g.childLanes|=s,c=g.alternate,c!==null&&(c.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&l!==null&&(d=31-bt(s),t=g.hiddenUpdates,c=t[d],c===null?t[d]=[l]:c.push(l),l.lane=s|536870912),g):null}function fs(t){if(50<yo)throw yo=0,hu=null,Error(o(185));for(var l=t.return;l!==null;)t=l,l=t.return;return t.tag===3?t.stateNode:null}var Zi={};function Sv(t,l,s,c){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,l,s,c){return new Sv(t,l,s,c)}function rr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pn(t,l){var s=t.alternate;return s===null?(s=kt(t.tag,l,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=l,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,l=t.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function kf(t,l){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=l,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,l=s.dependencies,t.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),t}function ds(t,l,s,c,d,g){var T=0;if(c=t,typeof t=="function")rr(t)&&(T=1);else if(typeof t=="string")T=_T(t,s,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X:return t=kt(31,s,l,d),t.elementType=X,t.lanes=g,t;case N:return fi(s.children,d,g,l);case L:T=8,d|=24;break;case G:return t=kt(12,s,l,d|2),t.elementType=G,t.lanes=g,t;case I:return t=kt(13,s,l,d),t.elementType=I,t.lanes=g,t;case oe:return t=kt(19,s,l,d),t.elementType=oe,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case Y:T=10;break e;case O:T=9;break e;case W:T=11;break e;case $:T=14;break e;case se:T=16,c=null;break e}T=29,s=Error(o(130,t===null?"null":typeof t,"")),c=null}return l=kt(T,s,l,d),l.elementType=t,l.type=c,l.lanes=g,l}function fi(t,l,s,c){return t=kt(7,t,c,l),t.lanes=s,t}function ur(t,l,s){return t=kt(6,t,null,l),t.lanes=s,t}function cr(t,l,s){return l=kt(4,t.children!==null?t.children:[],t.key,l),l.lanes=s,l.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},l}var Ki=[],Qi=0,hs=null,ms=0,Ot=[],Ft=0,di=null,gn=1,yn="";function hi(t,l){Ki[Qi++]=ms,Ki[Qi++]=hs,hs=t,ms=l}function Uf(t,l,s){Ot[Ft++]=gn,Ot[Ft++]=yn,Ot[Ft++]=di,di=t;var c=gn;t=yn;var d=32-bt(c)-1;c&=~(1<<d),s+=1;var g=32-bt(l)+d;if(30<g){var T=d-d%5;g=(c&(1<<T)-1).toString(32),c>>=T,d-=T,gn=1<<32-bt(l)+d|s<<d|c,yn=g+t}else gn=1<<g|s<<d|c,yn=t}function fr(t){t.return!==null&&(hi(t,1),Uf(t,1,0))}function dr(t){for(;t===hs;)hs=Ki[--Qi],Ki[Qi]=null,ms=Ki[--Qi],Ki[Qi]=null;for(;t===di;)di=Ot[--Ft],Ot[Ft]=null,yn=Ot[--Ft],Ot[Ft]=null,gn=Ot[--Ft],Ot[Ft]=null}var Ct=null,je=null,Ie=!1,mi=null,tn=!1,hr=Error(o(519));function pi(t){var l=Error(o(418,""));throw Zl(Gt(l,t)),hr}function If(t){var l=t.stateNode,s=t.type,c=t.memoizedProps;switch(l[gt]=t,l[xt]=c,s){case"dialog":Ee("cancel",l),Ee("close",l);break;case"iframe":case"object":case"embed":Ee("load",l);break;case"video":case"audio":for(s=0;s<To.length;s++)Ee(To[s],l);break;case"source":Ee("error",l);break;case"img":case"image":case"link":Ee("error",l),Ee("load",l);break;case"details":Ee("toggle",l);break;case"input":Ee("invalid",l),Zc(l,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),es(l);break;case"select":Ee("invalid",l);break;case"textarea":Ee("invalid",l),Qc(l,c.value,c.defaultValue,c.children),es(l)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||l.textContent===""+s||c.suppressHydrationWarning===!0||Xh(l.textContent,s)?(c.popover!=null&&(Ee("beforetoggle",l),Ee("toggle",l)),c.onScroll!=null&&Ee("scroll",l),c.onScrollEnd!=null&&Ee("scrollend",l),c.onClick!=null&&(l.onclick=Zs),l=!0):l=!1,l||pi(t)}function Lf(t){for(Ct=t.return;Ct;)switch(Ct.tag){case 5:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:Ct=Ct.return}}function Jl(t){if(t!==Ct)return!1;if(!Ie)return Lf(t),Ie=!0,!1;var l=t.tag,s;if((s=l!==3&&l!==27)&&((s=l===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||wu(t.type,t.memoizedProps)),s=!s),s&&je&&pi(t),Lf(t),l===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,l=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(l===0){je=Wt(t.nextSibling);break e}l--}else s!=="$"&&s!=="$!"&&s!=="$?"||l++;t=t.nextSibling}je=null}}else l===27?(l=je,Qn(t.type)?(t=Uu,Uu=null,je=t):je=l):je=Ct?Wt(t.stateNode.nextSibling):null;return!0}function $l(){je=Ct=null,Ie=!1}function Vf(){var t=mi;return t!==null&&(Rt===null?Rt=t:Rt.push.apply(Rt,t),mi=null),t}function Zl(t){mi===null?mi=[t]:mi.push(t)}var mr=q(null),gi=null,vn=null;function Ln(t,l,s){Z(mr,l._currentValue),l._currentValue=s}function Tn(t){t._currentValue=mr.current,J(mr)}function pr(t,l,s){for(;t!==null;){var c=t.alternate;if((t.childLanes&l)!==l?(t.childLanes|=l,c!==null&&(c.childLanes|=l)):c!==null&&(c.childLanes&l)!==l&&(c.childLanes|=l),t===s)break;t=t.return}}function gr(t,l,s,c){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var _=g;g=d;for(var E=0;E<l.length;E++)if(_.context===l[E]){g.lanes|=s,_=g.alternate,_!==null&&(_.lanes|=s),pr(g.return,s,t),c||(T=null);break e}g=_.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(o(341));T.lanes|=s,g=T.alternate,g!==null&&(g.lanes|=s),pr(T,s,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Kl(t,l,s,c){t=null;for(var d=l,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var _=d.type;Dt(d.pendingProps.value,T.value)||(t!==null?t.push(_):t=[_])}}else if(d===St.current){if(T=d.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ao):t=[Ao])}d=d.return}t!==null&&gr(l,t,s,c),l.flags|=262144}function ps(t){for(t=t.firstContext;t!==null;){if(!Dt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function yi(t){gi=t,vn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return qf(gi,t)}function gs(t,l){return gi===null&&yi(t),qf(t,l)}function qf(t,l){var s=l._currentValue;if(l={context:l,memoizedValue:s,next:null},vn===null){if(t===null)throw Error(o(308));vn=l,t.dependencies={lanes:0,firstContext:l},t.flags|=524288}else vn=vn.next=l;return s}var Cv=typeof AbortController<"u"?AbortController:function(){var t=[],l=this.signal={aborted:!1,addEventListener:function(s,c){t.push(c)}};this.abort=function(){l.aborted=!0,t.forEach(function(s){return s()})}},_v=n.unstable_scheduleCallback,xv=n.unstable_NormalPriority,st={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yr(){return{controller:new Cv,data:new Map,refCount:0}}function Ql(t){t.refCount--,t.refCount===0&&_v(xv,function(){t.controller.abort()})}var Xl=null,vr=0,Xi=0,Wi=null;function Ev(t,l){if(Xl===null){var s=Xl=[];vr=0,Xi=Su(),Wi={status:"pending",value:void 0,then:function(c){s.push(c)}}}return vr++,l.then(Pf,Pf),l}function Pf(){if(--vr===0&&Xl!==null){Wi!==null&&(Wi.status="fulfilled");var t=Xl;Xl=null,Xi=0,Wi=null;for(var l=0;l<t.length;l++)(0,t[l])()}}function Av(t,l){var s=[],c={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){c.status="fulfilled",c.value=l;for(var d=0;d<s.length;d++)(0,s[d])(l)},function(d){for(c.status="rejected",c.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),c}var zf=V.S;V.S=function(t,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Ev(t,l),zf!==null&&zf(t,l)};var vi=q(null);function Tr(){var t=vi.current;return t!==null?t:Je.pooledCache}function ys(t,l){l===null?Z(vi,vi.current):Z(vi,l.pool)}function Bf(){var t=Tr();return t===null?null:{parent:st._currentValue,pool:t}}var Wl=Error(o(460)),Gf=Error(o(474)),vs=Error(o(542)),Sr={then:function(){}};function Hf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ts(){}function Of(t,l,s){switch(s=t[s],s===void 0?t.push(l):s!==l&&(l.then(Ts,Ts),l=s),l.status){case"fulfilled":return l.value;case"rejected":throw t=l.reason,Yf(t),t;default:if(typeof l.status=="string")l.then(Ts,Ts);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=l,t.status="pending",t.then(function(c){if(l.status==="pending"){var d=l;d.status="fulfilled",d.value=c}},function(c){if(l.status==="pending"){var d=l;d.status="rejected",d.reason=c}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw t=l.reason,Yf(t),t}throw jl=l,Wl}}var jl=null;function Ff(){if(jl===null)throw Error(o(459));var t=jl;return jl=null,t}function Yf(t){if(t===Wl||t===vs)throw Error(o(483))}var Vn=!1;function Cr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _r(t,l){t=t.updateQueue,l.updateQueue===t&&(l.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(t,l,s){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ve&2)!==0){var d=c.pending;return d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l,l=fs(t),Df(t,null,s),l}return cs(t,c,l,s),fs(t)}function eo(t,l,s){if(l=l.updateQueue,l!==null&&(l=l.shared,(s&4194048)!==0)){var c=l.lanes;c&=t.pendingLanes,s|=c,l.lanes=s,qc(t,s)}}function xr(t,l){var s=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,s=s.next}while(s!==null);g===null?d=g=l:g=g.next=l}else d=g=l;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=l:t.next=l,s.lastBaseUpdate=l}var Er=!1;function to(){if(Er){var t=Wi;if(t!==null)throw t}}function no(t,l,s,c){Er=!1;var d=t.updateQueue;Vn=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var E=_,D=E.next;E.next=null,T===null?g=D:T.next=D,T=E;var P=t.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==T&&(_===null?P.firstBaseUpdate=D:_.next=D,P.lastBaseUpdate=E))}if(g!==null){var B=d.baseState;T=0,P=D=E=null,_=g;do{var k=_.lane&-536870913,U=k!==_.lane;if(U?(we&k)===k:(c&k)===k){k!==0&&k===Xi&&(Er=!0),P!==null&&(P=P.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var me=t,ce=_;k=l;var Ge=s;switch(ce.tag){case 1:if(me=ce.payload,typeof me=="function"){B=me.call(Ge,B,k);break e}B=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ce.payload,k=typeof me=="function"?me.call(Ge,B,k):me,k==null)break e;B=v({},B,k);break e;case 2:Vn=!0}}k=_.callback,k!==null&&(t.flags|=64,U&&(t.flags|=8192),U=d.callbacks,U===null?d.callbacks=[k]:U.push(k))}else U={lane:k,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(D=P=U,E=B):P=P.next=U,T|=k;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;U=_,_=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);P===null&&(E=B),d.baseState=E,d.firstBaseUpdate=D,d.lastBaseUpdate=P,g===null&&(d.shared.lanes=0),Jn|=T,t.lanes=T,t.memoizedState=B}}function Jf(t,l){if(typeof t!="function")throw Error(o(191,t));t.call(l)}function $f(t,l){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Jf(s[t],l)}var ji=q(null),Ss=q(0);function Zf(t,l){t=Mn,Z(Ss,t),Z(ji,l),Mn=t|l.baseLanes}function Ar(){Z(Ss,Mn),Z(ji,ji.current)}function Mr(){Mn=Ss.current,J(ji),J(Ss)}var zn=0,Ce=null,ze=null,it=null,Cs=!1,el=!1,Ti=!1,_s=0,io=0,tl=null,Mv=0;function tt(){throw Error(o(321))}function Rr(t,l){if(l===null)return!1;for(var s=0;s<l.length&&s<t.length;s++)if(!Dt(t[s],l[s]))return!1;return!0}function Nr(t,l,s,c,d,g){return zn=g,Ce=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,V.H=t===null||t.memoizedState===null?Dd:kd,Ti=!1,g=s(c,d),Ti=!1,el&&(g=Qf(l,s,c,d)),Kf(t),g}function Kf(t){V.H=Ns;var l=ze!==null&&ze.next!==null;if(zn=0,it=ze=Ce=null,Cs=!1,io=0,tl=null,l)throw Error(o(300));t===null||ct||(t=t.dependencies,t!==null&&ps(t)&&(ct=!0))}function Qf(t,l,s,c){Ce=t;var d=0;do{if(el&&(tl=null),io=0,el=!1,25<=d)throw Error(o(301));if(d+=1,it=ze=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}V.H=Uv,g=l(s,c)}while(el);return g}function Rv(){var t=V.H,l=t.useState()[0];return l=typeof l.then=="function"?lo(l):l,t=t.useState()[0],(ze!==null?ze.memoizedState:null)!==t&&(Ce.flags|=1024),l}function wr(){var t=_s!==0;return _s=0,t}function br(t,l,s){l.updateQueue=t.updateQueue,l.flags&=-2053,t.lanes&=~s}function Dr(t){if(Cs){for(t=t.memoizedState;t!==null;){var l=t.queue;l!==null&&(l.pending=null),t=t.next}Cs=!1}zn=0,it=ze=Ce=null,el=!1,io=_s=0,tl=null}function At(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ce.memoizedState=it=t:it=it.next=t,it}function lt(){if(ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var l=it===null?Ce.memoizedState:it.next;if(l!==null)it=l,ze=t;else{if(t===null)throw Ce.alternate===null?Error(o(467)):Error(o(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},it===null?Ce.memoizedState=it=t:it=it.next=t}return it}function kr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lo(t){var l=io;return io+=1,tl===null&&(tl=[]),t=Of(tl,t,l),l=Ce,(it===null?l.memoizedState:it.next)===null&&(l=l.alternate,V.H=l===null||l.memoizedState===null?Dd:kd),t}function xs(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return lo(t);if(t.$$typeof===Y)return yt(t)}throw Error(o(438,String(t)))}function Ur(t){var l=null,s=Ce.updateQueue;if(s!==null&&(l=s.memoCache),l==null){var c=Ce.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(l={data:c.data.map(function(d){return d.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),s===null&&(s=kr(),Ce.updateQueue=s),s.memoCache=l,s=l.data[l.index],s===void 0)for(s=l.data[l.index]=Array(t),c=0;c<t;c++)s[c]=ye;return l.index++,s}function Sn(t,l){return typeof l=="function"?l(t):l}function Es(t){var l=lt();return Ir(l,ze,t)}function Ir(t,l,s){var c=t.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=s;var d=t.baseQueue,g=c.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}l.baseQueue=d=g,c.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{l=d.next;var _=T=null,E=null,D=l,P=!1;do{var B=D.lane&-536870913;if(B!==D.lane?(we&B)===B:(zn&B)===B){var k=D.revertLane;if(k===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),B===Xi&&(P=!0);else if((zn&k)===k){D=D.next,k===Xi&&(P=!0);continue}else B={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},E===null?(_=E=B,T=g):E=E.next=B,Ce.lanes|=k,Jn|=k;B=D.action,Ti&&s(g,B),g=D.hasEagerState?D.eagerState:s(g,B)}else k={lane:B,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},E===null?(_=E=k,T=g):E=E.next=k,Ce.lanes|=B,Jn|=B;D=D.next}while(D!==null&&D!==l);if(E===null?T=g:E.next=_,!Dt(g,t.memoizedState)&&(ct=!0,P&&(s=Wi,s!==null)))throw s;t.memoizedState=g,t.baseState=T,t.baseQueue=E,c.lastRenderedState=g}return d===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Lr(t){var l=lt(),s=l.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var c=s.dispatch,d=s.pending,g=l.memoizedState;if(d!==null){s.pending=null;var T=d=d.next;do g=t(g,T.action),T=T.next;while(T!==d);Dt(g,l.memoizedState)||(ct=!0),l.memoizedState=g,l.baseQueue===null&&(l.baseState=g),s.lastRenderedState=g}return[g,c]}function Xf(t,l,s){var c=Ce,d=lt(),g=Ie;if(g){if(s===void 0)throw Error(o(407));s=s()}else s=l();var T=!Dt((ze||d).memoizedState,s);T&&(d.memoizedState=s,ct=!0),d=d.queue;var _=ed.bind(null,c,d,t);if(oo(2048,8,_,[t]),d.getSnapshot!==l||T||it!==null&&it.memoizedState.tag&1){if(c.flags|=2048,nl(9,As(),jf.bind(null,c,d,s,l),null),Je===null)throw Error(o(349));g||(zn&124)!==0||Wf(c,l,s)}return s}function Wf(t,l,s){t.flags|=16384,t={getSnapshot:l,value:s},l=Ce.updateQueue,l===null?(l=kr(),Ce.updateQueue=l,l.stores=[t]):(s=l.stores,s===null?l.stores=[t]:s.push(t))}function jf(t,l,s,c){l.value=s,l.getSnapshot=c,td(l)&&nd(t)}function ed(t,l,s){return s(function(){td(l)&&nd(t)})}function td(t){var l=t.getSnapshot;t=t.value;try{var s=l();return!Dt(t,s)}catch{return!0}}function nd(t){var l=$i(t,2);l!==null&&qt(l,t,2)}function Vr(t){var l=At();if(typeof t=="function"){var s=t;if(t=s(),Ti){kn(!0);try{s()}finally{kn(!1)}}}return l.memoizedState=l.baseState=t,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:t},l}function id(t,l,s,c){return t.baseState=s,Ir(t,ze,typeof c=="function"?c:Sn)}function Nv(t,l,s,c,d){if(Rs(t))throw Error(o(485));if(t=l.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};V.T!==null?s(!0):g.isTransition=!1,c(g),s=l.pending,s===null?(g.next=l.pending=g,ld(l,g)):(g.next=s.next,l.pending=s.next=g)}}function ld(t,l){var s=l.action,c=l.payload,d=t.state;if(l.isTransition){var g=V.T,T={};V.T=T;try{var _=s(d,c),E=V.S;E!==null&&E(T,_),od(t,l,_)}catch(D){qr(t,l,D)}finally{V.T=g}}else try{g=s(d,c),od(t,l,g)}catch(D){qr(t,l,D)}}function od(t,l,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){sd(t,l,c)},function(c){return qr(t,l,c)}):sd(t,l,s)}function sd(t,l,s){l.status="fulfilled",l.value=s,ad(l),t.state=s,l=t.pending,l!==null&&(s=l.next,s===l?t.pending=null:(s=s.next,l.next=s,ld(t,s)))}function qr(t,l,s){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do l.status="rejected",l.reason=s,ad(l),l=l.next;while(l!==c)}t.action=null}function ad(t){t=t.listeners;for(var l=0;l<t.length;l++)(0,t[l])()}function rd(t,l){return l}function ud(t,l){if(Ie){var s=Je.formState;if(s!==null){e:{var c=Ce;if(Ie){if(je){t:{for(var d=je,g=tn;d.nodeType!==8;){if(!g){d=null;break t}if(d=Wt(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){je=Wt(d.nextSibling),c=d.data==="F!";break e}}pi(c)}c=!1}c&&(l=s[0])}}return s=At(),s.memoizedState=s.baseState=l,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:l},s.queue=c,s=Nd.bind(null,Ce,c),c.dispatch=s,c=Vr(!1),g=Hr.bind(null,Ce,!1,c.queue),c=At(),d={state:l,dispatch:null,action:t,pending:null},c.queue=d,s=Nv.bind(null,Ce,d,g,s),d.dispatch=s,c.memoizedState=t,[l,s,!1]}function cd(t){var l=lt();return fd(l,ze,t)}function fd(t,l,s){if(l=Ir(t,l,rd)[0],t=Es(Sn)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var c=lo(l)}catch(T){throw T===Wl?vs:T}else c=l;l=lt();var d=l.queue,g=d.dispatch;return s!==l.memoizedState&&(Ce.flags|=2048,nl(9,As(),wv.bind(null,d,s),null)),[c,g,t]}function wv(t,l){t.action=l}function dd(t){var l=lt(),s=ze;if(s!==null)return fd(l,s,t);lt(),l=l.memoizedState,s=lt();var c=s.queue.dispatch;return s.memoizedState=t,[l,c,!1]}function nl(t,l,s,c){return t={tag:t,create:s,deps:c,inst:l,next:null},l=Ce.updateQueue,l===null&&(l=kr(),Ce.updateQueue=l),s=l.lastEffect,s===null?l.lastEffect=t.next=t:(c=s.next,s.next=t,t.next=c,l.lastEffect=t),t}function As(){return{destroy:void 0,resource:void 0}}function hd(){return lt().memoizedState}function Ms(t,l,s,c){var d=At();c=c===void 0?null:c,Ce.flags|=t,d.memoizedState=nl(1|l,As(),s,c)}function oo(t,l,s,c){var d=lt();c=c===void 0?null:c;var g=d.memoizedState.inst;ze!==null&&c!==null&&Rr(c,ze.memoizedState.deps)?d.memoizedState=nl(l,g,s,c):(Ce.flags|=t,d.memoizedState=nl(1|l,g,s,c))}function md(t,l){Ms(8390656,8,t,l)}function pd(t,l){oo(2048,8,t,l)}function gd(t,l){return oo(4,2,t,l)}function yd(t,l){return oo(4,4,t,l)}function vd(t,l){if(typeof l=="function"){t=t();var s=l(t);return function(){typeof s=="function"?s():l(null)}}if(l!=null)return t=t(),l.current=t,function(){l.current=null}}function Td(t,l,s){s=s!=null?s.concat([t]):null,oo(4,4,vd.bind(null,l,t),s)}function Pr(){}function Sd(t,l){var s=lt();l=l===void 0?null:l;var c=s.memoizedState;return l!==null&&Rr(l,c[1])?c[0]:(s.memoizedState=[t,l],t)}function Cd(t,l){var s=lt();l=l===void 0?null:l;var c=s.memoizedState;if(l!==null&&Rr(l,c[1]))return c[0];if(c=t(),Ti){kn(!0);try{t()}finally{kn(!1)}}return s.memoizedState=[c,l],c}function zr(t,l,s){return s===void 0||(zn&1073741824)!==0?t.memoizedState=l:(t.memoizedState=s,t=Eh(),Ce.lanes|=t,Jn|=t,s)}function _d(t,l,s,c){return Dt(s,l)?s:ji.current!==null?(t=zr(t,s,c),Dt(t,l)||(ct=!0),t):(zn&42)===0?(ct=!0,t.memoizedState=s):(t=Eh(),Ce.lanes|=t,Jn|=t,l)}function xd(t,l,s,c,d){var g=K.p;K.p=g!==0&&8>g?g:8;var T=V.T,_={};V.T=_,Hr(t,!1,l,s);try{var E=d(),D=V.S;if(D!==null&&D(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var P=Av(E,c);so(t,l,P,Vt(t))}else so(t,l,c,Vt(t))}catch(B){so(t,l,{then:function(){},status:"rejected",reason:B},Vt())}finally{K.p=g,V.T=T}}function bv(){}function Br(t,l,s,c){if(t.tag!==5)throw Error(o(476));var d=Ed(t).queue;xd(t,d,l,re,s===null?bv:function(){return Ad(t),s(c)})}function Ed(t){var l=t.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:re},next:null};var s={};return l.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:s},next:null},t.memoizedState=l,t=t.alternate,t!==null&&(t.memoizedState=l),l}function Ad(t){var l=Ed(t).next.queue;so(t,l,{},Vt())}function Gr(){return yt(Ao)}function Md(){return lt().memoizedState}function Rd(){return lt().memoizedState}function Dv(t){for(var l=t.return;l!==null;){switch(l.tag){case 24:case 3:var s=Vt();t=qn(s);var c=Pn(l,t,s);c!==null&&(qt(c,l,s),eo(c,l,s)),l={cache:yr()},t.payload=l;return}l=l.return}}function kv(t,l,s){var c=Vt();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Rs(t)?wd(l,s):(s=ar(t,l,s,c),s!==null&&(qt(s,t,c),bd(s,l,c)))}function Nd(t,l,s){var c=Vt();so(t,l,s,c)}function so(t,l,s,c){var d={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Rs(t))wd(l,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=l.lastRenderedReducer,g!==null))try{var T=l.lastRenderedState,_=g(T,s);if(d.hasEagerState=!0,d.eagerState=_,Dt(_,T))return cs(t,l,d,0),Je===null&&us(),!1}catch{}finally{}if(s=ar(t,l,d,c),s!==null)return qt(s,t,c),bd(s,l,c),!0}return!1}function Hr(t,l,s,c){if(c={lane:2,revertLane:Su(),action:c,hasEagerState:!1,eagerState:null,next:null},Rs(t)){if(l)throw Error(o(479))}else l=ar(t,s,c,2),l!==null&&qt(l,t,2)}function Rs(t){var l=t.alternate;return t===Ce||l!==null&&l===Ce}function wd(t,l){el=Cs=!0;var s=t.pending;s===null?l.next=l:(l.next=s.next,s.next=l),t.pending=l}function bd(t,l,s){if((s&4194048)!==0){var c=l.lanes;c&=t.pendingLanes,s|=c,l.lanes=s,qc(t,s)}}var Ns={readContext:yt,use:xs,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},Dd={readContext:yt,use:xs,useCallback:function(t,l){return At().memoizedState=[t,l===void 0?null:l],t},useContext:yt,useEffect:md,useImperativeHandle:function(t,l,s){s=s!=null?s.concat([t]):null,Ms(4194308,4,vd.bind(null,l,t),s)},useLayoutEffect:function(t,l){return Ms(4194308,4,t,l)},useInsertionEffect:function(t,l){Ms(4,2,t,l)},useMemo:function(t,l){var s=At();l=l===void 0?null:l;var c=t();if(Ti){kn(!0);try{t()}finally{kn(!1)}}return s.memoizedState=[c,l],c},useReducer:function(t,l,s){var c=At();if(s!==void 0){var d=s(l);if(Ti){kn(!0);try{s(l)}finally{kn(!1)}}}else d=l;return c.memoizedState=c.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},c.queue=t,t=t.dispatch=kv.bind(null,Ce,t),[c.memoizedState,t]},useRef:function(t){var l=At();return t={current:t},l.memoizedState=t},useState:function(t){t=Vr(t);var l=t.queue,s=Nd.bind(null,Ce,l);return l.dispatch=s,[t.memoizedState,s]},useDebugValue:Pr,useDeferredValue:function(t,l){var s=At();return zr(s,t,l)},useTransition:function(){var t=Vr(!1);return t=xd.bind(null,Ce,t.queue,!0,!1),At().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,l,s){var c=Ce,d=At();if(Ie){if(s===void 0)throw Error(o(407));s=s()}else{if(s=l(),Je===null)throw Error(o(349));(we&124)!==0||Wf(c,l,s)}d.memoizedState=s;var g={value:s,getSnapshot:l};return d.queue=g,md(ed.bind(null,c,g,t),[t]),c.flags|=2048,nl(9,As(),jf.bind(null,c,g,s,l),null),s},useId:function(){var t=At(),l=Je.identifierPrefix;if(Ie){var s=yn,c=gn;s=(c&~(1<<32-bt(c)-1)).toString(32)+s,l="«"+l+"R"+s,s=_s++,0<s&&(l+="H"+s.toString(32)),l+="»"}else s=Mv++,l="«"+l+"r"+s.toString(32)+"»";return t.memoizedState=l},useHostTransitionStatus:Gr,useFormState:ud,useActionState:ud,useOptimistic:function(t){var l=At();l.memoizedState=l.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=s,l=Hr.bind(null,Ce,!0,s),s.dispatch=l,[t,l]},useMemoCache:Ur,useCacheRefresh:function(){return At().memoizedState=Dv.bind(null,Ce)}},kd={readContext:yt,use:xs,useCallback:Sd,useContext:yt,useEffect:pd,useImperativeHandle:Td,useInsertionEffect:gd,useLayoutEffect:yd,useMemo:Cd,useReducer:Es,useRef:hd,useState:function(){return Es(Sn)},useDebugValue:Pr,useDeferredValue:function(t,l){var s=lt();return _d(s,ze.memoizedState,t,l)},useTransition:function(){var t=Es(Sn)[0],l=lt().memoizedState;return[typeof t=="boolean"?t:lo(t),l]},useSyncExternalStore:Xf,useId:Md,useHostTransitionStatus:Gr,useFormState:cd,useActionState:cd,useOptimistic:function(t,l){var s=lt();return id(s,ze,t,l)},useMemoCache:Ur,useCacheRefresh:Rd},Uv={readContext:yt,use:xs,useCallback:Sd,useContext:yt,useEffect:pd,useImperativeHandle:Td,useInsertionEffect:gd,useLayoutEffect:yd,useMemo:Cd,useReducer:Lr,useRef:hd,useState:function(){return Lr(Sn)},useDebugValue:Pr,useDeferredValue:function(t,l){var s=lt();return ze===null?zr(s,t,l):_d(s,ze.memoizedState,t,l)},useTransition:function(){var t=Lr(Sn)[0],l=lt().memoizedState;return[typeof t=="boolean"?t:lo(t),l]},useSyncExternalStore:Xf,useId:Md,useHostTransitionStatus:Gr,useFormState:dd,useActionState:dd,useOptimistic:function(t,l){var s=lt();return ze!==null?id(s,ze,t,l):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ur,useCacheRefresh:Rd},il=null,ao=0;function ws(t){var l=ao;return ao+=1,il===null&&(il=[]),Of(il,t,l)}function ro(t,l){l=l.props.ref,t.ref=l!==void 0?l:null}function bs(t,l){throw l.$$typeof===S?Error(o(525)):(t=Object.prototype.toString.call(l),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":t)))}function Ud(t){var l=t._init;return l(t._payload)}function Id(t){function l(w,R){if(t){var b=w.deletions;b===null?(w.deletions=[R],w.flags|=16):b.push(R)}}function s(w,R){if(!t)return null;for(;R!==null;)l(w,R),R=R.sibling;return null}function c(w){for(var R=new Map;w!==null;)w.key!==null?R.set(w.key,w):R.set(w.index,w),w=w.sibling;return R}function d(w,R){return w=pn(w,R),w.index=0,w.sibling=null,w}function g(w,R,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<R?(w.flags|=67108866,R):b):(w.flags|=67108866,R)):(w.flags|=1048576,R)}function T(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function _(w,R,b,z){return R===null||R.tag!==6?(R=ur(b,w.mode,z),R.return=w,R):(R=d(R,b),R.return=w,R)}function E(w,R,b,z){var ee=b.type;return ee===N?P(w,R,b.props.children,z,b.key):R!==null&&(R.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===se&&Ud(ee)===R.type)?(R=d(R,b.props),ro(R,b),R.return=w,R):(R=ds(b.type,b.key,b.props,null,w.mode,z),ro(R,b),R.return=w,R)}function D(w,R,b,z){return R===null||R.tag!==4||R.stateNode.containerInfo!==b.containerInfo||R.stateNode.implementation!==b.implementation?(R=cr(b,w.mode,z),R.return=w,R):(R=d(R,b.children||[]),R.return=w,R)}function P(w,R,b,z,ee){return R===null||R.tag!==7?(R=fi(b,w.mode,z,ee),R.return=w,R):(R=d(R,b),R.return=w,R)}function B(w,R,b){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=ur(""+R,w.mode,b),R.return=w,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case x:return b=ds(R.type,R.key,R.props,null,w.mode,b),ro(b,R),b.return=w,b;case M:return R=cr(R,w.mode,b),R.return=w,R;case se:var z=R._init;return R=z(R._payload),B(w,R,b)}if(Le(R)||Te(R))return R=fi(R,w.mode,b,null),R.return=w,R;if(typeof R.then=="function")return B(w,ws(R),b);if(R.$$typeof===Y)return B(w,gs(w,R),b);bs(w,R)}return null}function k(w,R,b,z){var ee=R!==null?R.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return ee!==null?null:_(w,R,""+b,z);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case x:return b.key===ee?E(w,R,b,z):null;case M:return b.key===ee?D(w,R,b,z):null;case se:return ee=b._init,b=ee(b._payload),k(w,R,b,z)}if(Le(b)||Te(b))return ee!==null?null:P(w,R,b,z,null);if(typeof b.then=="function")return k(w,R,ws(b),z);if(b.$$typeof===Y)return k(w,R,gs(w,b),z);bs(w,b)}return null}function U(w,R,b,z,ee){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return w=w.get(b)||null,_(R,w,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return w=w.get(z.key===null?b:z.key)||null,E(R,w,z,ee);case M:return w=w.get(z.key===null?b:z.key)||null,D(R,w,z,ee);case se:var _e=z._init;return z=_e(z._payload),U(w,R,b,z,ee)}if(Le(z)||Te(z))return w=w.get(b)||null,P(R,w,z,ee,null);if(typeof z.then=="function")return U(w,R,b,ws(z),ee);if(z.$$typeof===Y)return U(w,R,b,gs(R,z),ee);bs(R,z)}return null}function me(w,R,b,z){for(var ee=null,_e=null,ae=R,de=R=0,dt=null;ae!==null&&de<b.length;de++){ae.index>de?(dt=ae,ae=null):dt=ae.sibling;var ke=k(w,ae,b[de],z);if(ke===null){ae===null&&(ae=dt);break}t&&ae&&ke.alternate===null&&l(w,ae),R=g(ke,R,de),_e===null?ee=ke:_e.sibling=ke,_e=ke,ae=dt}if(de===b.length)return s(w,ae),Ie&&hi(w,de),ee;if(ae===null){for(;de<b.length;de++)ae=B(w,b[de],z),ae!==null&&(R=g(ae,R,de),_e===null?ee=ae:_e.sibling=ae,_e=ae);return Ie&&hi(w,de),ee}for(ae=c(ae);de<b.length;de++)dt=U(ae,w,de,b[de],z),dt!==null&&(t&&dt.alternate!==null&&ae.delete(dt.key===null?de:dt.key),R=g(dt,R,de),_e===null?ee=dt:_e.sibling=dt,_e=dt);return t&&ae.forEach(function(ti){return l(w,ti)}),Ie&&hi(w,de),ee}function ce(w,R,b,z){if(b==null)throw Error(o(151));for(var ee=null,_e=null,ae=R,de=R=0,dt=null,ke=b.next();ae!==null&&!ke.done;de++,ke=b.next()){ae.index>de?(dt=ae,ae=null):dt=ae.sibling;var ti=k(w,ae,ke.value,z);if(ti===null){ae===null&&(ae=dt);break}t&&ae&&ti.alternate===null&&l(w,ae),R=g(ti,R,de),_e===null?ee=ti:_e.sibling=ti,_e=ti,ae=dt}if(ke.done)return s(w,ae),Ie&&hi(w,de),ee;if(ae===null){for(;!ke.done;de++,ke=b.next())ke=B(w,ke.value,z),ke!==null&&(R=g(ke,R,de),_e===null?ee=ke:_e.sibling=ke,_e=ke);return Ie&&hi(w,de),ee}for(ae=c(ae);!ke.done;de++,ke=b.next())ke=U(ae,w,de,ke.value,z),ke!==null&&(t&&ke.alternate!==null&&ae.delete(ke.key===null?de:ke.key),R=g(ke,R,de),_e===null?ee=ke:_e.sibling=ke,_e=ke);return t&&ae.forEach(function(IT){return l(w,IT)}),Ie&&hi(w,de),ee}function Ge(w,R,b,z){if(typeof b=="object"&&b!==null&&b.type===N&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case x:e:{for(var ee=b.key;R!==null;){if(R.key===ee){if(ee=b.type,ee===N){if(R.tag===7){s(w,R.sibling),z=d(R,b.props.children),z.return=w,w=z;break e}}else if(R.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===se&&Ud(ee)===R.type){s(w,R.sibling),z=d(R,b.props),ro(z,b),z.return=w,w=z;break e}s(w,R);break}else l(w,R);R=R.sibling}b.type===N?(z=fi(b.props.children,w.mode,z,b.key),z.return=w,w=z):(z=ds(b.type,b.key,b.props,null,w.mode,z),ro(z,b),z.return=w,w=z)}return T(w);case M:e:{for(ee=b.key;R!==null;){if(R.key===ee)if(R.tag===4&&R.stateNode.containerInfo===b.containerInfo&&R.stateNode.implementation===b.implementation){s(w,R.sibling),z=d(R,b.children||[]),z.return=w,w=z;break e}else{s(w,R);break}else l(w,R);R=R.sibling}z=cr(b,w.mode,z),z.return=w,w=z}return T(w);case se:return ee=b._init,b=ee(b._payload),Ge(w,R,b,z)}if(Le(b))return me(w,R,b,z);if(Te(b)){if(ee=Te(b),typeof ee!="function")throw Error(o(150));return b=ee.call(b),ce(w,R,b,z)}if(typeof b.then=="function")return Ge(w,R,ws(b),z);if(b.$$typeof===Y)return Ge(w,R,gs(w,b),z);bs(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,R!==null&&R.tag===6?(s(w,R.sibling),z=d(R,b),z.return=w,w=z):(s(w,R),z=ur(b,w.mode,z),z.return=w,w=z),T(w)):s(w,R)}return function(w,R,b,z){try{ao=0;var ee=Ge(w,R,b,z);return il=null,ee}catch(ae){if(ae===Wl||ae===vs)throw ae;var _e=kt(29,ae,null,w.mode);return _e.lanes=z,_e.return=w,_e}finally{}}}var ll=Id(!0),Ld=Id(!1),Yt=q(null),nn=null;function Bn(t){var l=t.alternate;Z(at,at.current&1),Z(Yt,t),nn===null&&(l===null||ji.current!==null||l.memoizedState!==null)&&(nn=t)}function Vd(t){if(t.tag===22){if(Z(at,at.current),Z(Yt,t),nn===null){var l=t.alternate;l!==null&&l.memoizedState!==null&&(nn=t)}}else Gn()}function Gn(){Z(at,at.current),Z(Yt,Yt.current)}function Cn(t){J(Yt),nn===t&&(nn=null),J(at)}var at=q(0);function Ds(t){for(var l=t;l!==null;){if(l.tag===13){var s=l.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||ku(s)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Or(t,l,s,c){l=t.memoizedState,s=s(c,l),s=s==null?l:v({},l,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Fr={enqueueSetState:function(t,l,s){t=t._reactInternals;var c=Vt(),d=qn(c);d.payload=l,s!=null&&(d.callback=s),l=Pn(t,d,c),l!==null&&(qt(l,t,c),eo(l,t,c))},enqueueReplaceState:function(t,l,s){t=t._reactInternals;var c=Vt(),d=qn(c);d.tag=1,d.payload=l,s!=null&&(d.callback=s),l=Pn(t,d,c),l!==null&&(qt(l,t,c),eo(l,t,c))},enqueueForceUpdate:function(t,l){t=t._reactInternals;var s=Vt(),c=qn(s);c.tag=2,l!=null&&(c.callback=l),l=Pn(t,c,s),l!==null&&(qt(l,t,s),eo(l,t,s))}};function qd(t,l,s,c,d,g,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,T):l.prototype&&l.prototype.isPureReactComponent?!Fl(s,c)||!Fl(d,g):!0}function Pd(t,l,s,c){t=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(s,c),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(s,c),l.state!==t&&Fr.enqueueReplaceState(l,l.state,null)}function Si(t,l){var s=l;if("ref"in l){s={};for(var c in l)c!=="ref"&&(s[c]=l[c])}if(t=t.defaultProps){s===l&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var ks=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zd(t){ks(t)}function Bd(t){console.error(t)}function Gd(t){ks(t)}function Us(t,l){try{var s=t.onUncaughtError;s(l.value,{componentStack:l.stack})}catch(c){setTimeout(function(){throw c})}}function Hd(t,l,s){try{var c=t.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Yr(t,l,s){return s=qn(s),s.tag=3,s.payload={element:null},s.callback=function(){Us(t,l)},s}function Od(t){return t=qn(t),t.tag=3,t}function Fd(t,l,s,c){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;t.payload=function(){return d(g)},t.callback=function(){Hd(l,s,c)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Hd(l,s,c),typeof d!="function"&&($n===null?$n=new Set([this]):$n.add(this));var _=c.stack;this.componentDidCatch(c.value,{componentStack:_!==null?_:""})})}function Iv(t,l,s,c,d){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(l=s.alternate,l!==null&&Kl(l,s,d,!0),s=Yt.current,s!==null){switch(s.tag){case 13:return nn===null?pu():s.alternate===null&&et===0&&(et=3),s.flags&=-257,s.flags|=65536,s.lanes=d,c===Sr?s.flags|=16384:(l=s.updateQueue,l===null?s.updateQueue=new Set([c]):l.add(c),yu(t,c,d)),!1;case 22:return s.flags|=65536,c===Sr?s.flags|=16384:(l=s.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=l):(s=l.retryQueue,s===null?l.retryQueue=new Set([c]):s.add(c)),yu(t,c,d)),!1}throw Error(o(435,s.tag))}return yu(t,c,d),pu(),!1}if(Ie)return l=Yt.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=d,c!==hr&&(t=Error(o(422),{cause:c}),Zl(Gt(t,s)))):(c!==hr&&(l=Error(o(423),{cause:c}),Zl(Gt(l,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,c=Gt(c,s),d=Yr(t.stateNode,c,d),xr(t,d),et!==4&&(et=2)),!1;var g=Error(o(520),{cause:c});if(g=Gt(g,s),go===null?go=[g]:go.push(g),et!==4&&(et=2),l===null)return!0;c=Gt(c,s),s=l;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Yr(s.stateNode,c,t),xr(s,t),!1;case 1:if(l=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($n===null||!$n.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Od(d),Fd(d,t,s,c),xr(s,d),!1}s=s.return}while(s!==null);return!1}var Yd=Error(o(461)),ct=!1;function ht(t,l,s,c){l.child=t===null?Ld(l,null,s,c):ll(l,t.child,s,c)}function Jd(t,l,s,c,d){s=s.render;var g=l.ref;if("ref"in c){var T={};for(var _ in c)_!=="ref"&&(T[_]=c[_])}else T=c;return yi(l),c=Nr(t,l,s,T,g,d),_=wr(),t!==null&&!ct?(br(t,l,d),_n(t,l,d)):(Ie&&_&&fr(l),l.flags|=1,ht(t,l,c,d),l.child)}function $d(t,l,s,c,d){if(t===null){var g=s.type;return typeof g=="function"&&!rr(g)&&g.defaultProps===void 0&&s.compare===null?(l.tag=15,l.type=g,Zd(t,l,g,c,d)):(t=ds(s.type,null,c,l,l.mode,d),t.ref=l.ref,t.return=l,l.child=t)}if(g=t.child,!jr(t,d)){var T=g.memoizedProps;if(s=s.compare,s=s!==null?s:Fl,s(T,c)&&t.ref===l.ref)return _n(t,l,d)}return l.flags|=1,t=pn(g,c),t.ref=l.ref,t.return=l,l.child=t}function Zd(t,l,s,c,d){if(t!==null){var g=t.memoizedProps;if(Fl(g,c)&&t.ref===l.ref)if(ct=!1,l.pendingProps=c=g,jr(t,d))(t.flags&131072)!==0&&(ct=!0);else return l.lanes=t.lanes,_n(t,l,d)}return Jr(t,l,s,c,d)}function Kd(t,l,s){var c=l.pendingProps,d=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((l.flags&128)!==0){if(c=g!==null?g.baseLanes|s:s,t!==null){for(d=l.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;l.childLanes=g&~c}else l.childLanes=0,l.child=null;return Qd(t,l,c,s)}if((s&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},t!==null&&ys(l,g!==null?g.cachePool:null),g!==null?Zf(l,g):Ar(),Vd(l);else return l.lanes=l.childLanes=536870912,Qd(t,l,g!==null?g.baseLanes|s:s,s)}else g!==null?(ys(l,g.cachePool),Zf(l,g),Gn(),l.memoizedState=null):(t!==null&&ys(l,null),Ar(),Gn());return ht(t,l,d,s),l.child}function Qd(t,l,s,c){var d=Tr();return d=d===null?null:{parent:st._currentValue,pool:d},l.memoizedState={baseLanes:s,cachePool:d},t!==null&&ys(l,null),Ar(),Vd(l),t!==null&&Kl(t,l,c,!0),null}function Is(t,l){var s=l.ref;if(s===null)t!==null&&t.ref!==null&&(l.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(t===null||t.ref!==s)&&(l.flags|=4194816)}}function Jr(t,l,s,c,d){return yi(l),s=Nr(t,l,s,c,void 0,d),c=wr(),t!==null&&!ct?(br(t,l,d),_n(t,l,d)):(Ie&&c&&fr(l),l.flags|=1,ht(t,l,s,d),l.child)}function Xd(t,l,s,c,d,g){return yi(l),l.updateQueue=null,s=Qf(l,c,s,d),Kf(t),c=wr(),t!==null&&!ct?(br(t,l,g),_n(t,l,g)):(Ie&&c&&fr(l),l.flags|=1,ht(t,l,s,g),l.child)}function Wd(t,l,s,c,d){if(yi(l),l.stateNode===null){var g=Zi,T=s.contextType;typeof T=="object"&&T!==null&&(g=yt(T)),g=new s(c,g),l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Fr,l.stateNode=g,g._reactInternals=l,g=l.stateNode,g.props=c,g.state=l.memoizedState,g.refs={},Cr(l),T=s.contextType,g.context=typeof T=="object"&&T!==null?yt(T):Zi,g.state=l.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Or(l,s,T,c),g.state=l.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Fr.enqueueReplaceState(g,g.state,null),no(l,c,g,d),to(),g.state=l.memoizedState),typeof g.componentDidMount=="function"&&(l.flags|=4194308),c=!0}else if(t===null){g=l.stateNode;var _=l.memoizedProps,E=Si(s,_);g.props=E;var D=g.context,P=s.contextType;T=Zi,typeof P=="object"&&P!==null&&(T=yt(P));var B=s.getDerivedStateFromProps;P=typeof B=="function"||typeof g.getSnapshotBeforeUpdate=="function",_=l.pendingProps!==_,P||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_||D!==T)&&Pd(l,g,c,T),Vn=!1;var k=l.memoizedState;g.state=k,no(l,c,g,d),to(),D=l.memoizedState,_||k!==D||Vn?(typeof B=="function"&&(Or(l,s,B,c),D=l.memoizedState),(E=Vn||qd(l,s,E,c,k,D,T))?(P||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(l.flags|=4194308)):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=c,l.memoizedState=D),g.props=c,g.state=D,g.context=T,c=E):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),c=!1)}else{g=l.stateNode,_r(t,l),T=l.memoizedProps,P=Si(s,T),g.props=P,B=l.pendingProps,k=g.context,D=s.contextType,E=Zi,typeof D=="object"&&D!==null&&(E=yt(D)),_=s.getDerivedStateFromProps,(D=typeof _=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==B||k!==E)&&Pd(l,g,c,E),Vn=!1,k=l.memoizedState,g.state=k,no(l,c,g,d),to();var U=l.memoizedState;T!==B||k!==U||Vn||t!==null&&t.dependencies!==null&&ps(t.dependencies)?(typeof _=="function"&&(Or(l,s,_,c),U=l.memoizedState),(P=Vn||qd(l,s,P,c,k,U,E)||t!==null&&t.dependencies!==null&&ps(t.dependencies))?(D||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,U,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,U,E)),typeof g.componentDidUpdate=="function"&&(l.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(l.flags|=1024),l.memoizedProps=c,l.memoizedState=U),g.props=c,g.state=U,g.context=E,c=P):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(l.flags|=1024),c=!1)}return g=c,Is(t,l),c=(l.flags&128)!==0,g||c?(g=l.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:g.render(),l.flags|=1,t!==null&&c?(l.child=ll(l,t.child,null,d),l.child=ll(l,null,s,d)):ht(t,l,s,d),l.memoizedState=g.state,t=l.child):t=_n(t,l,d),t}function jd(t,l,s,c){return $l(),l.flags|=256,ht(t,l,s,c),l.child}var $r={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zr(t){return{baseLanes:t,cachePool:Bf()}}function Kr(t,l,s){return t=t!==null?t.childLanes&~s:0,l&&(t|=Jt),t}function eh(t,l,s){var c=l.pendingProps,d=!1,g=(l.flags&128)!==0,T;if((T=g)||(T=t!==null&&t.memoizedState===null?!1:(at.current&2)!==0),T&&(d=!0,l.flags&=-129),T=(l.flags&32)!==0,l.flags&=-33,t===null){if(Ie){if(d?Bn(l):Gn(),Ie){var _=je,E;if(E=_){e:{for(E=_,_=tn;E.nodeType!==8;){if(!_){_=null;break e}if(E=Wt(E.nextSibling),E===null){_=null;break e}}_=E}_!==null?(l.memoizedState={dehydrated:_,treeContext:di!==null?{id:gn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},E=kt(18,null,null,0),E.stateNode=_,E.return=l,l.child=E,Ct=l,je=null,E=!0):E=!1}E||pi(l)}if(_=l.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return ku(_)?l.lanes=32:l.lanes=536870912,null;Cn(l)}return _=c.children,c=c.fallback,d?(Gn(),d=l.mode,_=Ls({mode:"hidden",children:_},d),c=fi(c,d,s,null),_.return=l,c.return=l,_.sibling=c,l.child=_,d=l.child,d.memoizedState=Zr(s),d.childLanes=Kr(t,T,s),l.memoizedState=$r,c):(Bn(l),Qr(l,_))}if(E=t.memoizedState,E!==null&&(_=E.dehydrated,_!==null)){if(g)l.flags&256?(Bn(l),l.flags&=-257,l=Xr(t,l,s)):l.memoizedState!==null?(Gn(),l.child=t.child,l.flags|=128,l=null):(Gn(),d=c.fallback,_=l.mode,c=Ls({mode:"visible",children:c.children},_),d=fi(d,_,s,null),d.flags|=2,c.return=l,d.return=l,c.sibling=d,l.child=c,ll(l,t.child,null,s),c=l.child,c.memoizedState=Zr(s),c.childLanes=Kr(t,T,s),l.memoizedState=$r,l=d);else if(Bn(l),ku(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var D=T.dgst;T=D,c=Error(o(419)),c.stack="",c.digest=T,Zl({value:c,source:null,stack:null}),l=Xr(t,l,s)}else if(ct||Kl(t,l,s,!1),T=(s&t.childLanes)!==0,ct||T){if(T=Je,T!==null&&(c=s&-s,c=(c&42)!==0?1:Ua(c),c=(c&(T.suspendedLanes|s))!==0?0:c,c!==0&&c!==E.retryLane))throw E.retryLane=c,$i(t,c),qt(T,t,c),Yd;_.data==="$?"||pu(),l=Xr(t,l,s)}else _.data==="$?"?(l.flags|=192,l.child=t.child,l=null):(t=E.treeContext,je=Wt(_.nextSibling),Ct=l,Ie=!0,mi=null,tn=!1,t!==null&&(Ot[Ft++]=gn,Ot[Ft++]=yn,Ot[Ft++]=di,gn=t.id,yn=t.overflow,di=l),l=Qr(l,c.children),l.flags|=4096);return l}return d?(Gn(),d=c.fallback,_=l.mode,E=t.child,D=E.sibling,c=pn(E,{mode:"hidden",children:c.children}),c.subtreeFlags=E.subtreeFlags&65011712,D!==null?d=pn(D,d):(d=fi(d,_,s,null),d.flags|=2),d.return=l,c.return=l,c.sibling=d,l.child=c,c=d,d=l.child,_=t.child.memoizedState,_===null?_=Zr(s):(E=_.cachePool,E!==null?(D=st._currentValue,E=E.parent!==D?{parent:D,pool:D}:E):E=Bf(),_={baseLanes:_.baseLanes|s,cachePool:E}),d.memoizedState=_,d.childLanes=Kr(t,T,s),l.memoizedState=$r,c):(Bn(l),s=t.child,t=s.sibling,s=pn(s,{mode:"visible",children:c.children}),s.return=l,s.sibling=null,t!==null&&(T=l.deletions,T===null?(l.deletions=[t],l.flags|=16):T.push(t)),l.child=s,l.memoizedState=null,s)}function Qr(t,l){return l=Ls({mode:"visible",children:l},t.mode),l.return=t,t.child=l}function Ls(t,l){return t=kt(22,t,null,l),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xr(t,l,s){return ll(l,t.child,null,s),t=Qr(l,l.pendingProps.children),t.flags|=2,l.memoizedState=null,t}function th(t,l,s){t.lanes|=l;var c=t.alternate;c!==null&&(c.lanes|=l),pr(t.return,l,s)}function Wr(t,l,s,c,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d}:(g.isBackwards=l,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=s,g.tailMode=d)}function nh(t,l,s){var c=l.pendingProps,d=c.revealOrder,g=c.tail;if(ht(t,l,c.children,s),c=at.current,(c&2)!==0)c=c&1|2,l.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=l.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&th(t,s,l);else if(t.tag===19)th(t,s,l);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===l)break e;for(;t.sibling===null;){if(t.return===null||t.return===l)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch(Z(at,c),d){case"forwards":for(s=l.child,d=null;s!==null;)t=s.alternate,t!==null&&Ds(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=l.child,l.child=null):(d=s.sibling,s.sibling=null),Wr(l,!1,d,s,g);break;case"backwards":for(s=null,d=l.child,l.child=null;d!==null;){if(t=d.alternate,t!==null&&Ds(t)===null){l.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}Wr(l,!0,s,null,g);break;case"together":Wr(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function _n(t,l,s){if(t!==null&&(l.dependencies=t.dependencies),Jn|=l.lanes,(s&l.childLanes)===0)if(t!==null){if(Kl(t,l,s,!1),(s&l.childLanes)===0)return null}else return null;if(t!==null&&l.child!==t.child)throw Error(o(153));if(l.child!==null){for(t=l.child,s=pn(t,t.pendingProps),l.child=s,s.return=l;t.sibling!==null;)t=t.sibling,s=s.sibling=pn(t,t.pendingProps),s.return=l;s.sibling=null}return l.child}function jr(t,l){return(t.lanes&l)!==0?!0:(t=t.dependencies,!!(t!==null&&ps(t)))}function Lv(t,l,s){switch(l.tag){case 3:Ye(l,l.stateNode.containerInfo),Ln(l,st,t.memoizedState.cache),$l();break;case 27:case 5:ue(l);break;case 4:Ye(l,l.stateNode.containerInfo);break;case 10:Ln(l,l.type,l.memoizedProps.value);break;case 13:var c=l.memoizedState;if(c!==null)return c.dehydrated!==null?(Bn(l),l.flags|=128,null):(s&l.child.childLanes)!==0?eh(t,l,s):(Bn(l),t=_n(t,l,s),t!==null?t.sibling:null);Bn(l);break;case 19:var d=(t.flags&128)!==0;if(c=(s&l.childLanes)!==0,c||(Kl(t,l,s,!1),c=(s&l.childLanes)!==0),d){if(c)return nh(t,l,s);l.flags|=128}if(d=l.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(at,at.current),c)break;return null;case 22:case 23:return l.lanes=0,Kd(t,l,s);case 24:Ln(l,st,t.memoizedState.cache)}return _n(t,l,s)}function ih(t,l,s){if(t!==null)if(t.memoizedProps!==l.pendingProps)ct=!0;else{if(!jr(t,s)&&(l.flags&128)===0)return ct=!1,Lv(t,l,s);ct=(t.flags&131072)!==0}else ct=!1,Ie&&(l.flags&1048576)!==0&&Uf(l,ms,l.index);switch(l.lanes=0,l.tag){case 16:e:{t=l.pendingProps;var c=l.elementType,d=c._init;if(c=d(c._payload),l.type=c,typeof c=="function")rr(c)?(t=Si(c,t),l.tag=1,l=Wd(null,l,c,t,s)):(l.tag=0,l=Jr(null,l,c,t,s));else{if(c!=null){if(d=c.$$typeof,d===W){l.tag=11,l=Jd(null,l,c,t,s);break e}else if(d===$){l.tag=14,l=$d(null,l,c,t,s);break e}}throw l=rt(c)||c,Error(o(306,l,""))}}return l;case 0:return Jr(t,l,l.type,l.pendingProps,s);case 1:return c=l.type,d=Si(c,l.pendingProps),Wd(t,l,c,d,s);case 3:e:{if(Ye(l,l.stateNode.containerInfo),t===null)throw Error(o(387));c=l.pendingProps;var g=l.memoizedState;d=g.element,_r(t,l),no(l,c,null,s);var T=l.memoizedState;if(c=T.cache,Ln(l,st,c),c!==g.cache&&gr(l,[st],s,!0),to(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},l.updateQueue.baseState=g,l.memoizedState=g,l.flags&256){l=jd(t,l,c,s);break e}else if(c!==d){d=Gt(Error(o(424)),l),Zl(d),l=jd(t,l,c,s);break e}else{switch(t=l.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(je=Wt(t.firstChild),Ct=l,Ie=!0,mi=null,tn=!0,s=Ld(l,null,c,s),l.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if($l(),c===d){l=_n(t,l,s);break e}ht(t,l,c,s)}l=l.child}return l;case 26:return Is(t,l),t===null?(s=am(l.type,null,l.pendingProps,null))?l.memoizedState=s:Ie||(s=l.type,t=l.pendingProps,c=Ks(fe.current).createElement(s),c[gt]=l,c[xt]=t,pt(c,s,t),ut(c),l.stateNode=c):l.memoizedState=am(l.type,t.memoizedProps,l.pendingProps,t.memoizedState),null;case 27:return ue(l),t===null&&Ie&&(c=l.stateNode=lm(l.type,l.pendingProps,fe.current),Ct=l,tn=!0,d=je,Qn(l.type)?(Uu=d,je=Wt(c.firstChild)):je=d),ht(t,l,l.pendingProps.children,s),Is(t,l),t===null&&(l.flags|=4194304),l.child;case 5:return t===null&&Ie&&((d=c=je)&&(c=uT(c,l.type,l.pendingProps,tn),c!==null?(l.stateNode=c,Ct=l,je=Wt(c.firstChild),tn=!1,d=!0):d=!1),d||pi(l)),ue(l),d=l.type,g=l.pendingProps,T=t!==null?t.memoizedProps:null,c=g.children,wu(d,g)?c=null:T!==null&&wu(d,T)&&(l.flags|=32),l.memoizedState!==null&&(d=Nr(t,l,Rv,null,null,s),Ao._currentValue=d),Is(t,l),ht(t,l,c,s),l.child;case 6:return t===null&&Ie&&((t=s=je)&&(s=cT(s,l.pendingProps,tn),s!==null?(l.stateNode=s,Ct=l,je=null,t=!0):t=!1),t||pi(l)),null;case 13:return eh(t,l,s);case 4:return Ye(l,l.stateNode.containerInfo),c=l.pendingProps,t===null?l.child=ll(l,null,c,s):ht(t,l,c,s),l.child;case 11:return Jd(t,l,l.type,l.pendingProps,s);case 7:return ht(t,l,l.pendingProps,s),l.child;case 8:return ht(t,l,l.pendingProps.children,s),l.child;case 12:return ht(t,l,l.pendingProps.children,s),l.child;case 10:return c=l.pendingProps,Ln(l,l.type,c.value),ht(t,l,c.children,s),l.child;case 9:return d=l.type._context,c=l.pendingProps.children,yi(l),d=yt(d),c=c(d),l.flags|=1,ht(t,l,c,s),l.child;case 14:return $d(t,l,l.type,l.pendingProps,s);case 15:return Zd(t,l,l.type,l.pendingProps,s);case 19:return nh(t,l,s);case 31:return c=l.pendingProps,s=l.mode,c={mode:c.mode,children:c.children},t===null?(s=Ls(c,s),s.ref=l.ref,l.child=s,s.return=l,l=s):(s=pn(t.child,c),s.ref=l.ref,l.child=s,s.return=l,l=s),l;case 22:return Kd(t,l,s);case 24:return yi(l),c=yt(st),t===null?(d=Tr(),d===null&&(d=Je,g=yr(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),l.memoizedState={parent:c,cache:d},Cr(l),Ln(l,st,d)):((t.lanes&s)!==0&&(_r(t,l),no(l,null,null,s),to()),d=t.memoizedState,g=l.memoizedState,d.parent!==c?(d={parent:c,cache:c},l.memoizedState=d,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=d),Ln(l,st,c)):(c=g.cache,Ln(l,st,c),c!==d.cache&&gr(l,[st],s,!0))),ht(t,l,l.pendingProps.children,s),l.child;case 29:throw l.pendingProps}throw Error(o(156,l.tag))}function xn(t){t.flags|=4}function lh(t,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dm(l)){if(l=Yt.current,l!==null&&((we&4194048)===we?nn!==null:(we&62914560)!==we&&(we&536870912)===0||l!==nn))throw jl=Sr,Gf;t.flags|=8192}}function Vs(t,l){l!==null&&(t.flags|=4),t.flags&16384&&(l=t.tag!==22?Lc():536870912,t.lanes|=l,rl|=l)}function uo(t,l){if(!Ie)switch(t.tailMode){case"hidden":l=t.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?l||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Xe(t){var l=t.alternate!==null&&t.alternate.child===t.child,s=0,c=0;if(l)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=s,l}function Vv(t,l,s){var c=l.pendingProps;switch(dr(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(l),null;case 1:return Xe(l),null;case 3:return s=l.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),Tn(st),jt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Jl(l)?xn(l):t===null||t.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Vf())),Xe(l),null;case 26:return s=l.memoizedState,t===null?(xn(l),s!==null?(Xe(l),lh(l,s)):(Xe(l),l.flags&=-16777217)):s?s!==t.memoizedState?(xn(l),Xe(l),lh(l,s)):(Xe(l),l.flags&=-16777217):(t.memoizedProps!==c&&xn(l),Xe(l),l.flags&=-16777217),null;case 27:Me(l),s=fe.current;var d=l.type;if(t!==null&&l.stateNode!=null)t.memoizedProps!==c&&xn(l);else{if(!c){if(l.stateNode===null)throw Error(o(166));return Xe(l),null}t=ne.current,Jl(l)?If(l):(t=lm(d,c,s),l.stateNode=t,xn(l))}return Xe(l),null;case 5:if(Me(l),s=l.type,t!==null&&l.stateNode!=null)t.memoizedProps!==c&&xn(l);else{if(!c){if(l.stateNode===null)throw Error(o(166));return Xe(l),null}if(t=ne.current,Jl(l))If(l);else{switch(d=Ks(fe.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?d.createElement(s,{is:c.is}):d.createElement(s)}}t[gt]=l,t[xt]=c;e:for(d=l.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}l.stateNode=t;e:switch(pt(t,s,c),s){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&xn(l)}}return Xe(l),l.flags&=-16777217,null;case 6:if(t&&l.stateNode!=null)t.memoizedProps!==c&&xn(l);else{if(typeof c!="string"&&l.stateNode===null)throw Error(o(166));if(t=fe.current,Jl(l)){if(t=l.stateNode,s=l.memoizedProps,c=null,d=Ct,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}t[gt]=l,t=!!(t.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||Xh(t.nodeValue,s)),t||pi(l)}else t=Ks(t).createTextNode(c),t[gt]=l,l.stateNode=t}return Xe(l),null;case 13:if(c=l.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Jl(l),c!==null&&c.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=l.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[gt]=l}else $l(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xe(l),d=!1}else d=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return l.flags&256?(Cn(l),l):(Cn(l),null)}if(Cn(l),(l.flags&128)!==0)return l.lanes=s,l;if(s=c!==null,t=t!==null&&t.memoizedState!==null,s){c=l.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return s!==t&&s&&(l.child.flags|=8192),Vs(l,l.updateQueue),Xe(l),null;case 4:return jt(),t===null&&Eu(l.stateNode.containerInfo),Xe(l),null;case 10:return Tn(l.type),Xe(l),null;case 19:if(J(at),d=l.memoizedState,d===null)return Xe(l),null;if(c=(l.flags&128)!==0,g=d.rendering,g===null)if(c)uo(d,!1);else{if(et!==0||t!==null&&(t.flags&128)!==0)for(t=l.child;t!==null;){if(g=Ds(t),g!==null){for(l.flags|=128,uo(d,!1),t=g.updateQueue,l.updateQueue=t,Vs(l,t),l.subtreeFlags=0,t=s,s=l.child;s!==null;)kf(s,t),s=s.sibling;return Z(at,at.current&1|2),l.child}t=t.sibling}d.tail!==null&&Nt()>zs&&(l.flags|=128,c=!0,uo(d,!1),l.lanes=4194304)}else{if(!c)if(t=Ds(g),t!==null){if(l.flags|=128,c=!0,t=t.updateQueue,l.updateQueue=t,Vs(l,t),uo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ie)return Xe(l),null}else 2*Nt()-d.renderingStartTime>zs&&s!==536870912&&(l.flags|=128,c=!0,uo(d,!1),l.lanes=4194304);d.isBackwards?(g.sibling=l.child,l.child=g):(t=d.last,t!==null?t.sibling=g:l.child=g,d.last=g)}return d.tail!==null?(l=d.tail,d.rendering=l,d.tail=l.sibling,d.renderingStartTime=Nt(),l.sibling=null,t=at.current,Z(at,c?t&1|2:t&1),l):(Xe(l),null);case 22:case 23:return Cn(l),Mr(),c=l.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(l.flags|=8192):c&&(l.flags|=8192),c?(s&536870912)!==0&&(l.flags&128)===0&&(Xe(l),l.subtreeFlags&6&&(l.flags|=8192)):Xe(l),s=l.updateQueue,s!==null&&Vs(l,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==s&&(l.flags|=2048),t!==null&&J(vi),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),l.memoizedState.cache!==s&&(l.flags|=2048),Tn(st),Xe(l),null;case 25:return null;case 30:return null}throw Error(o(156,l.tag))}function qv(t,l){switch(dr(l),l.tag){case 1:return t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 3:return Tn(st),jt(),t=l.flags,(t&65536)!==0&&(t&128)===0?(l.flags=t&-65537|128,l):null;case 26:case 27:case 5:return Me(l),null;case 13:if(Cn(l),t=l.memoizedState,t!==null&&t.dehydrated!==null){if(l.alternate===null)throw Error(o(340));$l()}return t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 19:return J(at),null;case 4:return jt(),null;case 10:return Tn(l.type),null;case 22:case 23:return Cn(l),Mr(),t!==null&&J(vi),t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 24:return Tn(st),null;case 25:return null;default:return null}}function oh(t,l){switch(dr(l),l.tag){case 3:Tn(st),jt();break;case 26:case 27:case 5:Me(l);break;case 4:jt();break;case 13:Cn(l);break;case 19:J(at);break;case 10:Tn(l.type);break;case 22:case 23:Cn(l),Mr(),t!==null&&J(vi);break;case 24:Tn(st)}}function co(t,l){try{var s=l.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var d=c.next;s=d;do{if((s.tag&t)===t){c=void 0;var g=s.create,T=s.inst;c=g(),T.destroy=c}s=s.next}while(s!==d)}}catch(_){Fe(l,l.return,_)}}function Hn(t,l,s){try{var c=l.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&t)===t){var T=c.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,d=l;var E=s,D=_;try{D()}catch(P){Fe(d,E,P)}}}c=c.next}while(c!==g)}}catch(P){Fe(l,l.return,P)}}function sh(t){var l=t.updateQueue;if(l!==null){var s=t.stateNode;try{$f(l,s)}catch(c){Fe(t,t.return,c)}}}function ah(t,l,s){s.props=Si(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(c){Fe(t,l,c)}}function fo(t,l){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof s=="function"?t.refCleanup=s(c):s.current=c}}catch(d){Fe(t,l,d)}}function ln(t,l){var s=t.ref,c=t.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(d){Fe(t,l,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Fe(t,l,d)}else s.current=null}function rh(t){var l=t.type,s=t.memoizedProps,c=t.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(d){Fe(t,t.return,d)}}function eu(t,l,s){try{var c=t.stateNode;lT(c,t.type,s,l),c[xt]=l}catch(d){Fe(t,t.return,d)}}function uh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qn(t.type)||t.tag===4}function tu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nu(t,l,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,l?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,l):(l=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.appendChild(t),s=s._reactRootContainer,s!=null||l.onclick!==null||(l.onclick=Zs));else if(c!==4&&(c===27&&Qn(t.type)&&(s=t.stateNode,l=null),t=t.child,t!==null))for(nu(t,l,s),t=t.sibling;t!==null;)nu(t,l,s),t=t.sibling}function qs(t,l,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,l?s.insertBefore(t,l):s.appendChild(t);else if(c!==4&&(c===27&&Qn(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(qs(t,l,s),t=t.sibling;t!==null;)qs(t,l,s),t=t.sibling}function ch(t){var l=t.stateNode,s=t.memoizedProps;try{for(var c=t.type,d=l.attributes;d.length;)l.removeAttributeNode(d[0]);pt(l,c,s),l[gt]=t,l[xt]=s}catch(g){Fe(t,t.return,g)}}var En=!1,nt=!1,iu=!1,fh=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Pv(t,l){if(t=t.containerInfo,Ru=ta,t=_f(t),tr(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var T=0,_=-1,E=-1,D=0,P=0,B=t,k=null;t:for(;;){for(var U;B!==s||d!==0&&B.nodeType!==3||(_=T+d),B!==g||c!==0&&B.nodeType!==3||(E=T+c),B.nodeType===3&&(T+=B.nodeValue.length),(U=B.firstChild)!==null;)k=B,B=U;for(;;){if(B===t)break t;if(k===s&&++D===d&&(_=T),k===g&&++P===c&&(E=T),(U=B.nextSibling)!==null)break;B=k,k=B.parentNode}B=U}s=_===-1||E===-1?null:{start:_,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Nu={focusedElem:t,selectionRange:s},ta=!1,ft=l;ft!==null;)if(l=ft,t=l.child,(l.subtreeFlags&1024)!==0&&t!==null)t.return=l,ft=t;else for(;ft!==null;){switch(l=ft,g=l.alternate,t=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=l,d=g.memoizedProps,g=g.memoizedState,c=s.stateNode;try{var me=Si(s.type,d,s.elementType===s.type);t=c.getSnapshotBeforeUpdate(me,g),c.__reactInternalSnapshotBeforeUpdate=t}catch(ce){Fe(s,s.return,ce)}}break;case 3:if((t&1024)!==0){if(t=l.stateNode.containerInfo,s=t.nodeType,s===9)Du(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Du(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=l.sibling,t!==null){t.return=l.return,ft=t;break}ft=l.return}}function dh(t,l,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:On(t,s),c&4&&co(5,s);break;case 1:if(On(t,s),c&4)if(t=s.stateNode,l===null)try{t.componentDidMount()}catch(T){Fe(s,s.return,T)}else{var d=Si(s.type,l.memoizedProps);l=l.memoizedState;try{t.componentDidUpdate(d,l,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Fe(s,s.return,T)}}c&64&&sh(s),c&512&&fo(s,s.return);break;case 3:if(On(t,s),c&64&&(t=s.updateQueue,t!==null)){if(l=null,s.child!==null)switch(s.child.tag){case 27:case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}try{$f(t,l)}catch(T){Fe(s,s.return,T)}}break;case 27:l===null&&c&4&&ch(s);case 26:case 5:On(t,s),l===null&&c&4&&rh(s),c&512&&fo(s,s.return);break;case 12:On(t,s);break;case 13:On(t,s),c&4&&ph(t,s),c&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=$v.bind(null,s),fT(t,s))));break;case 22:if(c=s.memoizedState!==null||En,!c){l=l!==null&&l.memoizedState!==null||nt,d=En;var g=nt;En=c,(nt=l)&&!g?Fn(t,s,(s.subtreeFlags&8772)!==0):On(t,s),En=d,nt=g}break;case 30:break;default:On(t,s)}}function hh(t){var l=t.alternate;l!==null&&(t.alternate=null,hh(l)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(l=t.stateNode,l!==null&&Va(l)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,Mt=!1;function An(t,l,s){for(s=s.child;s!==null;)mh(t,l,s),s=s.sibling}function mh(t,l,s){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(kl,s)}catch{}switch(s.tag){case 26:nt||ln(s,l),An(t,l,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:nt||ln(s,l);var c=Qe,d=Mt;Qn(s.type)&&(Qe=s.stateNode,Mt=!1),An(t,l,s),Co(s.stateNode),Qe=c,Mt=d;break;case 5:nt||ln(s,l);case 6:if(c=Qe,d=Mt,Qe=null,An(t,l,s),Qe=c,Mt=d,Qe!==null)if(Mt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(s.stateNode)}catch(g){Fe(s,l,g)}else try{Qe.removeChild(s.stateNode)}catch(g){Fe(s,l,g)}break;case 18:Qe!==null&&(Mt?(t=Qe,nm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),wo(t)):nm(Qe,s.stateNode));break;case 4:c=Qe,d=Mt,Qe=s.stateNode.containerInfo,Mt=!0,An(t,l,s),Qe=c,Mt=d;break;case 0:case 11:case 14:case 15:nt||Hn(2,s,l),nt||Hn(4,s,l),An(t,l,s);break;case 1:nt||(ln(s,l),c=s.stateNode,typeof c.componentWillUnmount=="function"&&ah(s,l,c)),An(t,l,s);break;case 21:An(t,l,s);break;case 22:nt=(c=nt)||s.memoizedState!==null,An(t,l,s),nt=c;break;default:An(t,l,s)}}function ph(t,l){if(l.memoizedState===null&&(t=l.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wo(t)}catch(s){Fe(l,l.return,s)}}function zv(t){switch(t.tag){case 13:case 19:var l=t.stateNode;return l===null&&(l=t.stateNode=new fh),l;case 22:return t=t.stateNode,l=t._retryCache,l===null&&(l=t._retryCache=new fh),l;default:throw Error(o(435,t.tag))}}function lu(t,l){var s=zv(t);l.forEach(function(c){var d=Zv.bind(null,t,c);s.has(c)||(s.add(c),c.then(d,d))})}function Ut(t,l){var s=l.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c],g=t,T=l,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Qn(_.type)){Qe=_.stateNode,Mt=!1;break e}break;case 5:Qe=_.stateNode,Mt=!1;break e;case 3:case 4:Qe=_.stateNode.containerInfo,Mt=!0;break e}_=_.return}if(Qe===null)throw Error(o(160));mh(g,T,d),Qe=null,Mt=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)gh(l,t),l=l.sibling}var Xt=null;function gh(t,l){var s=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ut(l,t),It(t),c&4&&(Hn(3,t,t.return),co(3,t),Hn(5,t,t.return));break;case 1:Ut(l,t),It(t),c&512&&(nt||s===null||ln(s,s.return)),c&64&&En&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var d=Xt;if(Ut(l,t),It(t),c&512&&(nt||s===null||ln(s,s.return)),c&4){var g=s!==null?s.memoizedState:null;if(c=t.memoizedState,s===null)if(c===null)if(t.stateNode===null){e:{c=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ll]||g[gt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),pt(g,c,s),g[gt]=t,ut(g),c=g;break e;case"link":var T=cm("link","href",d).get(c+(s.href||""));if(T){for(var _=0;_<T.length;_++)if(g=T[_],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(_,1);break t}}g=d.createElement(c),pt(g,c,s),d.head.appendChild(g);break;case"meta":if(T=cm("meta","content",d).get(c+(s.content||""))){for(_=0;_<T.length;_++)if(g=T[_],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(_,1);break t}}g=d.createElement(c),pt(g,c,s),d.head.appendChild(g);break;default:throw Error(o(468,c))}g[gt]=t,ut(g),c=g}t.stateNode=c}else fm(d,t.type,t.stateNode);else t.stateNode=um(d,c,t.memoizedProps);else g!==c?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,c===null?fm(d,t.type,t.stateNode):um(d,c,t.memoizedProps)):c===null&&t.stateNode!==null&&eu(t,t.memoizedProps,s.memoizedProps)}break;case 27:Ut(l,t),It(t),c&512&&(nt||s===null||ln(s,s.return)),s!==null&&c&4&&eu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Ut(l,t),It(t),c&512&&(nt||s===null||ln(s,s.return)),t.flags&32){d=t.stateNode;try{Bi(d,"")}catch(U){Fe(t,t.return,U)}}c&4&&t.stateNode!=null&&(d=t.memoizedProps,eu(t,d,s!==null?s.memoizedProps:d)),c&1024&&(iu=!0);break;case 6:if(Ut(l,t),It(t),c&4){if(t.stateNode===null)throw Error(o(162));c=t.memoizedProps,s=t.stateNode;try{s.nodeValue=c}catch(U){Fe(t,t.return,U)}}break;case 3:if(Ws=null,d=Xt,Xt=Qs(l.containerInfo),Ut(l,t),Xt=d,It(t),c&4&&s!==null&&s.memoizedState.isDehydrated)try{wo(l.containerInfo)}catch(U){Fe(t,t.return,U)}iu&&(iu=!1,yh(t));break;case 4:c=Xt,Xt=Qs(t.stateNode.containerInfo),Ut(l,t),It(t),Xt=c;break;case 12:Ut(l,t),It(t);break;case 13:Ut(l,t),It(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(cu=Nt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,lu(t,c)));break;case 22:d=t.memoizedState!==null;var E=s!==null&&s.memoizedState!==null,D=En,P=nt;if(En=D||d,nt=P||E,Ut(l,t),nt=P,En=D,It(t),c&8192)e:for(l=t.stateNode,l._visibility=d?l._visibility&-2:l._visibility|1,d&&(s===null||E||En||nt||Ci(t)),s=null,l=t;;){if(l.tag===5||l.tag===26){if(s===null){E=s=l;try{if(g=E.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=E.stateNode;var B=E.memoizedProps.style,k=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(U){Fe(E,E.return,U)}}}else if(l.tag===6){if(s===null){E=l;try{E.stateNode.nodeValue=d?"":E.memoizedProps}catch(U){Fe(E,E.return,U)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===t)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;s===l&&(s=null),l=l.return}s===l&&(s=null),l.sibling.return=l.return,l=l.sibling}c&4&&(c=t.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,lu(t,s))));break;case 19:Ut(l,t),It(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,lu(t,c)));break;case 30:break;case 21:break;default:Ut(l,t),It(t)}}function It(t){var l=t.flags;if(l&2){try{for(var s,c=t.return;c!==null;){if(uh(c)){s=c;break}c=c.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var d=s.stateNode,g=tu(t);qs(t,g,d);break;case 5:var T=s.stateNode;s.flags&32&&(Bi(T,""),s.flags&=-33);var _=tu(t);qs(t,_,T);break;case 3:case 4:var E=s.stateNode.containerInfo,D=tu(t);nu(t,D,E);break;default:throw Error(o(161))}}catch(P){Fe(t,t.return,P)}t.flags&=-3}l&4096&&(t.flags&=-4097)}function yh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var l=t;yh(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),t=t.sibling}}function On(t,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)dh(t,l.alternate,l),l=l.sibling}function Ci(t){for(t=t.child;t!==null;){var l=t;switch(l.tag){case 0:case 11:case 14:case 15:Hn(4,l,l.return),Ci(l);break;case 1:ln(l,l.return);var s=l.stateNode;typeof s.componentWillUnmount=="function"&&ah(l,l.return,s),Ci(l);break;case 27:Co(l.stateNode);case 26:case 5:ln(l,l.return),Ci(l);break;case 22:l.memoizedState===null&&Ci(l);break;case 30:Ci(l);break;default:Ci(l)}t=t.sibling}}function Fn(t,l,s){for(s=s&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var c=l.alternate,d=t,g=l,T=g.flags;switch(g.tag){case 0:case 11:case 15:Fn(d,g,s),co(4,g);break;case 1:if(Fn(d,g,s),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){Fe(c,c.return,D)}if(c=g,d=c.updateQueue,d!==null){var _=c.stateNode;try{var E=d.shared.hiddenCallbacks;if(E!==null)for(d.shared.hiddenCallbacks=null,d=0;d<E.length;d++)Jf(E[d],_)}catch(D){Fe(c,c.return,D)}}s&&T&64&&sh(g),fo(g,g.return);break;case 27:ch(g);case 26:case 5:Fn(d,g,s),s&&c===null&&T&4&&rh(g),fo(g,g.return);break;case 12:Fn(d,g,s);break;case 13:Fn(d,g,s),s&&T&4&&ph(d,g);break;case 22:g.memoizedState===null&&Fn(d,g,s),fo(g,g.return);break;case 30:break;default:Fn(d,g,s)}l=l.sibling}}function ou(t,l){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(t=l.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ql(s))}function su(t,l){t=null,l.alternate!==null&&(t=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==t&&(l.refCount++,t!=null&&Ql(t))}function on(t,l,s,c){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)vh(t,l,s,c),l=l.sibling}function vh(t,l,s,c){var d=l.flags;switch(l.tag){case 0:case 11:case 15:on(t,l,s,c),d&2048&&co(9,l);break;case 1:on(t,l,s,c);break;case 3:on(t,l,s,c),d&2048&&(t=null,l.alternate!==null&&(t=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==t&&(l.refCount++,t!=null&&Ql(t)));break;case 12:if(d&2048){on(t,l,s,c),t=l.stateNode;try{var g=l.memoizedProps,T=g.id,_=g.onPostCommit;typeof _=="function"&&_(T,l.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){Fe(l,l.return,E)}}else on(t,l,s,c);break;case 13:on(t,l,s,c);break;case 23:break;case 22:g=l.stateNode,T=l.alternate,l.memoizedState!==null?g._visibility&2?on(t,l,s,c):ho(t,l):g._visibility&2?on(t,l,s,c):(g._visibility|=2,ol(t,l,s,c,(l.subtreeFlags&10256)!==0)),d&2048&&ou(T,l);break;case 24:on(t,l,s,c),d&2048&&su(l.alternate,l);break;default:on(t,l,s,c)}}function ol(t,l,s,c,d){for(d=d&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var g=t,T=l,_=s,E=c,D=T.flags;switch(T.tag){case 0:case 11:case 15:ol(g,T,_,E,d),co(8,T);break;case 23:break;case 22:var P=T.stateNode;T.memoizedState!==null?P._visibility&2?ol(g,T,_,E,d):ho(g,T):(P._visibility|=2,ol(g,T,_,E,d)),d&&D&2048&&ou(T.alternate,T);break;case 24:ol(g,T,_,E,d),d&&D&2048&&su(T.alternate,T);break;default:ol(g,T,_,E,d)}l=l.sibling}}function ho(t,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var s=t,c=l,d=c.flags;switch(c.tag){case 22:ho(s,c),d&2048&&ou(c.alternate,c);break;case 24:ho(s,c),d&2048&&su(c.alternate,c);break;default:ho(s,c)}l=l.sibling}}var mo=8192;function sl(t){if(t.subtreeFlags&mo)for(t=t.child;t!==null;)Th(t),t=t.sibling}function Th(t){switch(t.tag){case 26:sl(t),t.flags&mo&&t.memoizedState!==null&&ET(Xt,t.memoizedState,t.memoizedProps);break;case 5:sl(t);break;case 3:case 4:var l=Xt;Xt=Qs(t.stateNode.containerInfo),sl(t),Xt=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=mo,mo=16777216,sl(t),mo=l):sl(t));break;default:sl(t)}}function Sh(t){var l=t.alternate;if(l!==null&&(t=l.child,t!==null)){l.child=null;do l=t.sibling,t.sibling=null,t=l;while(t!==null)}}function po(t){var l=t.deletions;if((t.flags&16)!==0){if(l!==null)for(var s=0;s<l.length;s++){var c=l[s];ft=c,_h(c,t)}Sh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ch(t),t=t.sibling}function Ch(t){switch(t.tag){case 0:case 11:case 15:po(t),t.flags&2048&&Hn(9,t,t.return);break;case 3:po(t);break;case 12:po(t);break;case 22:var l=t.stateNode;t.memoizedState!==null&&l._visibility&2&&(t.return===null||t.return.tag!==13)?(l._visibility&=-3,Ps(t)):po(t);break;default:po(t)}}function Ps(t){var l=t.deletions;if((t.flags&16)!==0){if(l!==null)for(var s=0;s<l.length;s++){var c=l[s];ft=c,_h(c,t)}Sh(t)}for(t=t.child;t!==null;){switch(l=t,l.tag){case 0:case 11:case 15:Hn(8,l,l.return),Ps(l);break;case 22:s=l.stateNode,s._visibility&2&&(s._visibility&=-3,Ps(l));break;default:Ps(l)}t=t.sibling}}function _h(t,l){for(;ft!==null;){var s=ft;switch(s.tag){case 0:case 11:case 15:Hn(8,s,l);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ql(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,ft=c;else e:for(s=t;ft!==null;){c=ft;var d=c.sibling,g=c.return;if(hh(c),c===s){ft=null;break e}if(d!==null){d.return=g,ft=d;break e}ft=g}}}var Bv={getCacheForType:function(t){var l=yt(st),s=l.data.get(t);return s===void 0&&(s=t(),l.data.set(t,s)),s}},Gv=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Je=null,xe=null,we=0,qe=0,Lt=null,Yn=!1,al=!1,au=!1,Mn=0,et=0,Jn=0,_i=0,ru=0,Jt=0,rl=0,go=null,Rt=null,uu=!1,cu=0,zs=1/0,Bs=null,$n=null,mt=0,Zn=null,ul=null,cl=0,fu=0,du=null,xh=null,yo=0,hu=null;function Vt(){if((Ve&2)!==0&&we!==0)return we&-we;if(V.T!==null){var t=Xi;return t!==0?t:Su()}return Pc()}function Eh(){Jt===0&&(Jt=(we&536870912)===0||Ie?Ic():536870912);var t=Yt.current;return t!==null&&(t.flags|=32),Jt}function qt(t,l,s){(t===Je&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(fl(t,0),Kn(t,we,Jt,!1)),Il(t,s),((Ve&2)===0||t!==Je)&&(t===Je&&((Ve&2)===0&&(_i|=s),et===4&&Kn(t,we,Jt,!1)),sn(t))}function Ah(t,l,s){if((Ve&6)!==0)throw Error(o(327));var c=!s&&(l&124)===0&&(l&t.expiredLanes)===0||Ul(t,l),d=c?Fv(t,l):gu(t,l,!0),g=c;do{if(d===0){al&&!c&&Kn(t,l,0,!1);break}else{if(s=t.current.alternate,g&&!Hv(s)){d=gu(t,l,!1),g=!1;continue}if(d===2){if(g=l,t.errorRecoveryDisabledLanes&g)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){l=T;e:{var _=t;d=go;var E=_.current.memoizedState.isDehydrated;if(E&&(fl(_,T).flags|=256),T=gu(_,T,!1),T!==2){if(au&&!E){_.errorRecoveryDisabledLanes|=g,_i|=g,d=4;break e}g=Rt,Rt=d,g!==null&&(Rt===null?Rt=g:Rt.push.apply(Rt,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){fl(t,0),Kn(t,l,0,!0);break}e:{switch(c=t,g=d,g){case 0:case 1:throw Error(o(345));case 4:if((l&4194048)!==l)break;case 6:Kn(c,l,Jt,!Yn);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((l&62914560)===l&&(d=cu+300-Nt(),10<d)){if(Kn(c,l,Jt,!Yn),Xo(c,0,!0)!==0)break e;c.timeoutHandle=em(Mh.bind(null,c,s,Rt,Bs,uu,l,Jt,_i,rl,Yn,g,2,-0,0),d);break e}Mh(c,s,Rt,Bs,uu,l,Jt,_i,rl,Yn,g,0,-0,0)}}break}while(!0);sn(t)}function Mh(t,l,s,c,d,g,T,_,E,D,P,B,k,U){if(t.timeoutHandle=-1,B=l.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(Eo={stylesheets:null,count:0,unsuspend:xT},Th(l),B=AT(),B!==null)){t.cancelPendingCommit=B(Uh.bind(null,t,l,g,s,c,d,T,_,E,P,1,k,U)),Kn(t,g,T,!D);return}Uh(t,l,g,s,c,d,T,_,E)}function Hv(t){for(var l=t;;){var s=l.tag;if((s===0||s===11||s===15)&&l.flags&16384&&(s=l.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var d=s[c],g=d.getSnapshot;d=d.value;try{if(!Dt(g(),d))return!1}catch{return!1}}if(s=l.child,l.subtreeFlags&16384&&s!==null)s.return=l,l=s;else{if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Kn(t,l,s,c){l&=~ru,l&=~_i,t.suspendedLanes|=l,t.pingedLanes&=~l,c&&(t.warmLanes|=l),c=t.expirationTimes;for(var d=l;0<d;){var g=31-bt(d),T=1<<g;c[g]=-1,d&=~T}s!==0&&Vc(t,s,l)}function Gs(){return(Ve&6)===0?(vo(0),!1):!0}function mu(){if(xe!==null){if(qe===0)var t=xe.return;else t=xe,vn=gi=null,Dr(t),il=null,ao=0,t=xe;for(;t!==null;)oh(t.alternate,t),t=t.return;xe=null}}function fl(t,l){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,sT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),mu(),Je=t,xe=s=pn(t.current,null),we=l,qe=0,Lt=null,Yn=!1,al=Ul(t,l),au=!1,rl=Jt=ru=_i=Jn=et=0,Rt=go=null,uu=!1,(l&8)!==0&&(l|=l&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=l;0<c;){var d=31-bt(c),g=1<<d;l|=t[d],c&=~g}return Mn=l,us(),s}function Rh(t,l){Ce=null,V.H=Ns,l===Wl||l===vs?(l=Ff(),qe=3):l===Gf?(l=Ff(),qe=4):qe=l===Yd?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Lt=l,xe===null&&(et=1,Us(t,Gt(l,t.current)))}function Nh(){var t=V.H;return V.H=Ns,t===null?Ns:t}function wh(){var t=V.A;return V.A=Bv,t}function pu(){et=4,Yn||(we&4194048)!==we&&Yt.current!==null||(al=!0),(Jn&134217727)===0&&(_i&134217727)===0||Je===null||Kn(Je,we,Jt,!1)}function gu(t,l,s){var c=Ve;Ve|=2;var d=Nh(),g=wh();(Je!==t||we!==l)&&(Bs=null,fl(t,l)),l=!1;var T=et;e:do try{if(qe!==0&&xe!==null){var _=xe,E=Lt;switch(qe){case 8:mu(),T=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(l=!0);var D=qe;if(qe=0,Lt=null,dl(t,_,E,D),s&&al){T=0;break e}break;default:D=qe,qe=0,Lt=null,dl(t,_,E,D)}}Ov(),T=et;break}catch(P){Rh(t,P)}while(!0);return l&&t.shellSuspendCounter++,vn=gi=null,Ve=c,V.H=d,V.A=g,xe===null&&(Je=null,we=0,us()),T}function Ov(){for(;xe!==null;)bh(xe)}function Fv(t,l){var s=Ve;Ve|=2;var c=Nh(),d=wh();Je!==t||we!==l?(Bs=null,zs=Nt()+500,fl(t,l)):al=Ul(t,l);e:do try{if(qe!==0&&xe!==null){l=xe;var g=Lt;t:switch(qe){case 1:qe=0,Lt=null,dl(t,l,g,1);break;case 2:case 9:if(Hf(g)){qe=0,Lt=null,Dh(l);break}l=function(){qe!==2&&qe!==9||Je!==t||(qe=7),sn(t)},g.then(l,l);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Hf(g)?(qe=0,Lt=null,Dh(l)):(qe=0,Lt=null,dl(t,l,g,7));break;case 5:var T=null;switch(xe.tag){case 26:T=xe.memoizedState;case 5:case 27:var _=xe;if(!T||dm(T)){qe=0,Lt=null;var E=_.sibling;if(E!==null)xe=E;else{var D=_.return;D!==null?(xe=D,Hs(D)):xe=null}break t}}qe=0,Lt=null,dl(t,l,g,5);break;case 6:qe=0,Lt=null,dl(t,l,g,6);break;case 8:mu(),et=6;break e;default:throw Error(o(462))}}Yv();break}catch(P){Rh(t,P)}while(!0);return vn=gi=null,V.H=c,V.A=d,Ve=s,xe!==null?0:(Je=null,we=0,us(),et)}function Yv(){for(;xe!==null&&!en();)bh(xe)}function bh(t){var l=ih(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,l===null?Hs(t):xe=l}function Dh(t){var l=t,s=l.alternate;switch(l.tag){case 15:case 0:l=Xd(s,l,l.pendingProps,l.type,void 0,we);break;case 11:l=Xd(s,l,l.pendingProps,l.type.render,l.ref,we);break;case 5:Dr(l);default:oh(s,l),l=xe=kf(l,Mn),l=ih(s,l,Mn)}t.memoizedProps=t.pendingProps,l===null?Hs(t):xe=l}function dl(t,l,s,c){vn=gi=null,Dr(l),il=null,ao=0;var d=l.return;try{if(Iv(t,d,l,s,we)){et=1,Us(t,Gt(s,t.current)),xe=null;return}}catch(g){if(d!==null)throw xe=d,g;et=1,Us(t,Gt(s,t.current)),xe=null;return}l.flags&32768?(Ie||c===1?t=!0:al||(we&536870912)!==0?t=!1:(Yn=t=!0,(c===2||c===9||c===3||c===6)&&(c=Yt.current,c!==null&&c.tag===13&&(c.flags|=16384))),kh(l,t)):Hs(l)}function Hs(t){var l=t;do{if((l.flags&32768)!==0){kh(l,Yn);return}t=l.return;var s=Vv(l.alternate,l,Mn);if(s!==null){xe=s;return}if(l=l.sibling,l!==null){xe=l;return}xe=l=t}while(l!==null);et===0&&(et=5)}function kh(t,l){do{var s=qv(t.alternate,t);if(s!==null){s.flags&=32767,xe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!l&&(t=t.sibling,t!==null)){xe=t;return}xe=t=s}while(t!==null);et=6,xe=null}function Uh(t,l,s,c,d,g,T,_,E){t.cancelPendingCommit=null;do Os();while(mt!==0);if((Ve&6)!==0)throw Error(o(327));if(l!==null){if(l===t.current)throw Error(o(177));if(g=l.lanes|l.childLanes,g|=sr,xy(t,s,g,T,_,E),t===Je&&(xe=Je=null,we=0),ul=l,Zn=t,cl=s,fu=g,du=d,xh=c,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Kv(Zo,function(){return Ph(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||c){c=V.T,V.T=null,d=K.p,K.p=2,T=Ve,Ve|=4;try{Pv(t,l,s)}finally{Ve=T,K.p=d,V.T=c}}mt=1,Ih(),Lh(),Vh()}}function Ih(){if(mt===1){mt=0;var t=Zn,l=ul,s=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||s){s=V.T,V.T=null;var c=K.p;K.p=2;var d=Ve;Ve|=4;try{gh(l,t);var g=Nu,T=_f(t.containerInfo),_=g.focusedElem,E=g.selectionRange;if(T!==_&&_&&_.ownerDocument&&Cf(_.ownerDocument.documentElement,_)){if(E!==null&&tr(_)){var D=E.start,P=E.end;if(P===void 0&&(P=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(P,_.value.length);else{var B=_.ownerDocument||document,k=B&&B.defaultView||window;if(k.getSelection){var U=k.getSelection(),me=_.textContent.length,ce=Math.min(E.start,me),Ge=E.end===void 0?ce:Math.min(E.end,me);!U.extend&&ce>Ge&&(T=Ge,Ge=ce,ce=T);var w=Sf(_,ce),R=Sf(_,Ge);if(w&&R&&(U.rangeCount!==1||U.anchorNode!==w.node||U.anchorOffset!==w.offset||U.focusNode!==R.node||U.focusOffset!==R.offset)){var b=B.createRange();b.setStart(w.node,w.offset),U.removeAllRanges(),ce>Ge?(U.addRange(b),U.extend(R.node,R.offset)):(b.setEnd(R.node,R.offset),U.addRange(b))}}}}for(B=[],U=_;U=U.parentNode;)U.nodeType===1&&B.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var z=B[_];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}ta=!!Ru,Nu=Ru=null}finally{Ve=d,K.p=c,V.T=s}}t.current=l,mt=2}}function Lh(){if(mt===2){mt=0;var t=Zn,l=ul,s=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||s){s=V.T,V.T=null;var c=K.p;K.p=2;var d=Ve;Ve|=4;try{dh(t,l.alternate,l)}finally{Ve=d,K.p=c,V.T=s}}mt=3}}function Vh(){if(mt===4||mt===3){mt=0,ki();var t=Zn,l=ul,s=cl,c=xh;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?mt=5:(mt=0,ul=Zn=null,qh(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&($n=null),Ia(s),l=l.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(kl,l,void 0,(l.current.flags&128)===128)}catch{}if(c!==null){l=V.T,d=K.p,K.p=2,V.T=null;try{for(var g=t.onRecoverableError,T=0;T<c.length;T++){var _=c[T];g(_.value,{componentStack:_.stack})}}finally{V.T=l,K.p=d}}(cl&3)!==0&&Os(),sn(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===hu?yo++:(yo=0,hu=t):yo=0,vo(0)}}function qh(t,l){(t.pooledCacheLanes&=l)===0&&(l=t.pooledCache,l!=null&&(t.pooledCache=null,Ql(l)))}function Os(t){return Ih(),Lh(),Vh(),Ph()}function Ph(){if(mt!==5)return!1;var t=Zn,l=fu;fu=0;var s=Ia(cl),c=V.T,d=K.p;try{K.p=32>s?32:s,V.T=null,s=du,du=null;var g=Zn,T=cl;if(mt=0,ul=Zn=null,cl=0,(Ve&6)!==0)throw Error(o(331));var _=Ve;if(Ve|=4,Ch(g.current),vh(g,g.current,T,s),Ve=_,vo(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(kl,g)}catch{}return!0}finally{K.p=d,V.T=c,qh(t,l)}}function zh(t,l,s){l=Gt(s,l),l=Yr(t.stateNode,l,2),t=Pn(t,l,2),t!==null&&(Il(t,2),sn(t))}function Fe(t,l,s){if(t.tag===3)zh(t,t,s);else for(;l!==null;){if(l.tag===3){zh(l,t,s);break}else if(l.tag===1){var c=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($n===null||!$n.has(c))){t=Gt(s,t),s=Od(2),c=Pn(l,s,2),c!==null&&(Fd(s,c,l,t),Il(c,2),sn(c));break}}l=l.return}}function yu(t,l,s){var c=t.pingCache;if(c===null){c=t.pingCache=new Gv;var d=new Set;c.set(l,d)}else d=c.get(l),d===void 0&&(d=new Set,c.set(l,d));d.has(s)||(au=!0,d.add(s),t=Jv.bind(null,t,l,s),l.then(t,t))}function Jv(t,l,s){var c=t.pingCache;c!==null&&c.delete(l),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Je===t&&(we&s)===s&&(et===4||et===3&&(we&62914560)===we&&300>Nt()-cu?(Ve&2)===0&&fl(t,0):ru|=s,rl===we&&(rl=0)),sn(t)}function Bh(t,l){l===0&&(l=Lc()),t=$i(t,l),t!==null&&(Il(t,l),sn(t))}function $v(t){var l=t.memoizedState,s=0;l!==null&&(s=l.retryLane),Bh(t,s)}function Zv(t,l){var s=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(l),Bh(t,s)}function Kv(t,l){return Oe(t,l)}var Fs=null,hl=null,vu=!1,Ys=!1,Tu=!1,xi=0;function sn(t){t!==hl&&t.next===null&&(hl===null?Fs=hl=t:hl=hl.next=t),Ys=!0,vu||(vu=!0,Xv())}function vo(t,l){if(!Tu&&Ys){Tu=!0;do for(var s=!1,c=Fs;c!==null;){if(t!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var T=c.suspendedLanes,_=c.pingedLanes;g=(1<<31-bt(42|t)+1)-1,g&=d&~(T&~_),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,Fh(c,g))}else g=we,g=Xo(c,c===Je?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ul(c,g)||(s=!0,Fh(c,g));c=c.next}while(s);Tu=!1}}function Qv(){Gh()}function Gh(){Ys=vu=!1;var t=0;xi!==0&&(oT()&&(t=xi),xi=0);for(var l=Nt(),s=null,c=Fs;c!==null;){var d=c.next,g=Hh(c,l);g===0?(c.next=null,s===null?Fs=d:s.next=d,d===null&&(hl=s)):(s=c,(t!==0||(g&3)!==0)&&(Ys=!0)),c=d}vo(t)}function Hh(t,l){for(var s=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var T=31-bt(g),_=1<<T,E=d[T];E===-1?((_&s)===0||(_&c)!==0)&&(d[T]=_y(_,l)):E<=l&&(t.expiredLanes|=_),g&=~_}if(l=Je,s=we,s=Xo(t,t===l?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,s===0||t===l&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Ke(c),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ul(t,s)){if(l=s&-s,l===t.callbackPriority)return l;switch(c!==null&&Ke(c),Ia(s)){case 2:case 8:s=kc;break;case 32:s=Zo;break;case 268435456:s=Uc;break;default:s=Zo}return c=Oh.bind(null,t),s=Oe(s,c),t.callbackPriority=l,t.callbackNode=s,l}return c!==null&&c!==null&&Ke(c),t.callbackPriority=2,t.callbackNode=null,2}function Oh(t,l){if(mt!==0&&mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Os()&&t.callbackNode!==s)return null;var c=we;return c=Xo(t,t===Je?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Ah(t,c,l),Hh(t,Nt()),t.callbackNode!=null&&t.callbackNode===s?Oh.bind(null,t):null)}function Fh(t,l){if(Os())return null;Ah(t,l,!0)}function Xv(){aT(function(){(Ve&6)!==0?Oe(Dc,Qv):Gh()})}function Su(){return xi===0&&(xi=Ic()),xi}function Yh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ns(""+t)}function Jh(t,l){var s=l.ownerDocument.createElement("input");return s.name=l.name,s.value=l.value,t.id&&s.setAttribute("form",t.id),l.parentNode.insertBefore(s,l),t=new FormData(t),s.parentNode.removeChild(s),t}function Wv(t,l,s,c,d){if(l==="submit"&&s&&s.stateNode===d){var g=Yh((d[xt]||null).action),T=c.submitter;T&&(l=(l=T[xt]||null)?Yh(l.formAction):T.getAttribute("formAction"),l!==null&&(g=l,T=null));var _=new ss("action","action",null,c,d);t.push({event:_,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(xi!==0){var E=T?Jh(d,T):new FormData(d);Br(s,{pending:!0,data:E,method:d.method,action:g},null,E)}}else typeof g=="function"&&(_.preventDefault(),E=T?Jh(d,T):new FormData(d),Br(s,{pending:!0,data:E,method:d.method,action:g},g,E))},currentTarget:d}]})}}for(var Cu=0;Cu<or.length;Cu++){var _u=or[Cu],jv=_u.toLowerCase(),eT=_u[0].toUpperCase()+_u.slice(1);Qt(jv,"on"+eT)}Qt(Af,"onAnimationEnd"),Qt(Mf,"onAnimationIteration"),Qt(Rf,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(yv,"onTransitionRun"),Qt(vv,"onTransitionStart"),Qt(Tv,"onTransitionCancel"),Qt(Nf,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(To));function $h(t,l){l=(l&4)!==0;for(var s=0;s<t.length;s++){var c=t[s],d=c.event;c=c.listeners;e:{var g=void 0;if(l)for(var T=c.length-1;0<=T;T--){var _=c[T],E=_.instance,D=_.currentTarget;if(_=_.listener,E!==g&&d.isPropagationStopped())break e;g=_,d.currentTarget=D;try{g(d)}catch(P){ks(P)}d.currentTarget=null,g=E}else for(T=0;T<c.length;T++){if(_=c[T],E=_.instance,D=_.currentTarget,_=_.listener,E!==g&&d.isPropagationStopped())break e;g=_,d.currentTarget=D;try{g(d)}catch(P){ks(P)}d.currentTarget=null,g=E}}}}function Ee(t,l){var s=l[La];s===void 0&&(s=l[La]=new Set);var c=t+"__bubble";s.has(c)||(Zh(l,t,2,!1),s.add(c))}function xu(t,l,s){var c=0;l&&(c|=4),Zh(s,t,c,l)}var Js="_reactListening"+Math.random().toString(36).slice(2);function Eu(t){if(!t[Js]){t[Js]=!0,Bc.forEach(function(s){s!=="selectionchange"&&(tT.has(s)||xu(s,!1,t),xu(s,!0,t))});var l=t.nodeType===9?t:t.ownerDocument;l===null||l[Js]||(l[Js]=!0,xu("selectionchange",!1,l))}}function Zh(t,l,s,c){switch(vm(l)){case 2:var d=NT;break;case 8:d=wT;break;default:d=Pu}s=d.bind(null,l,s,t),d=void 0,!Ja||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(l,s,{capture:!0,passive:d}):t.addEventListener(l,s,!0):d!==void 0?t.addEventListener(l,s,{passive:d}):t.addEventListener(l,s,!1)}function Au(t,l,s,c,d){var g=c;if((l&1)===0&&(l&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var _=c.stateNode.containerInfo;if(_===d)break;if(T===4)for(T=c.return;T!==null;){var E=T.tag;if((E===3||E===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;_!==null;){if(T=Ii(_),T===null)return;if(E=T.tag,E===5||E===6||E===26||E===27){c=g=T;continue e}_=_.parentNode}}c=c.return}ef(function(){var D=g,P=Fa(s),B=[];e:{var k=wf.get(t);if(k!==void 0){var U=ss,me=t;switch(t){case"keypress":if(ls(s)===0)break e;case"keydown":case"keyup":U=Ky;break;case"focusin":me="focus",U=Qa;break;case"focusout":me="blur",U=Qa;break;case"beforeblur":case"afterblur":U=Qa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=qy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Wy;break;case Af:case Mf:case Rf:U=By;break;case Nf:U=ev;break;case"scroll":case"scrollend":U=Ly;break;case"wheel":U=nv;break;case"copy":case"cut":case"paste":U=Hy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=sf;break;case"toggle":case"beforetoggle":U=lv}var ce=(l&4)!==0,Ge=!ce&&(t==="scroll"||t==="scrollend"),w=ce?k!==null?k+"Capture":null:k;ce=[];for(var R=D,b;R!==null;){var z=R;if(b=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||b===null||w===null||(z=ql(R,w),z!=null&&ce.push(So(R,z,b))),Ge)break;R=R.return}0<ce.length&&(k=new U(k,me,null,s,P),B.push({event:k,listeners:ce}))}}if((l&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",k&&s!==Oa&&(me=s.relatedTarget||s.fromElement)&&(Ii(me)||me[Ui]))break e;if((U||k)&&(k=P.window===P?P:(k=P.ownerDocument)?k.defaultView||k.parentWindow:window,U?(me=s.relatedTarget||s.toElement,U=D,me=me?Ii(me):null,me!==null&&(Ge=f(me),ce=me.tag,me!==Ge||ce!==5&&ce!==27&&ce!==6)&&(me=null)):(U=null,me=D),U!==me)){if(ce=lf,z="onMouseLeave",w="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ce=sf,z="onPointerLeave",w="onPointerEnter",R="pointer"),Ge=U==null?k:Vl(U),b=me==null?k:Vl(me),k=new ce(z,R+"leave",U,s,P),k.target=Ge,k.relatedTarget=b,z=null,Ii(P)===D&&(ce=new ce(w,R+"enter",me,s,P),ce.target=b,ce.relatedTarget=Ge,z=ce),Ge=z,U&&me)t:{for(ce=U,w=me,R=0,b=ce;b;b=ml(b))R++;for(b=0,z=w;z;z=ml(z))b++;for(;0<R-b;)ce=ml(ce),R--;for(;0<b-R;)w=ml(w),b--;for(;R--;){if(ce===w||w!==null&&ce===w.alternate)break t;ce=ml(ce),w=ml(w)}ce=null}else ce=null;U!==null&&Kh(B,k,U,ce,!1),me!==null&&Ge!==null&&Kh(B,Ge,me,ce,!0)}}e:{if(k=D?Vl(D):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var ee=mf;else if(df(k))if(pf)ee=mv;else{ee=dv;var _e=fv}else U=k.nodeName,!U||U.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?D&&Ha(D.elementType)&&(ee=mf):ee=hv;if(ee&&(ee=ee(t,D))){hf(B,ee,s,P);break e}_e&&_e(t,k,D),t==="focusout"&&D&&k.type==="number"&&D.memoizedProps.value!=null&&Ga(k,"number",k.value)}switch(_e=D?Vl(D):window,t){case"focusin":(df(_e)||_e.contentEditable==="true")&&(Fi=_e,nr=D,Yl=null);break;case"focusout":Yl=nr=Fi=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,xf(B,s,P);break;case"selectionchange":if(gv)break;case"keydown":case"keyup":xf(B,s,P)}var ae;if(Wa)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Oi?cf(t,s)&&(de="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(de="onCompositionStart");de&&(af&&s.locale!=="ko"&&(Oi||de!=="onCompositionStart"?de==="onCompositionEnd"&&Oi&&(ae=tf()):(In=P,$a="value"in In?In.value:In.textContent,Oi=!0)),_e=$s(D,de),0<_e.length&&(de=new of(de,t,null,s,P),B.push({event:de,listeners:_e}),ae?de.data=ae:(ae=ff(s),ae!==null&&(de.data=ae)))),(ae=sv?av(t,s):rv(t,s))&&(de=$s(D,"onBeforeInput"),0<de.length&&(_e=new of("onBeforeInput","beforeinput",null,s,P),B.push({event:_e,listeners:de}),_e.data=ae)),Wv(B,t,D,s,P)}$h(B,l)})}function So(t,l,s){return{instance:t,listener:l,currentTarget:s}}function $s(t,l){for(var s=l+"Capture",c=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ql(t,s),d!=null&&c.unshift(So(t,d,g)),d=ql(t,l),d!=null&&c.push(So(t,d,g))),t.tag===3)return c;t=t.return}return[]}function ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kh(t,l,s,c,d){for(var g=l._reactName,T=[];s!==null&&s!==c;){var _=s,E=_.alternate,D=_.stateNode;if(_=_.tag,E!==null&&E===c)break;_!==5&&_!==26&&_!==27||D===null||(E=D,d?(D=ql(s,g),D!=null&&T.unshift(So(s,D,E))):d||(D=ql(s,g),D!=null&&T.push(So(s,D,E)))),s=s.return}T.length!==0&&t.push({event:l,listeners:T})}var nT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function Qh(t){return(typeof t=="string"?t:""+t).replace(nT,`
`).replace(iT,"")}function Xh(t,l){return l=Qh(l),Qh(t)===l}function Zs(){}function Be(t,l,s,c,d,g){switch(s){case"children":typeof c=="string"?l==="body"||l==="textarea"&&c===""||Bi(t,c):(typeof c=="number"||typeof c=="bigint")&&l!=="body"&&Bi(t,""+c);break;case"className":jo(t,"class",c);break;case"tabIndex":jo(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jo(t,s,c);break;case"style":Wc(t,c,g);break;case"data":if(l!=="object"){jo(t,"data",c);break}case"src":case"href":if(c===""&&(l!=="a"||s!=="href")){t.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=ns(""+c),t.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(l!=="input"&&Be(t,l,"name",d.name,d,null),Be(t,l,"formEncType",d.formEncType,d,null),Be(t,l,"formMethod",d.formMethod,d,null),Be(t,l,"formTarget",d.formTarget,d,null)):(Be(t,l,"encType",d.encType,d,null),Be(t,l,"method",d.method,d,null),Be(t,l,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=ns(""+c),t.setAttribute(s,c);break;case"onClick":c!=null&&(t.onclick=Zs);break;case"onScroll":c!=null&&Ee("scroll",t);break;case"onScrollEnd":c!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}s=ns(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""+c):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":c===!0?t.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,c):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(s,c):t.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(s):t.setAttribute(s,c);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),Wo(t,"popover",c);break;case"xlinkActuate":hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":hn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":hn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":hn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":hn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Wo(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Uy.get(s)||s,Wo(t,s,c))}}function Mu(t,l,s,c,d,g){switch(s){case"style":Wc(t,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"children":typeof c=="string"?Bi(t,c):(typeof c=="number"||typeof c=="bigint")&&Bi(t,""+c);break;case"onScroll":c!=null&&Ee("scroll",t);break;case"onScrollEnd":c!=null&&Ee("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Zs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gc.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),l=s.slice(2,d?s.length-7:void 0),g=t[xt]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(l,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(l,c,d);break e}s in t?t[s]=c:c===!0?t.setAttribute(s,""):Wo(t,s,c)}}}function pt(t,l,s){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var c=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var T=s[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,l));default:Be(t,l,g,T,s,null)}}d&&Be(t,l,"srcSet",s.srcSet,s,null),c&&Be(t,l,"src",s.src,s,null);return;case"input":Ee("invalid",t);var _=g=T=d=null,E=null,D=null;for(c in s)if(s.hasOwnProperty(c)){var P=s[c];if(P!=null)switch(c){case"name":d=P;break;case"type":T=P;break;case"checked":E=P;break;case"defaultChecked":D=P;break;case"value":g=P;break;case"defaultValue":_=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,l));break;default:Be(t,l,c,P,s,null)}}Zc(t,g,_,E,D,T,d,!1),es(t);return;case"select":Ee("invalid",t),c=T=g=null;for(d in s)if(s.hasOwnProperty(d)&&(_=s[d],_!=null))switch(d){case"value":g=_;break;case"defaultValue":T=_;break;case"multiple":c=_;default:Be(t,l,d,_,s,null)}l=g,s=T,t.multiple=!!c,l!=null?zi(t,!!c,l,!1):s!=null&&zi(t,!!c,s,!0);return;case"textarea":Ee("invalid",t),g=d=c=null;for(T in s)if(s.hasOwnProperty(T)&&(_=s[T],_!=null))switch(T){case"value":c=_;break;case"defaultValue":d=_;break;case"children":g=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(o(91));break;default:Be(t,l,T,_,s,null)}Qc(t,c,d,g),es(t);return;case"option":for(E in s)if(s.hasOwnProperty(E)&&(c=s[E],c!=null))switch(E){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Be(t,l,E,c,s,null)}return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(c=0;c<To.length;c++)Ee(To[c],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in s)if(s.hasOwnProperty(D)&&(c=s[D],c!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,l));default:Be(t,l,D,c,s,null)}return;default:if(Ha(l)){for(P in s)s.hasOwnProperty(P)&&(c=s[P],c!==void 0&&Mu(t,l,P,c,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(c=s[_],c!=null&&Be(t,l,_,c,s,null))}function lT(t,l,s,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,_=null,E=null,D=null,P=null;for(U in s){var B=s[U];if(s.hasOwnProperty(U)&&B!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":E=B;default:c.hasOwnProperty(U)||Be(t,l,U,null,c,B)}}for(var k in c){var U=c[k];if(B=s[k],c.hasOwnProperty(k)&&(U!=null||B!=null))switch(k){case"type":g=U;break;case"name":d=U;break;case"checked":D=U;break;case"defaultChecked":P=U;break;case"value":T=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,l));break;default:U!==B&&Be(t,l,k,U,c,B)}}Ba(t,T,_,E,D,P,g,d);return;case"select":U=T=_=k=null;for(g in s)if(E=s[g],s.hasOwnProperty(g)&&E!=null)switch(g){case"value":break;case"multiple":U=E;default:c.hasOwnProperty(g)||Be(t,l,g,null,c,E)}for(d in c)if(g=c[d],E=s[d],c.hasOwnProperty(d)&&(g!=null||E!=null))switch(d){case"value":k=g;break;case"defaultValue":_=g;break;case"multiple":T=g;default:g!==E&&Be(t,l,d,g,c,E)}l=_,s=T,c=U,k!=null?zi(t,!!s,k,!1):!!c!=!!s&&(l!=null?zi(t,!!s,l,!0):zi(t,!!s,s?[]:"",!1));return;case"textarea":U=k=null;for(_ in s)if(d=s[_],s.hasOwnProperty(_)&&d!=null&&!c.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Be(t,l,_,null,c,d)}for(T in c)if(d=c[T],g=s[T],c.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":k=d;break;case"defaultValue":U=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==g&&Be(t,l,T,d,c,g)}Kc(t,k,U);return;case"option":for(var me in s)if(k=s[me],s.hasOwnProperty(me)&&k!=null&&!c.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:Be(t,l,me,null,c,k)}for(E in c)if(k=c[E],U=s[E],c.hasOwnProperty(E)&&k!==U&&(k!=null||U!=null))switch(E){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Be(t,l,E,k,c,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in s)k=s[ce],s.hasOwnProperty(ce)&&k!=null&&!c.hasOwnProperty(ce)&&Be(t,l,ce,null,c,k);for(D in c)if(k=c[D],U=s[D],c.hasOwnProperty(D)&&k!==U&&(k!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,l));break;default:Be(t,l,D,k,c,U)}return;default:if(Ha(l)){for(var Ge in s)k=s[Ge],s.hasOwnProperty(Ge)&&k!==void 0&&!c.hasOwnProperty(Ge)&&Mu(t,l,Ge,void 0,c,k);for(P in c)k=c[P],U=s[P],!c.hasOwnProperty(P)||k===U||k===void 0&&U===void 0||Mu(t,l,P,k,c,U);return}}for(var w in s)k=s[w],s.hasOwnProperty(w)&&k!=null&&!c.hasOwnProperty(w)&&Be(t,l,w,null,c,k);for(B in c)k=c[B],U=s[B],!c.hasOwnProperty(B)||k===U||k==null&&U==null||Be(t,l,B,k,c,U)}var Ru=null,Nu=null;function Ks(t){return t.nodeType===9?t:t.ownerDocument}function Wh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jh(t,l){if(t===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&l==="foreignObject"?0:t}function wu(t,l){return t==="textarea"||t==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var bu=null;function oT(){var t=window.event;return t&&t.type==="popstate"?t===bu?!1:(bu=t,!0):(bu=null,!1)}var em=typeof setTimeout=="function"?setTimeout:void 0,sT=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,aT=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(t){return tm.resolve(null).then(t).catch(rT)}:em;function rT(t){setTimeout(function(){throw t})}function Qn(t){return t==="head"}function nm(t,l){var s=l,c=0,d=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<c&&8>c){s=c;var T=t.ownerDocument;if(s&1&&Co(T.documentElement),s&2&&Co(T.body),s&4)for(s=T.head,Co(s),T=s.firstChild;T;){var _=T.nextSibling,E=T.nodeName;T[Ll]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=_}}if(d===0){t.removeChild(g),wo(l);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:c=s.charCodeAt(0)-48;else c=0;s=g}while(s);wo(l)}function Du(t){var l=t.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var s=l;switch(l=l.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Du(s),Va(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function uT(t,l,s,c){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==l.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Ll])switch(l){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(l==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Wt(t.nextSibling),t===null)break}return null}function cT(t,l,s){if(l==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Wt(t.nextSibling),t===null))return null;return t}function ku(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fT(t,l){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")l();else{var c=function(){l(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Wt(t){for(;t!=null;t=t.nextSibling){var l=t.nodeType;if(l===1||l===3)break;if(l===8){if(l=t.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return t}var Uu=null;function im(t){t=t.previousSibling;for(var l=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(l===0)return t;l--}else s==="/$"&&l++}t=t.previousSibling}return null}function lm(t,l,s){switch(l=Ks(s),t){case"html":if(t=l.documentElement,!t)throw Error(o(452));return t;case"head":if(t=l.head,!t)throw Error(o(453));return t;case"body":if(t=l.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Co(t){for(var l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Va(t)}var $t=new Map,om=new Set;function Qs(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Rn=K.d;K.d={f:dT,r:hT,D:mT,C:pT,L:gT,m:yT,X:TT,S:vT,M:ST};function dT(){var t=Rn.f(),l=Gs();return t||l}function hT(t){var l=Li(t);l!==null&&l.tag===5&&l.type==="form"?Ad(l):Rn.r(t)}var pl=typeof document>"u"?null:document;function sm(t,l,s){var c=pl;if(c&&typeof l=="string"&&l){var d=Bt(l);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),om.has(d)||(om.add(d),t={rel:t,crossOrigin:s,href:l},c.querySelector(d)===null&&(l=c.createElement("link"),pt(l,"link",t),ut(l),c.head.appendChild(l)))}}function mT(t){Rn.D(t),sm("dns-prefetch",t,null)}function pT(t,l){Rn.C(t,l),sm("preconnect",t,l)}function gT(t,l,s){Rn.L(t,l,s);var c=pl;if(c&&t&&l){var d='link[rel="preload"][as="'+Bt(l)+'"]';l==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Bt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Bt(s.imageSizes)+'"]')):d+='[href="'+Bt(t)+'"]';var g=d;switch(l){case"style":g=gl(t);break;case"script":g=yl(t)}$t.has(g)||(t=v({rel:"preload",href:l==="image"&&s&&s.imageSrcSet?void 0:t,as:l},s),$t.set(g,t),c.querySelector(d)!==null||l==="style"&&c.querySelector(_o(g))||l==="script"&&c.querySelector(xo(g))||(l=c.createElement("link"),pt(l,"link",t),ut(l),c.head.appendChild(l)))}}function yT(t,l){Rn.m(t,l);var s=pl;if(s&&t){var c=l&&typeof l.as=="string"?l.as:"script",d='link[rel="modulepreload"][as="'+Bt(c)+'"][href="'+Bt(t)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=yl(t)}if(!$t.has(g)&&(t=v({rel:"modulepreload",href:t},l),$t.set(g,t),s.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(xo(g)))return}c=s.createElement("link"),pt(c,"link",t),ut(c),s.head.appendChild(c)}}}function vT(t,l,s){Rn.S(t,l,s);var c=pl;if(c&&t){var d=Vi(c).hoistableStyles,g=gl(t);l=l||"default";var T=d.get(g);if(!T){var _={loading:0,preload:null};if(T=c.querySelector(_o(g)))_.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":l},s),(s=$t.get(g))&&Iu(t,s);var E=T=c.createElement("link");ut(E),pt(E,"link",t),E._p=new Promise(function(D,P){E.onload=D,E.onerror=P}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Xs(T,l,c)}T={type:"stylesheet",instance:T,count:1,state:_},d.set(g,T)}}}function TT(t,l){Rn.X(t,l);var s=pl;if(s&&t){var c=Vi(s).hoistableScripts,d=yl(t),g=c.get(d);g||(g=s.querySelector(xo(d)),g||(t=v({src:t,async:!0},l),(l=$t.get(d))&&Lu(t,l),g=s.createElement("script"),ut(g),pt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function ST(t,l){Rn.M(t,l);var s=pl;if(s&&t){var c=Vi(s).hoistableScripts,d=yl(t),g=c.get(d);g||(g=s.querySelector(xo(d)),g||(t=v({src:t,async:!0,type:"module"},l),(l=$t.get(d))&&Lu(t,l),g=s.createElement("script"),ut(g),pt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function am(t,l,s,c){var d=(d=fe.current)?Qs(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(l=gl(s.href),s=Vi(d).hoistableStyles,c=s.get(l),c||(c={type:"style",instance:null,count:0,state:null},s.set(l,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=gl(s.href);var g=Vi(d).hoistableStyles,T=g.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,T),(g=d.querySelector(_o(t)))&&!g._p&&(T.instance=g,T.state.loading=5),$t.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},$t.set(t,s),g||CT(d,t,s,T.state))),l&&c===null)throw Error(o(528,""));return T}if(l&&c!==null)throw Error(o(529,""));return null;case"script":return l=s.async,s=s.src,typeof s=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=yl(s),s=Vi(d).hoistableScripts,c=s.get(l),c||(c={type:"script",instance:null,count:0,state:null},s.set(l,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function gl(t){return'href="'+Bt(t)+'"'}function _o(t){return'link[rel="stylesheet"]['+t+"]"}function rm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function CT(t,l,s,c){t.querySelector('link[rel="preload"][as="style"]['+l+"]")?c.loading=1:(l=t.createElement("link"),c.preload=l,l.addEventListener("load",function(){return c.loading|=1}),l.addEventListener("error",function(){return c.loading|=2}),pt(l,"link",s),ut(l),t.head.appendChild(l))}function yl(t){return'[src="'+Bt(t)+'"]'}function xo(t){return"script[async]"+t}function um(t,l,s){if(l.count++,l.instance===null)switch(l.type){case"style":var c=t.querySelector('style[data-href~="'+Bt(s.href)+'"]');if(c)return l.instance=c,ut(c),c;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),ut(c),pt(c,"style",d),Xs(c,s.precedence,t),l.instance=c;case"stylesheet":d=gl(s.href);var g=t.querySelector(_o(d));if(g)return l.state.loading|=4,l.instance=g,ut(g),g;c=rm(s),(d=$t.get(d))&&Iu(c,d),g=(t.ownerDocument||t).createElement("link"),ut(g);var T=g;return T._p=new Promise(function(_,E){T.onload=_,T.onerror=E}),pt(g,"link",c),l.state.loading|=4,Xs(g,s.precedence,t),l.instance=g;case"script":return g=yl(s.src),(d=t.querySelector(xo(g)))?(l.instance=d,ut(d),d):(c=s,(d=$t.get(g))&&(c=v({},s),Lu(c,d)),t=t.ownerDocument||t,d=t.createElement("script"),ut(d),pt(d,"link",c),t.head.appendChild(d),l.instance=d);case"void":return null;default:throw Error(o(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(c=l.instance,l.state.loading|=4,Xs(c,s.precedence,t));return l.instance}function Xs(t,l,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,T=0;T<c.length;T++){var _=c[T];if(_.dataset.precedence===l)g=_;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(l=s.nodeType===9?s.head:s,l.insertBefore(t,l.firstChild))}function Iu(t,l){t.crossOrigin==null&&(t.crossOrigin=l.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=l.referrerPolicy),t.title==null&&(t.title=l.title)}function Lu(t,l){t.crossOrigin==null&&(t.crossOrigin=l.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=l.referrerPolicy),t.integrity==null&&(t.integrity=l.integrity)}var Ws=null;function cm(t,l,s){if(Ws===null){var c=new Map,d=Ws=new Map;d.set(s,c)}else d=Ws,c=d.get(s),c||(c=new Map,d.set(s,c));if(c.has(t))return c;for(c.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var g=s[d];if(!(g[Ll]||g[gt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(l)||"";T=t+T;var _=c.get(T);_?_.push(g):c.set(T,[g])}}return c}function fm(t,l,s){t=t.ownerDocument||t,t.head.insertBefore(s,l==="title"?t.querySelector("head > title"):null)}function _T(t,l,s){if(s===1||l.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return t=l.disabled,typeof l.precedence=="string"&&t==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function dm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Eo=null;function xT(){}function ET(t,l,s){if(Eo===null)throw Error(o(475));var c=Eo;if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=gl(s.href),g=t.querySelector(_o(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=js.bind(c),t.then(c,c)),l.state.loading|=4,l.instance=g,ut(g);return}g=t.ownerDocument||t,s=rm(s),(d=$t.get(d))&&Iu(s,d),g=g.createElement("link"),ut(g);var T=g;T._p=new Promise(function(_,E){T.onload=_,T.onerror=E}),pt(g,"link",s),l.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(c.count++,l=js.bind(c),t.addEventListener("load",l),t.addEventListener("error",l))}}function AT(){if(Eo===null)throw Error(o(475));var t=Eo;return t.stylesheets&&t.count===0&&Vu(t,t.stylesheets),0<t.count?function(l){var s=setTimeout(function(){if(t.stylesheets&&Vu(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(s)}}:null}function js(){if(this.count--,this.count===0){if(this.stylesheets)Vu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ea=null;function Vu(t,l){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ea=new Map,l.forEach(MT,t),ea=null,js.call(t))}function MT(t,l){if(!(l.state.loading&4)){var s=ea.get(t);if(s)var c=s.get(null);else{s=new Map,ea.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),c=T)}c&&s.set(null,c)}d=l.instance,T=d.getAttribute("data-precedence"),g=s.get(T)||c,g===c&&s.set(null,d),s.set(T,d),this.count++,c=js.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),l.state.loading|=4}}var Ao={$$typeof:Y,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function RT(t,l,s,c,d,g,T,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ka(0),this.hiddenUpdates=ka(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function hm(t,l,s,c,d,g,T,_,E,D,P,B){return t=new RT(t,l,s,T,_,E,D,B),l=1,g===!0&&(l|=24),g=kt(3,null,null,l),t.current=g,g.stateNode=t,l=yr(),l.refCount++,t.pooledCache=l,l.refCount++,g.memoizedState={element:c,isDehydrated:s,cache:l},Cr(g),t}function mm(t){return t?(t=Zi,t):Zi}function pm(t,l,s,c,d,g){d=mm(d),c.context===null?c.context=d:c.pendingContext=d,c=qn(l),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=Pn(t,c,l),s!==null&&(qt(s,t,l),eo(s,t,l))}function gm(t,l){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<l?s:l}}function qu(t,l){gm(t,l),(t=t.alternate)&&gm(t,l)}function ym(t){if(t.tag===13){var l=$i(t,67108864);l!==null&&qt(l,t,67108864),qu(t,67108864)}}var ta=!0;function NT(t,l,s,c){var d=V.T;V.T=null;var g=K.p;try{K.p=2,Pu(t,l,s,c)}finally{K.p=g,V.T=d}}function wT(t,l,s,c){var d=V.T;V.T=null;var g=K.p;try{K.p=8,Pu(t,l,s,c)}finally{K.p=g,V.T=d}}function Pu(t,l,s,c){if(ta){var d=zu(c);if(d===null)Au(t,l,c,na,s),Tm(t,c);else if(DT(d,t,l,s,c))c.stopPropagation();else if(Tm(t,c),l&4&&-1<bT.indexOf(t)){for(;d!==null;){var g=Li(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=si(g.pendingLanes);if(T!==0){var _=g;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var E=1<<31-bt(T);_.entanglements[1]|=E,T&=~E}sn(g),(Ve&6)===0&&(zs=Nt()+500,vo(0))}}break;case 13:_=$i(g,2),_!==null&&qt(_,g,2),Gs(),qu(g,2)}if(g=zu(c),g===null&&Au(t,l,c,na,s),g===d)break;d=g}d!==null&&c.stopPropagation()}else Au(t,l,c,null,s)}}function zu(t){return t=Fa(t),Bu(t)}var na=null;function Bu(t){if(na=null,t=Ii(t),t!==null){var l=f(t);if(l===null)t=null;else{var s=l.tag;if(s===13){if(t=h(l),t!==null)return t;t=null}else if(s===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;t=null}else l!==t&&(t=null)}}return na=t,null}function vm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Da()){case Dc:return 2;case kc:return 8;case Zo:case gy:return 32;case Uc:return 268435456;default:return 32}default:return 32}}var Gu=!1,Xn=null,Wn=null,jn=null,Mo=new Map,Ro=new Map,ei=[],bT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tm(t,l){switch(t){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Mo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(l.pointerId)}}function No(t,l,s,c,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:l,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},l!==null&&(l=Li(l),l!==null&&ym(l)),t):(t.eventSystemFlags|=c,l=t.targetContainers,d!==null&&l.indexOf(d)===-1&&l.push(d),t)}function DT(t,l,s,c,d){switch(l){case"focusin":return Xn=No(Xn,t,l,s,c,d),!0;case"dragenter":return Wn=No(Wn,t,l,s,c,d),!0;case"mouseover":return jn=No(jn,t,l,s,c,d),!0;case"pointerover":var g=d.pointerId;return Mo.set(g,No(Mo.get(g)||null,t,l,s,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Ro.set(g,No(Ro.get(g)||null,t,l,s,c,d)),!0}return!1}function Sm(t){var l=Ii(t.target);if(l!==null){var s=f(l);if(s!==null){if(l=s.tag,l===13){if(l=h(s),l!==null){t.blockedOn=l,Ey(t.priority,function(){if(s.tag===13){var c=Vt();c=Ua(c);var d=$i(s,c);d!==null&&qt(d,s,c),qu(s,c)}});return}}else if(l===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ia(t){if(t.blockedOn!==null)return!1;for(var l=t.targetContainers;0<l.length;){var s=zu(t.nativeEvent);if(s===null){s=t.nativeEvent;var c=new s.constructor(s.type,s);Oa=c,s.target.dispatchEvent(c),Oa=null}else return l=Li(s),l!==null&&ym(l),t.blockedOn=s,!1;l.shift()}return!0}function Cm(t,l,s){ia(t)&&s.delete(l)}function kT(){Gu=!1,Xn!==null&&ia(Xn)&&(Xn=null),Wn!==null&&ia(Wn)&&(Wn=null),jn!==null&&ia(jn)&&(jn=null),Mo.forEach(Cm),Ro.forEach(Cm)}function la(t,l){t.blockedOn===l&&(t.blockedOn=null,Gu||(Gu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kT)))}var oa=null;function _m(t){oa!==t&&(oa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){oa===t&&(oa=null);for(var l=0;l<t.length;l+=3){var s=t[l],c=t[l+1],d=t[l+2];if(typeof c!="function"){if(Bu(c||s)===null)continue;break}var g=Li(s);g!==null&&(t.splice(l,3),l-=3,Br(g,{pending:!0,data:d,method:s.method,action:c},c,d))}}))}function wo(t){function l(E){return la(E,t)}Xn!==null&&la(Xn,t),Wn!==null&&la(Wn,t),jn!==null&&la(jn,t),Mo.forEach(l),Ro.forEach(l);for(var s=0;s<ei.length;s++){var c=ei[s];c.blockedOn===t&&(c.blockedOn=null)}for(;0<ei.length&&(s=ei[0],s.blockedOn===null);)Sm(s),s.blockedOn===null&&ei.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var d=s[c],g=s[c+1],T=d[xt]||null;if(typeof g=="function")T||_m(s);else if(T){var _=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[xt]||null)_=T.formAction;else if(Bu(d)!==null)continue}else _=T.action;typeof _=="function"?s[c+1]=_:(s.splice(c,3),c-=3),_m(s)}}}function Hu(t){this._internalRoot=t}sa.prototype.render=Hu.prototype.render=function(t){var l=this._internalRoot;if(l===null)throw Error(o(409));var s=l.current,c=Vt();pm(s,c,t,l,null,null)},sa.prototype.unmount=Hu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var l=t.containerInfo;pm(t.current,2,null,t,null,null),Gs(),l[Ui]=null}};function sa(t){this._internalRoot=t}sa.prototype.unstable_scheduleHydration=function(t){if(t){var l=Pc();t={blockedOn:null,target:t,priority:l};for(var s=0;s<ei.length&&l!==0&&l<ei[s].priority;s++);ei.splice(s,0,t),s===0&&Sm(t)}};var xm=e.version;if(xm!=="19.1.0")throw Error(o(527,xm,"19.1.0"));K.findDOMNode=function(t){var l=t._reactInternals;if(l===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(l),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var UT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aa.isDisabled&&aa.supportsFiber)try{kl=aa.inject(UT),wt=aa}catch{}}return ko.createRoot=function(t,l){if(!a(t))throw Error(o(299));var s=!1,c="",d=zd,g=Bd,T=Gd,_=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(d=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(_=l.unstable_transitionCallbacks)),l=hm(t,1,!1,null,null,s,c,d,g,T,_,null),t[Ui]=l.current,Eu(t),new Hu(l)},ko.hydrateRoot=function(t,l,s){if(!a(t))throw Error(o(299));var c=!1,d="",g=zd,T=Bd,_=Gd,E=null,D=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks),s.formState!==void 0&&(D=s.formState)),l=hm(t,1,!0,l,s??null,c,d,g,T,_,E,D),l.context=mm(null),s=l.current,c=Vt(),c=Ua(c),d=qn(c),d.callback=null,Pn(s,d,c),s=c,l.current.lanes=s,Il(l,s),sn(l),t[Ui]=l.current,Eu(t),new sa(l)},ko.version="19.1.0",ko}var Lm;function JT(){if(Lm)return Yu.exports;Lm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yu.exports=YT(),Yu.exports}var $T=JT(),Ue;(function(n){n.assertEqual=a=>{};function e(a){}n.assertIs=e;function i(a){throw new Error}n.assertNever=i,n.arrayToEnum=a=>{const f={};for(const h of a)f[h]=h;return f},n.getValidEnumValues=a=>{const f=n.objectKeys(a).filter(m=>typeof a[a[m]]!="number"),h={};for(const m of f)h[m]=a[m];return n.objectValues(h)},n.objectValues=a=>n.objectKeys(a).map(function(f){return a[f]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const f=[];for(const h in a)Object.prototype.hasOwnProperty.call(a,h)&&f.push(h);return f},n.find=(a,f)=>{for(const h of a)if(f(h))return h},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function o(a,f=" | "){return a.map(h=>typeof h=="string"?`'${h}'`:h).join(f)}n.joinValues=o,n.jsonStringifyReplacer=(a,f)=>typeof f=="bigint"?f.toString():f})(Ue||(Ue={}));var Vm;(function(n){n.mergeShapes=(e,i)=>({...e,...i})})(Vm||(Vm={}));const te=Ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ni=n=>{switch(typeof n){case"undefined":return te.undefined;case"string":return te.string;case"number":return Number.isNaN(n)?te.nan:te.number;case"boolean":return te.boolean;case"function":return te.function;case"bigint":return te.bigint;case"symbol":return te.symbol;case"object":return Array.isArray(n)?te.array:n===null?te.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?te.promise:typeof Map<"u"&&n instanceof Map?te.map:typeof Set<"u"&&n instanceof Set?te.set:typeof Date<"u"&&n instanceof Date?te.date:te.object;default:return te.unknown}},F=Ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Nn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=e}format(e){const i=e||function(f){return f.message},o={_errors:[]},a=f=>{for(const h of f.issues)if(h.code==="invalid_union")h.unionErrors.map(a);else if(h.code==="invalid_return_type")a(h.returnTypeError);else if(h.code==="invalid_arguments")a(h.argumentsError);else if(h.path.length===0)o._errors.push(i(h));else{let m=o,y=0;for(;y<h.path.length;){const p=h.path[y];y===h.path.length-1?(m[p]=m[p]||{_errors:[]},m[p]._errors.push(i(h))):m[p]=m[p]||{_errors:[]},m=m[p],y++}}};return a(this),o}static assert(e){if(!(e instanceof Nn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=i=>i.message){const i={},o=[];for(const a of this.issues)if(a.path.length>0){const f=a.path[0];i[f]=i[f]||[],i[f].push(e(a))}else o.push(e(a));return{formErrors:o,fieldErrors:i}}get formErrors(){return this.flatten()}}Nn.create=n=>new Nn(n);const Xu=(n,e)=>{let i;switch(n.code){case F.invalid_type:n.received===te.undefined?i="Required":i=`Expected ${n.expected}, received ${n.received}`;break;case F.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(n.expected,Ue.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:i=`Unrecognized key(s) in object: ${Ue.joinValues(n.keys,", ")}`;break;case F.invalid_union:i="Invalid input";break;case F.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${Ue.joinValues(n.options)}`;break;case F.invalid_enum_value:i=`Invalid enum value. Expected ${Ue.joinValues(n.options)}, received '${n.received}'`;break;case F.invalid_arguments:i="Invalid function arguments";break;case F.invalid_return_type:i="Invalid function return type";break;case F.invalid_date:i="Invalid date";break;case F.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(i=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(i=`${i} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?i=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?i=`Invalid input: must end with "${n.validation.endsWith}"`:Ue.assertNever(n.validation):n.validation!=="regex"?i=`Invalid ${n.validation}`:i="Invalid";break;case F.too_small:n.type==="array"?i=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?i=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?i=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?i=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?i=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:i="Invalid input";break;case F.too_big:n.type==="array"?i=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?i=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?i=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?i=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?i=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:i="Invalid input";break;case F.custom:i="Invalid input";break;case F.invalid_intersection_types:i="Intersection results could not be merged";break;case F.not_multiple_of:i=`Number must be a multiple of ${n.multipleOf}`;break;case F.not_finite:i="Number must be finite";break;default:i=e.defaultError,Ue.assertNever(n)}return{message:i}};let ZT=Xu;function KT(){return ZT}const QT=n=>{const{data:e,path:i,errorMaps:o,issueData:a}=n,f=[...i,...a.path||[]],h={...a,path:f};if(a.message!==void 0)return{...a,path:f,message:a.message};let m="";const y=o.filter(p=>!!p).slice().reverse();for(const p of y)m=p(h,{data:e,defaultError:m}).message;return{...a,path:f,message:m}};function Q(n,e){const i=KT(),o=QT({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,i,i===Xu?void 0:Xu].filter(a=>!!a)});n.common.issues.push(o)}class _t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,i){const o=[];for(const a of i){if(a.status==="aborted")return ge;a.status==="dirty"&&e.dirty(),o.push(a.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,i){const o=[];for(const a of i){const f=await a.key,h=await a.value;o.push({key:f,value:h})}return _t.mergeObjectSync(e,o)}static mergeObjectSync(e,i){const o={};for(const a of i){const{key:f,value:h}=a;if(f.status==="aborted"||h.status==="aborted")return ge;f.status==="dirty"&&e.dirty(),h.status==="dirty"&&e.dirty(),f.value!=="__proto__"&&(typeof h.value<"u"||a.alwaysSet)&&(o[f.value]=h.value)}return{status:e.value,value:o}}}const ge=Object.freeze({status:"aborted"}),Vo=n=>({status:"dirty",value:n}),Kt=n=>({status:"valid",value:n}),qm=n=>n.status==="aborted",Pm=n=>n.status==="dirty",xl=n=>n.status==="valid",ma=n=>typeof Promise<"u"&&n instanceof Promise;var ie;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ie||(ie={}));class dn{constructor(e,i,o,a){this._cachedPath=[],this.parent=e,this.data=i,this._path=o,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zm=(n,e)=>{if(xl(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const i=new Nn(n.common.issues);return this._error=i,this._error}}};function Se(n){if(!n)return{};const{errorMap:e,invalid_type_error:i,required_error:o,description:a}=n;if(e&&(i||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(h,m)=>{const{message:y}=n;return h.code==="invalid_enum_value"?{message:y??m.defaultError}:typeof m.data>"u"?{message:y??o??m.defaultError}:h.code!=="invalid_type"?{message:m.defaultError}:{message:y??i??m.defaultError}},description:a}}class Re{get description(){return this._def.description}_getType(e){return ni(e.data)}_getOrReturnCtx(e,i){return i||{common:e.parent.common,data:e.data,parsedType:ni(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new _t,ctx:{common:e.parent.common,data:e.data,parsedType:ni(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const i=this._parse(e);if(ma(i))throw new Error("Synchronous parse encountered promise.");return i}_parseAsync(e){const i=this._parse(e);return Promise.resolve(i)}parse(e,i){const o=this.safeParse(e,i);if(o.success)return o.data;throw o.error}safeParse(e,i){const o={common:{issues:[],async:(i==null?void 0:i.async)??!1,contextualErrorMap:i==null?void 0:i.errorMap},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ni(e)},a=this._parseSync({data:e,path:o.path,parent:o});return zm(o,a)}"~validate"(e){var o,a;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ni(e)};if(!this["~standard"].async)try{const f=this._parseSync({data:e,path:[],parent:i});return xl(f)?{value:f.value}:{issues:i.common.issues}}catch(f){(a=(o=f==null?void 0:f.message)==null?void 0:o.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(f=>xl(f)?{value:f.value}:{issues:i.common.issues})}async parseAsync(e,i){const o=await this.safeParseAsync(e,i);if(o.success)return o.data;throw o.error}async safeParseAsync(e,i){const o={common:{issues:[],contextualErrorMap:i==null?void 0:i.errorMap,async:!0},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ni(e)},a=this._parse({data:e,path:o.path,parent:o}),f=await(ma(a)?a:Promise.resolve(a));return zm(o,f)}refine(e,i){const o=a=>typeof i=="string"||typeof i>"u"?{message:i}:typeof i=="function"?i(a):i;return this._refinement((a,f)=>{const h=e(a),m=()=>f.addIssue({code:F.custom,...o(a)});return typeof Promise<"u"&&h instanceof Promise?h.then(y=>y?!0:(m(),!1)):h?!0:(m(),!1)})}refinement(e,i){return this._refinement((o,a)=>e(o)?!0:(a.addIssue(typeof i=="function"?i(o,a):i),!1))}_refinement(e){return new Ml({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:i=>this["~validate"](i)}}optional(){return ii.create(this,this._def)}nullable(){return Rl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fn.create(this)}promise(){return Ta.create(this,this._def)}or(e){return ga.create([this,e],this._def)}and(e){return ya.create(this,e,this._def)}transform(e){return new Ml({...Se(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const i=typeof e=="function"?e:()=>e;return new tc({...Se(this._def),innerType:this,defaultValue:i,typeName:pe.ZodDefault})}brand(){return new T0({typeName:pe.ZodBranded,type:this,...Se(this._def)})}catch(e){const i=typeof e=="function"?e:()=>e;return new nc({...Se(this._def),innerType:this,catchValue:i,typeName:pe.ZodCatch})}describe(e){const i=this.constructor;return new i({...this._def,description:e})}pipe(e){return vc.create(this,e)}readonly(){return ic.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const XT=/^c[^\s-]{8,}$/i,WT=/^[0-9a-z]+$/,jT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,e0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t0=/^[a-z0-9_-]{21}$/i,n0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,i0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,l0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,o0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ku;const s0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,a0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,r0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,u0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,c0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,f0=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Cg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",d0=new RegExp(`^${Cg}$`);function _g(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const i=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${i}`}function h0(n){return new RegExp(`^${_g(n)}$`)}function m0(n){let e=`${Cg}T${_g(n)}`;const i=[];return i.push(n.local?"Z?":"Z"),n.offset&&i.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${i.join("|")})`,new RegExp(`^${e}$`)}function p0(n,e){return!!((e==="v4"||!e)&&s0.test(n)||(e==="v6"||!e)&&r0.test(n))}function g0(n,e){if(!n0.test(n))return!1;try{const[i]=n.split(".");if(!i)return!1;const o=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),a=JSON.parse(atob(o));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function y0(n,e){return!!((e==="v4"||!e)&&a0.test(n)||(e==="v6"||!e)&&u0.test(n))}class an extends Re{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==te.string){const f=this._getOrReturnCtx(e);return Q(f,{code:F.invalid_type,expected:te.string,received:f.parsedType}),ge}const o=new _t;let a;for(const f of this._def.checks)if(f.kind==="min")e.data.length<f.value&&(a=this._getOrReturnCtx(e,a),Q(a,{code:F.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),o.dirty());else if(f.kind==="max")e.data.length>f.value&&(a=this._getOrReturnCtx(e,a),Q(a,{code:F.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),o.dirty());else if(f.kind==="length"){const h=e.data.length>f.value,m=e.data.length<f.value;(h||m)&&(a=this._getOrReturnCtx(e,a),h?Q(a,{code:F.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}):m&&Q(a,{code:F.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}),o.dirty())}else if(f.kind==="email")l0.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"email",code:F.invalid_string,message:f.message}),o.dirty());else if(f.kind==="emoji")Ku||(Ku=new RegExp(o0,"u")),Ku.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"emoji",code:F.invalid_string,message:f.message}),o.dirty());else if(f.kind==="uuid")e0.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"uuid",code:F.invalid_string,message:f.message}),o.dirty());else if(f.kind==="nanoid")t0.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"nanoid",code:F.invalid_string,message:f.message}),o.dirty());else if(f.kind==="cuid")XT.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"cuid",code:F.invalid_string,message:f.message}),o.dirty());else if(f.kind==="cuid2")WT.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"cuid2",code:F.invalid_string,message:f.message}),o.dirty());else if(f.kind==="ulid")jT.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"ulid",code:F.invalid_string,message:f.message}),o.dirty());else if(f.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Q(a,{validation:"url",code:F.invalid_string,message:f.message}),o.dirty()}else f.kind==="regex"?(f.regex.lastIndex=0,f.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"regex",code:F.invalid_string,message:f.message}),o.dirty())):f.kind==="trim"?e.data=e.data.trim():f.kind==="includes"?e.data.includes(f.value,f.position)||(a=this._getOrReturnCtx(e,a),Q(a,{code:F.invalid_string,validation:{includes:f.value,position:f.position},message:f.message}),o.dirty()):f.kind==="toLowerCase"?e.data=e.data.toLowerCase():f.kind==="toUpperCase"?e.data=e.data.toUpperCase():f.kind==="startsWith"?e.data.startsWith(f.value)||(a=this._getOrReturnCtx(e,a),Q(a,{code:F.invalid_string,validation:{startsWith:f.value},message:f.message}),o.dirty()):f.kind==="endsWith"?e.data.endsWith(f.value)||(a=this._getOrReturnCtx(e,a),Q(a,{code:F.invalid_string,validation:{endsWith:f.value},message:f.message}),o.dirty()):f.kind==="datetime"?m0(f).test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{code:F.invalid_string,validation:"datetime",message:f.message}),o.dirty()):f.kind==="date"?d0.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{code:F.invalid_string,validation:"date",message:f.message}),o.dirty()):f.kind==="time"?h0(f).test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{code:F.invalid_string,validation:"time",message:f.message}),o.dirty()):f.kind==="duration"?i0.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"duration",code:F.invalid_string,message:f.message}),o.dirty()):f.kind==="ip"?p0(e.data,f.version)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"ip",code:F.invalid_string,message:f.message}),o.dirty()):f.kind==="jwt"?g0(e.data,f.alg)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"jwt",code:F.invalid_string,message:f.message}),o.dirty()):f.kind==="cidr"?y0(e.data,f.version)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"cidr",code:F.invalid_string,message:f.message}),o.dirty()):f.kind==="base64"?c0.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"base64",code:F.invalid_string,message:f.message}),o.dirty()):f.kind==="base64url"?f0.test(e.data)||(a=this._getOrReturnCtx(e,a),Q(a,{validation:"base64url",code:F.invalid_string,message:f.message}),o.dirty()):Ue.assertNever(f);return{status:o.value,value:e.data}}_regex(e,i,o){return this.refinement(a=>e.test(a),{validation:i,code:F.invalid_string,...ie.errToObj(o)})}_addCheck(e){return new an({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ie.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ie.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ie.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ie.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ie.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ie.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ie.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ie.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ie.errToObj(e)})}regex(e,i){return this._addCheck({kind:"regex",regex:e,...ie.errToObj(i)})}includes(e,i){return this._addCheck({kind:"includes",value:e,position:i==null?void 0:i.position,...ie.errToObj(i==null?void 0:i.message)})}startsWith(e,i){return this._addCheck({kind:"startsWith",value:e,...ie.errToObj(i)})}endsWith(e,i){return this._addCheck({kind:"endsWith",value:e,...ie.errToObj(i)})}min(e,i){return this._addCheck({kind:"min",value:e,...ie.errToObj(i)})}max(e,i){return this._addCheck({kind:"max",value:e,...ie.errToObj(i)})}length(e,i){return this._addCheck({kind:"length",value:e,...ie.errToObj(i)})}nonempty(e){return this.min(1,ie.errToObj(e))}trim(){return new an({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new an({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new an({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxLength(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}}an.create=n=>new an({checks:[],typeName:pe.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...Se(n)});function v0(n,e){const i=(n.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,a=i>o?i:o,f=Number.parseInt(n.toFixed(a).replace(".","")),h=Number.parseInt(e.toFixed(a).replace(".",""));return f%h/10**a}class Ai extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==te.number){const f=this._getOrReturnCtx(e);return Q(f,{code:F.invalid_type,expected:te.number,received:f.parsedType}),ge}let o;const a=new _t;for(const f of this._def.checks)f.kind==="int"?Ue.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),Q(o,{code:F.invalid_type,expected:"integer",received:"float",message:f.message}),a.dirty()):f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(o=this._getOrReturnCtx(e,o),Q(o,{code:F.too_small,minimum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),a.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(o=this._getOrReturnCtx(e,o),Q(o,{code:F.too_big,maximum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),a.dirty()):f.kind==="multipleOf"?v0(e.data,f.value)!==0&&(o=this._getOrReturnCtx(e,o),Q(o,{code:F.not_multiple_of,multipleOf:f.value,message:f.message}),a.dirty()):f.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),Q(o,{code:F.not_finite,message:f.message}),a.dirty()):Ue.assertNever(f);return{status:a.value,value:e.data}}gte(e,i){return this.setLimit("min",e,!0,ie.toString(i))}gt(e,i){return this.setLimit("min",e,!1,ie.toString(i))}lte(e,i){return this.setLimit("max",e,!0,ie.toString(i))}lt(e,i){return this.setLimit("max",e,!1,ie.toString(i))}setLimit(e,i,o,a){return new Ai({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:o,message:ie.toString(a)}]})}_addCheck(e){return new Ai({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(i)})}finite(e){return this._addCheck({kind:"finite",message:ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ie.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ie.toString(e)})}get minValue(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ue.isInteger(e.value))}get isFinite(){let e=null,i=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(i===null||o.value>i)&&(i=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(i)&&Number.isFinite(e)}}Ai.create=n=>new Ai({checks:[],typeName:pe.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Se(n)});class Mi extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==te.bigint)return this._getInvalidInput(e);let o;const a=new _t;for(const f of this._def.checks)f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(o=this._getOrReturnCtx(e,o),Q(o,{code:F.too_small,type:"bigint",minimum:f.value,inclusive:f.inclusive,message:f.message}),a.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(o=this._getOrReturnCtx(e,o),Q(o,{code:F.too_big,type:"bigint",maximum:f.value,inclusive:f.inclusive,message:f.message}),a.dirty()):f.kind==="multipleOf"?e.data%f.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),Q(o,{code:F.not_multiple_of,multipleOf:f.value,message:f.message}),a.dirty()):Ue.assertNever(f);return{status:a.value,value:e.data}}_getInvalidInput(e){const i=this._getOrReturnCtx(e);return Q(i,{code:F.invalid_type,expected:te.bigint,received:i.parsedType}),ge}gte(e,i){return this.setLimit("min",e,!0,ie.toString(i))}gt(e,i){return this.setLimit("min",e,!1,ie.toString(i))}lte(e,i){return this.setLimit("max",e,!0,ie.toString(i))}lt(e,i){return this.setLimit("max",e,!1,ie.toString(i))}setLimit(e,i,o,a){return new Mi({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:o,message:ie.toString(a)}]})}_addCheck(e){return new Mi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(i)})}get minValue(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}}Mi.create=n=>new Mi({checks:[],typeName:pe.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...Se(n)});class pa extends Re{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==te.boolean){const o=this._getOrReturnCtx(e);return Q(o,{code:F.invalid_type,expected:te.boolean,received:o.parsedType}),ge}return Kt(e.data)}}pa.create=n=>new pa({typeName:pe.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Se(n)});class El extends Re{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==te.date){const f=this._getOrReturnCtx(e);return Q(f,{code:F.invalid_type,expected:te.date,received:f.parsedType}),ge}if(Number.isNaN(e.data.getTime())){const f=this._getOrReturnCtx(e);return Q(f,{code:F.invalid_date}),ge}const o=new _t;let a;for(const f of this._def.checks)f.kind==="min"?e.data.getTime()<f.value&&(a=this._getOrReturnCtx(e,a),Q(a,{code:F.too_small,message:f.message,inclusive:!0,exact:!1,minimum:f.value,type:"date"}),o.dirty()):f.kind==="max"?e.data.getTime()>f.value&&(a=this._getOrReturnCtx(e,a),Q(a,{code:F.too_big,message:f.message,inclusive:!0,exact:!1,maximum:f.value,type:"date"}),o.dirty()):Ue.assertNever(f);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new El({...this._def,checks:[...this._def.checks,e]})}min(e,i){return this._addCheck({kind:"min",value:e.getTime(),message:ie.toString(i)})}max(e,i){return this._addCheck({kind:"max",value:e.getTime(),message:ie.toString(i)})}get minDate(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e!=null?new Date(e):null}}El.create=n=>new El({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:pe.ZodDate,...Se(n)});class Bm extends Re{_parse(e){if(this._getType(e)!==te.symbol){const o=this._getOrReturnCtx(e);return Q(o,{code:F.invalid_type,expected:te.symbol,received:o.parsedType}),ge}return Kt(e.data)}}Bm.create=n=>new Bm({typeName:pe.ZodSymbol,...Se(n)});class Gm extends Re{_parse(e){if(this._getType(e)!==te.undefined){const o=this._getOrReturnCtx(e);return Q(o,{code:F.invalid_type,expected:te.undefined,received:o.parsedType}),ge}return Kt(e.data)}}Gm.create=n=>new Gm({typeName:pe.ZodUndefined,...Se(n)});class Hm extends Re{_parse(e){if(this._getType(e)!==te.null){const o=this._getOrReturnCtx(e);return Q(o,{code:F.invalid_type,expected:te.null,received:o.parsedType}),ge}return Kt(e.data)}}Hm.create=n=>new Hm({typeName:pe.ZodNull,...Se(n)});class Om extends Re{constructor(){super(...arguments),this._any=!0}_parse(e){return Kt(e.data)}}Om.create=n=>new Om({typeName:pe.ZodAny,...Se(n)});class Wu extends Re{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Kt(e.data)}}Wu.create=n=>new Wu({typeName:pe.ZodUnknown,...Se(n)});class li extends Re{_parse(e){const i=this._getOrReturnCtx(e);return Q(i,{code:F.invalid_type,expected:te.never,received:i.parsedType}),ge}}li.create=n=>new li({typeName:pe.ZodNever,...Se(n)});class Fm extends Re{_parse(e){if(this._getType(e)!==te.undefined){const o=this._getOrReturnCtx(e);return Q(o,{code:F.invalid_type,expected:te.void,received:o.parsedType}),ge}return Kt(e.data)}}Fm.create=n=>new Fm({typeName:pe.ZodVoid,...Se(n)});class fn extends Re{_parse(e){const{ctx:i,status:o}=this._processInputParams(e),a=this._def;if(i.parsedType!==te.array)return Q(i,{code:F.invalid_type,expected:te.array,received:i.parsedType}),ge;if(a.exactLength!==null){const h=i.data.length>a.exactLength.value,m=i.data.length<a.exactLength.value;(h||m)&&(Q(i,{code:h?F.too_big:F.too_small,minimum:m?a.exactLength.value:void 0,maximum:h?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),o.dirty())}if(a.minLength!==null&&i.data.length<a.minLength.value&&(Q(i,{code:F.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),o.dirty()),a.maxLength!==null&&i.data.length>a.maxLength.value&&(Q(i,{code:F.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),o.dirty()),i.common.async)return Promise.all([...i.data].map((h,m)=>a.type._parseAsync(new dn(i,h,i.path,m)))).then(h=>_t.mergeArray(o,h));const f=[...i.data].map((h,m)=>a.type._parseSync(new dn(i,h,i.path,m)));return _t.mergeArray(o,f)}get element(){return this._def.type}min(e,i){return new fn({...this._def,minLength:{value:e,message:ie.toString(i)}})}max(e,i){return new fn({...this._def,maxLength:{value:e,message:ie.toString(i)}})}length(e,i){return new fn({...this._def,exactLength:{value:e,message:ie.toString(i)}})}nonempty(e){return this.min(1,e)}}fn.create=(n,e)=>new fn({type:n,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,...Se(e)});function Tl(n){if(n instanceof ot){const e={};for(const i in n.shape){const o=n.shape[i];e[i]=ii.create(Tl(o))}return new ot({...n._def,shape:()=>e})}else return n instanceof fn?new fn({...n._def,type:Tl(n.element)}):n instanceof ii?ii.create(Tl(n.unwrap())):n instanceof Rl?Rl.create(Tl(n.unwrap())):n instanceof Ri?Ri.create(n.items.map(e=>Tl(e))):n}class ot extends Re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),i=Ue.objectKeys(e);return this._cached={shape:e,keys:i},this._cached}_parse(e){if(this._getType(e)!==te.object){const p=this._getOrReturnCtx(e);return Q(p,{code:F.invalid_type,expected:te.object,received:p.parsedType}),ge}const{status:o,ctx:a}=this._processInputParams(e),{shape:f,keys:h}=this._getCached(),m=[];if(!(this._def.catchall instanceof li&&this._def.unknownKeys==="strip"))for(const p in a.data)h.includes(p)||m.push(p);const y=[];for(const p of h){const v=f[p],S=a.data[p];y.push({key:{status:"valid",value:p},value:v._parse(new dn(a,S,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof li){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of m)y.push({key:{status:"valid",value:v},value:{status:"valid",value:a.data[v]}});else if(p==="strict")m.length>0&&(Q(a,{code:F.unrecognized_keys,keys:m}),o.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of m){const S=a.data[v];y.push({key:{status:"valid",value:v},value:p._parse(new dn(a,S,a.path,v)),alwaysSet:v in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of y){const S=await v.key,x=await v.value;p.push({key:S,value:x,alwaysSet:v.alwaysSet})}return p}).then(p=>_t.mergeObjectSync(o,p)):_t.mergeObjectSync(o,y)}get shape(){return this._def.shape()}strict(e){return ie.errToObj,new ot({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(i,o)=>{var f,h;const a=((h=(f=this._def).errorMap)==null?void 0:h.call(f,i,o).message)??o.defaultError;return i.code==="unrecognized_keys"?{message:ie.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new ot({...this._def,unknownKeys:"strip"})}passthrough(){return new ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pe.ZodObject})}setKey(e,i){return this.augment({[e]:i})}catchall(e){return new ot({...this._def,catchall:e})}pick(e){const i={};for(const o of Ue.objectKeys(e))e[o]&&this.shape[o]&&(i[o]=this.shape[o]);return new ot({...this._def,shape:()=>i})}omit(e){const i={};for(const o of Ue.objectKeys(this.shape))e[o]||(i[o]=this.shape[o]);return new ot({...this._def,shape:()=>i})}deepPartial(){return Tl(this)}partial(e){const i={};for(const o of Ue.objectKeys(this.shape)){const a=this.shape[o];e&&!e[o]?i[o]=a:i[o]=a.optional()}return new ot({...this._def,shape:()=>i})}required(e){const i={};for(const o of Ue.objectKeys(this.shape))if(e&&!e[o])i[o]=this.shape[o];else{let f=this.shape[o];for(;f instanceof ii;)f=f._def.innerType;i[o]=f}return new ot({...this._def,shape:()=>i})}keyof(){return xg(Ue.objectKeys(this.shape))}}ot.create=(n,e)=>new ot({shape:()=>n,unknownKeys:"strip",catchall:li.create(),typeName:pe.ZodObject,...Se(e)});ot.strictCreate=(n,e)=>new ot({shape:()=>n,unknownKeys:"strict",catchall:li.create(),typeName:pe.ZodObject,...Se(e)});ot.lazycreate=(n,e)=>new ot({shape:n,unknownKeys:"strip",catchall:li.create(),typeName:pe.ZodObject,...Se(e)});class ga extends Re{_parse(e){const{ctx:i}=this._processInputParams(e),o=this._def.options;function a(f){for(const m of f)if(m.result.status==="valid")return m.result;for(const m of f)if(m.result.status==="dirty")return i.common.issues.push(...m.ctx.common.issues),m.result;const h=f.map(m=>new Nn(m.ctx.common.issues));return Q(i,{code:F.invalid_union,unionErrors:h}),ge}if(i.common.async)return Promise.all(o.map(async f=>{const h={...i,common:{...i.common,issues:[]},parent:null};return{result:await f._parseAsync({data:i.data,path:i.path,parent:h}),ctx:h}})).then(a);{let f;const h=[];for(const y of o){const p={...i,common:{...i.common,issues:[]},parent:null},v=y._parseSync({data:i.data,path:i.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!f&&(f={result:v,ctx:p}),p.common.issues.length&&h.push(p.common.issues)}if(f)return i.common.issues.push(...f.ctx.common.issues),f.result;const m=h.map(y=>new Nn(y));return Q(i,{code:F.invalid_union,unionErrors:m}),ge}}get options(){return this._def.options}}ga.create=(n,e)=>new ga({options:n,typeName:pe.ZodUnion,...Se(e)});function ju(n,e){const i=ni(n),o=ni(e);if(n===e)return{valid:!0,data:n};if(i===te.object&&o===te.object){const a=Ue.objectKeys(e),f=Ue.objectKeys(n).filter(m=>a.indexOf(m)!==-1),h={...n,...e};for(const m of f){const y=ju(n[m],e[m]);if(!y.valid)return{valid:!1};h[m]=y.data}return{valid:!0,data:h}}else if(i===te.array&&o===te.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let f=0;f<n.length;f++){const h=n[f],m=e[f],y=ju(h,m);if(!y.valid)return{valid:!1};a.push(y.data)}return{valid:!0,data:a}}else return i===te.date&&o===te.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class ya extends Re{_parse(e){const{status:i,ctx:o}=this._processInputParams(e),a=(f,h)=>{if(qm(f)||qm(h))return ge;const m=ju(f.value,h.value);return m.valid?((Pm(f)||Pm(h))&&i.dirty(),{status:i.value,value:m.data}):(Q(o,{code:F.invalid_intersection_types}),ge)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([f,h])=>a(f,h)):a(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}ya.create=(n,e,i)=>new ya({left:n,right:e,typeName:pe.ZodIntersection,...Se(i)});class Ri extends Re{_parse(e){const{status:i,ctx:o}=this._processInputParams(e);if(o.parsedType!==te.array)return Q(o,{code:F.invalid_type,expected:te.array,received:o.parsedType}),ge;if(o.data.length<this._def.items.length)return Q(o,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&o.data.length>this._def.items.length&&(Q(o,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.dirty());const f=[...o.data].map((h,m)=>{const y=this._def.items[m]||this._def.rest;return y?y._parse(new dn(o,h,o.path,m)):null}).filter(h=>!!h);return o.common.async?Promise.all(f).then(h=>_t.mergeArray(i,h)):_t.mergeArray(i,f)}get items(){return this._def.items}rest(e){return new Ri({...this._def,rest:e})}}Ri.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ri({items:n,typeName:pe.ZodTuple,rest:null,...Se(e)})};class va extends Re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:i,ctx:o}=this._processInputParams(e);if(o.parsedType!==te.object)return Q(o,{code:F.invalid_type,expected:te.object,received:o.parsedType}),ge;const a=[],f=this._def.keyType,h=this._def.valueType;for(const m in o.data)a.push({key:f._parse(new dn(o,m,o.path,m)),value:h._parse(new dn(o,o.data[m],o.path,m)),alwaysSet:m in o.data});return o.common.async?_t.mergeObjectAsync(i,a):_t.mergeObjectSync(i,a)}get element(){return this._def.valueType}static create(e,i,o){return i instanceof Re?new va({keyType:e,valueType:i,typeName:pe.ZodRecord,...Se(o)}):new va({keyType:an.create(),valueType:e,typeName:pe.ZodRecord,...Se(i)})}}class Ym extends Re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:i,ctx:o}=this._processInputParams(e);if(o.parsedType!==te.map)return Q(o,{code:F.invalid_type,expected:te.map,received:o.parsedType}),ge;const a=this._def.keyType,f=this._def.valueType,h=[...o.data.entries()].map(([m,y],p)=>({key:a._parse(new dn(o,m,o.path,[p,"key"])),value:f._parse(new dn(o,y,o.path,[p,"value"]))}));if(o.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const y of h){const p=await y.key,v=await y.value;if(p.status==="aborted"||v.status==="aborted")return ge;(p.status==="dirty"||v.status==="dirty")&&i.dirty(),m.set(p.value,v.value)}return{status:i.value,value:m}})}else{const m=new Map;for(const y of h){const p=y.key,v=y.value;if(p.status==="aborted"||v.status==="aborted")return ge;(p.status==="dirty"||v.status==="dirty")&&i.dirty(),m.set(p.value,v.value)}return{status:i.value,value:m}}}}Ym.create=(n,e,i)=>new Ym({valueType:e,keyType:n,typeName:pe.ZodMap,...Se(i)});class Oo extends Re{_parse(e){const{status:i,ctx:o}=this._processInputParams(e);if(o.parsedType!==te.set)return Q(o,{code:F.invalid_type,expected:te.set,received:o.parsedType}),ge;const a=this._def;a.minSize!==null&&o.data.size<a.minSize.value&&(Q(o,{code:F.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),i.dirty()),a.maxSize!==null&&o.data.size>a.maxSize.value&&(Q(o,{code:F.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),i.dirty());const f=this._def.valueType;function h(y){const p=new Set;for(const v of y){if(v.status==="aborted")return ge;v.status==="dirty"&&i.dirty(),p.add(v.value)}return{status:i.value,value:p}}const m=[...o.data.values()].map((y,p)=>f._parse(new dn(o,y,o.path,p)));return o.common.async?Promise.all(m).then(y=>h(y)):h(m)}min(e,i){return new Oo({...this._def,minSize:{value:e,message:ie.toString(i)}})}max(e,i){return new Oo({...this._def,maxSize:{value:e,message:ie.toString(i)}})}size(e,i){return this.min(e,i).max(e,i)}nonempty(e){return this.min(1,e)}}Oo.create=(n,e)=>new Oo({valueType:n,minSize:null,maxSize:null,typeName:pe.ZodSet,...Se(e)});class ec extends Re{get schema(){return this._def.getter()}_parse(e){const{ctx:i}=this._processInputParams(e);return this._def.getter()._parse({data:i.data,path:i.path,parent:i})}}ec.create=(n,e)=>new ec({getter:n,typeName:pe.ZodLazy,...Se(e)});class Jm extends Re{_parse(e){if(e.data!==this._def.value){const i=this._getOrReturnCtx(e);return Q(i,{received:i.data,code:F.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}Jm.create=(n,e)=>new Jm({value:n,typeName:pe.ZodLiteral,...Se(e)});function xg(n,e){return new Al({values:n,typeName:pe.ZodEnum,...Se(e)})}class Al extends Re{_parse(e){if(typeof e.data!="string"){const i=this._getOrReturnCtx(e),o=this._def.values;return Q(i,{expected:Ue.joinValues(o),received:i.parsedType,code:F.invalid_type}),ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const i=this._getOrReturnCtx(e),o=this._def.values;return Q(i,{received:i.data,code:F.invalid_enum_value,options:o}),ge}return Kt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const i of this._def.values)e[i]=i;return e}get Values(){const e={};for(const i of this._def.values)e[i]=i;return e}get Enum(){const e={};for(const i of this._def.values)e[i]=i;return e}extract(e,i=this._def){return Al.create(e,{...this._def,...i})}exclude(e,i=this._def){return Al.create(this.options.filter(o=>!e.includes(o)),{...this._def,...i})}}Al.create=xg;class $m extends Re{_parse(e){const i=Ue.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==te.string&&o.parsedType!==te.number){const a=Ue.objectValues(i);return Q(o,{expected:Ue.joinValues(a),received:o.parsedType,code:F.invalid_type}),ge}if(this._cache||(this._cache=new Set(Ue.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Ue.objectValues(i);return Q(o,{received:o.data,code:F.invalid_enum_value,options:a}),ge}return Kt(e.data)}get enum(){return this._def.values}}$m.create=(n,e)=>new $m({values:n,typeName:pe.ZodNativeEnum,...Se(e)});class Ta extends Re{unwrap(){return this._def.type}_parse(e){const{ctx:i}=this._processInputParams(e);if(i.parsedType!==te.promise&&i.common.async===!1)return Q(i,{code:F.invalid_type,expected:te.promise,received:i.parsedType}),ge;const o=i.parsedType===te.promise?i.data:Promise.resolve(i.data);return Kt(o.then(a=>this._def.type.parseAsync(a,{path:i.path,errorMap:i.common.contextualErrorMap})))}}Ta.create=(n,e)=>new Ta({type:n,typeName:pe.ZodPromise,...Se(e)});class Ml extends Re{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:i,ctx:o}=this._processInputParams(e),a=this._def.effect||null,f={addIssue:h=>{Q(o,h),h.fatal?i.abort():i.dirty()},get path(){return o.path}};if(f.addIssue=f.addIssue.bind(f),a.type==="preprocess"){const h=a.transform(o.data,f);if(o.common.async)return Promise.resolve(h).then(async m=>{if(i.value==="aborted")return ge;const y=await this._def.schema._parseAsync({data:m,path:o.path,parent:o});return y.status==="aborted"?ge:y.status==="dirty"||i.value==="dirty"?Vo(y.value):y});{if(i.value==="aborted")return ge;const m=this._def.schema._parseSync({data:h,path:o.path,parent:o});return m.status==="aborted"?ge:m.status==="dirty"||i.value==="dirty"?Vo(m.value):m}}if(a.type==="refinement"){const h=m=>{const y=a.refinement(m,f);if(o.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(o.common.async===!1){const m=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return m.status==="aborted"?ge:(m.status==="dirty"&&i.dirty(),h(m.value),{status:i.value,value:m.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(m=>m.status==="aborted"?ge:(m.status==="dirty"&&i.dirty(),h(m.value).then(()=>({status:i.value,value:m.value}))))}if(a.type==="transform")if(o.common.async===!1){const h=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!xl(h))return ge;const m=a.transform(h.value,f);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:m}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(h=>xl(h)?Promise.resolve(a.transform(h.value,f)).then(m=>({status:i.value,value:m})):ge);Ue.assertNever(a)}}Ml.create=(n,e,i)=>new Ml({schema:n,typeName:pe.ZodEffects,effect:e,...Se(i)});Ml.createWithPreprocess=(n,e,i)=>new Ml({schema:e,effect:{type:"preprocess",transform:n},typeName:pe.ZodEffects,...Se(i)});class ii extends Re{_parse(e){return this._getType(e)===te.undefined?Kt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ii.create=(n,e)=>new ii({innerType:n,typeName:pe.ZodOptional,...Se(e)});class Rl extends Re{_parse(e){return this._getType(e)===te.null?Kt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Rl.create=(n,e)=>new Rl({innerType:n,typeName:pe.ZodNullable,...Se(e)});class tc extends Re{_parse(e){const{ctx:i}=this._processInputParams(e);let o=i.data;return i.parsedType===te.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:i.path,parent:i})}removeDefault(){return this._def.innerType}}tc.create=(n,e)=>new tc({innerType:n,typeName:pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class nc extends Re{_parse(e){const{ctx:i}=this._processInputParams(e),o={...i,common:{...i.common,issues:[]}},a=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return ma(a)?a.then(f=>({status:"valid",value:f.status==="valid"?f.value:this._def.catchValue({get error(){return new Nn(o.common.issues)},input:o.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Nn(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}nc.create=(n,e)=>new nc({innerType:n,typeName:pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class Zm extends Re{_parse(e){if(this._getType(e)!==te.nan){const o=this._getOrReturnCtx(e);return Q(o,{code:F.invalid_type,expected:te.nan,received:o.parsedType}),ge}return{status:"valid",value:e.data}}}Zm.create=n=>new Zm({typeName:pe.ZodNaN,...Se(n)});class T0 extends Re{_parse(e){const{ctx:i}=this._processInputParams(e),o=i.data;return this._def.type._parse({data:o,path:i.path,parent:i})}unwrap(){return this._def.type}}class vc extends Re{_parse(e){const{status:i,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const f=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return f.status==="aborted"?ge:f.status==="dirty"?(i.dirty(),Vo(f.value)):this._def.out._parseAsync({data:f.value,path:o.path,parent:o})})();{const a=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?ge:a.status==="dirty"?(i.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:o.path,parent:o})}}static create(e,i){return new vc({in:e,out:i,typeName:pe.ZodPipeline})}}class ic extends Re{_parse(e){const i=this._def.innerType._parse(e),o=a=>(xl(a)&&(a.value=Object.freeze(a.value)),a);return ma(i)?i.then(a=>o(a)):o(i)}unwrap(){return this._def.innerType}}ic.create=(n,e)=>new ic({innerType:n,typeName:pe.ZodReadonly,...Se(e)});var pe;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(pe||(pe={}));const Ei=an.create,Km=Ai.create;Mi.create;const S0=pa.create;El.create;const Qm=Wu.create;li.create;const qo=fn.create,C0=ot.create,_0=ga.create;ya.create;Ri.create;const x0=va.create,E0=ec.create,A0=Al.create;Ta.create;ii.create;Rl.create;const vl={string:n=>an.create({...n,coerce:!0}),number:n=>Ai.create({...n,coerce:!0}),boolean:n=>pa.create({...n,coerce:!0}),bigint:n=>Mi.create({...n,coerce:!0}),date:n=>El.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let M0,R0;function N0(){return{geminiUrl:M0,vertexUrl:R0}}function w0(n,e,i){var o,a,f;if(!(!((o=n.httpOptions)===null||o===void 0)&&o.baseUrl)){const h=N0();return n.vertexai?(a=h.vertexUrl)!==null&&a!==void 0?a:e:(f=h.geminiUrl)!==null&&f!==void 0?f:i}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bi{}function le(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const f=e[a];return f!=null?String(f):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function u(n,e,i){for(let f=0;f<e.length-1;f++){const h=e[f];if(h.endsWith("[]")){const m=h.slice(0,-2);if(!(m in n))if(Array.isArray(i))n[m]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(n[m])){const y=n[m];if(Array.isArray(i))for(let p=0;p<y.length;p++){const v=y[p];u(v,e.slice(f+1),i[p])}else for(const p of y)u(p,e.slice(f+1),i)}return}else if(h.endsWith("[0]")){const m=h.slice(0,-3);m in n||(n[m]=[{}]);const y=n[m];u(y[0],e.slice(f+1),i);return}(!n[h]||typeof n[h]!="object")&&(n[h]={}),n=n[h]}const o=e[e.length-1],a=n[o];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=i}function r(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return;const o=e[i];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in n){const f=n[a];return Array.isArray(f)?f.map(h=>r(h,e.slice(i+1))):void 0}else return}else n=n[o]}return n}catch(i){if(i instanceof TypeError)return;throw i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Xm||(Xm={}));var Wm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Wm||(Wm={}));var rn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(rn||(rn={}));var jm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(jm||(jm={}));var ep;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(ep||(ep={}));var tp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(tp||(tp={}));var np;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(np||(np={}));var ip;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(ip||(ip={}));var lp;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(lp||(lp={}));var op;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(op||(op={}));var sp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(sp||(sp={}));var ap;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(ap||(ap={}));var rp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(rp||(rp={}));var up;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(up||(up={}));var cp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(cp||(cp={}));var fp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fp||(fp={}));var Sa;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Sa||(Sa={}));var dp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dp||(dp={}));var lc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lc||(lc={}));var hp;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hp||(hp={}));var mp;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(mp||(mp={}));var pp;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(pp||(pp={}));var gp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(gp||(gp={}));var yp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(yp||(yp={}));var vp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(vp||(vp={}));var Tp;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Tp||(Tp={}));var Sp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Sp||(Sp={}));var Cp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Cp||(Cp={}));var _p;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_p||(_p={}));var xp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xp||(xp={}));var Ep;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ep||(Ep={}));var Ap;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Ap||(Ap={}));var Mp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Mp||(Mp={}));var Rp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Rp||(Rp={}));var Np;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Np||(Np={}));var wp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wp||(wp={}));var bp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(bp||(bp={}));var Dp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Dp||(Dp={}));var kp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kp||(kp={}));var Up;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Up||(Up={}));var Ip;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ip||(Ip={}));var Sl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Sl||(Sl={}));class oc{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Uo{get text(){var e,i,o,a,f,h,m,y;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const S=[];for(const x of(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[M,N]of Object.entries(x))M!=="text"&&M!=="thought"&&(N!==null||N!==void 0)&&S.push(M);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;v=!0,p+=x.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,i,o,a,f,h,m,y;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const S of(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[x,M]of Object.entries(S))x!=="inlineData"&&(M!==null||M!==void 0)&&v.push(x);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,o,a,f,h,m,y;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,o,a,f,h,m,y,p;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,o,a,f,h,m,y,p;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Lp{}class Vp{}class b0{}class D0{}class qp{}class Pp{}class zp{}class k0{}class Bp{}class Gp{}class Hp{}class U0{}class I0{}class L0{}class Op{}class V0{get text(){var e,i,o;let a="",f=!1;const h=[];for(const m of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[y,p]of Object.entries(m))y!=="text"&&y!=="thought"&&p!==null&&h.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,a+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?a:void 0}get data(){var e,i,o;let a="";const f=[];for(const h of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[m,y]of Object.entries(h))m!=="inlineData"&&y!==null&&f.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(a+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class q0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Eg(n,e){const i=Pe(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function Ag(n){return Array.isArray(n)?n.map(e=>Ca(e)):[Ca(n)]}function Ca(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Mg(n){const e=Ca(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Rg(n){const e=Ca(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Fp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Ng(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Fp(e)):[Fp(n)]}function sc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Yp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Jp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Tt(n){if(n==null)throw new Error("ContentUnion is required");return sc(n)?n:{role:"user",parts:Ng(n)}}function wg(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=Tt(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const i=Tt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Tt(i)):[Tt(e)]}function Zt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Yp(n)||Jp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Tt(n)]}const e=[],i=[],o=sc(n[0]);for(const a of n){const f=sc(a);if(f!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(a);else{if(Yp(a)||Jp(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return o||e.push({role:"user",parts:Ng(i)}),e}const P0=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),$p=A0(["string","number","integer","object","array","boolean","null"]),z0=_0([$p,qo($p)]);function B0(n=!0){const e=E0(()=>{const i=C0({type:z0.optional(),format:Ei().optional(),title:Ei().optional(),description:Ei().optional(),default:Qm().optional(),items:e.optional(),minItems:vl.string().optional(),maxItems:vl.string().optional(),enum:qo(Qm()).optional(),properties:x0(Ei(),e).optional(),required:qo(Ei()).optional(),minProperties:vl.string().optional(),maxProperties:vl.string().optional(),propertyOrdering:qo(Ei()).optional(),minimum:Km().optional(),maximum:Km().optional(),minLength:vl.string().optional(),maxLength:vl.string().optional(),pattern:Ei().optional(),anyOf:qo(e).optional(),additionalProperties:S0().optional()});return n?i.strict():i});return e}function G0(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(rn).includes(i[0].toUpperCase())?i[0].toUpperCase():rn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(rn).includes(o.toUpperCase())?o.toUpperCase():rn.TYPE_UNSPECIFIED})}}function Cl(n){const e={},i=["items"],o=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&G0(n.type,e);for(const[h,m]of Object.entries(n))if(m!=null)if(h=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(rn).includes(m.toUpperCase())?m.toUpperCase():rn.TYPE_UNSPECIFIED}else if(i.includes(h))e[h]=Cl(m);else if(o.includes(h)){const y=[];for(const p of m){if(p.type=="null"){e.nullable=!0;continue}y.push(Cl(p))}e[h]=y}else if(a.includes(h)){const y={};for(const[p,v]of Object.entries(m))y[p]=Cl(v);e[h]=y}else{if(h==="additionalProperties")continue;e[h]=m}return e}function Fo(n){if(Object.keys(n).includes("$schema")){delete n.$schema;const e=B0().parse(n);return Cl(e)}else return Cl(n)}function Tc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Sc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Nl(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(e.parameters=Fo(e.parameters)),e.response&&(e.response=Fo(e.response));return n}function wl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function H0(n,e,i,o=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function bn(n,e){if(typeof e!="string")throw new Error("name must be a string");return H0(n,e,"cachedContents")}function bg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Dn(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function O0(n){return n!=null&&typeof n=="object"&&"name"in n}function F0(n){return n!=null&&typeof n=="object"&&"video"in n}function Y0(n){return n!=null&&typeof n=="object"&&"uri"in n}function Dg(n){var e;let i;if(O0(n)&&(i=n.name),!(Y0(n)&&(i=n.uri,i===void 0))&&!(F0(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function kg(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function Ug(n){for(const e of["models","tunedModels","publisherModels"])if(J0(n,e))return n[e];return[]}function J0(n,e){return n!==null&&typeof n=="object"&&e in n}function $0(n,e={}){const i=n,o={name:i.name,description:i.description,parameters:Cl(Ma(i.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Z0(n,e={}){const i=[],o=new Set;for(const a of n){const f=a.name;if(o.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o.add(f);const h=$0(a,e);h.functionDeclarations&&i.push(...h.functionDeclarations)}return{functionDeclarations:i}}function K0(n){const e=[];for(const i of n)e.push(Ma(i));return e}function Q0(n){const e={};for(const[i,o]of Object.entries(n)){const a=o;e[i]=Ma(a)}return e}function Ma(n){const e=new Set(["items"]),i=new Set(["anyOf"]),o=new Set(["properties"]),a={};for(const[f,h]of Object.entries(n))if(e.has(f))a[f]=Ma(h);else if(i.has(f))a[f]=K0(h);else if(o.has(f))a[f]=Q0(h);else if(f==="type"){const m=h.toUpperCase();a[f]=Object.values(rn).includes(m)?m:rn.TYPE_UNSPECIFIED}else P0.has(f)&&(a[f]=h);return a}function Ig(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function X0(n){const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function bl(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function Lg(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W0(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function j0(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(n,["data"]);i!=null&&u(e,["data"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function eS(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function tS(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],W0(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],j0(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],eS(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function Vg(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>tS(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function nS(n){const e={},i=r(n,["anyOf"]);i!=null&&u(e,["anyOf"],i);const o=r(n,["default"]);o!=null&&u(e,["default"],o);const a=r(n,["description"]);a!=null&&u(e,["description"],a);const f=r(n,["enum"]);f!=null&&u(e,["enum"],f);const h=r(n,["example"]);h!=null&&u(e,["example"],h);const m=r(n,["format"]);m!=null&&u(e,["format"],m);const y=r(n,["items"]);y!=null&&u(e,["items"],y);const p=r(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const v=r(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const S=r(n,["maxProperties"]);S!=null&&u(e,["maxProperties"],S);const x=r(n,["maximum"]);x!=null&&u(e,["maximum"],x);const M=r(n,["minItems"]);M!=null&&u(e,["minItems"],M);const N=r(n,["minLength"]);N!=null&&u(e,["minLength"],N);const L=r(n,["minProperties"]);L!=null&&u(e,["minProperties"],L);const G=r(n,["minimum"]);G!=null&&u(e,["minimum"],G);const H=r(n,["nullable"]);H!=null&&u(e,["nullable"],H);const O=r(n,["pattern"]);O!=null&&u(e,["pattern"],O);const Y=r(n,["properties"]);Y!=null&&u(e,["properties"],Y);const W=r(n,["propertyOrdering"]);W!=null&&u(e,["propertyOrdering"],W);const I=r(n,["required"]);I!=null&&u(e,["required"],I);const oe=r(n,["title"]);oe!=null&&u(e,["title"],oe);const $=r(n,["type"]);return $!=null&&u(e,["type"],$),e}function iS(n){const e={};if(r(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=r(n,["category"]);i!=null&&u(e,["category"],i);const o=r(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function lS(n){const e={},i=r(n,["behavior"]);i!=null&&u(e,["behavior"],i);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const a=r(n,["name"]);a!=null&&u(e,["name"],a);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const h=r(n,["parametersJsonSchema"]);h!=null&&u(e,["parametersJsonSchema"],h);const m=r(n,["response"]);m!=null&&u(e,["response"],m);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function oS(n){const e={},i=r(n,["startTime"]);i!=null&&u(e,["startTime"],i);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function sS(n){const e={},i=r(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],oS(i)),e}function aS(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function rS(n){const e={},i=r(n,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],aS(i)),e}function uS(){return{}}function cS(n){const e={},i=r(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(p=>lS(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],sS(o));const a=r(n,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],rS(a)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],uS());const h=r(n,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const m=r(n,["computerUse"]);return m!=null&&u(e,["computerUse"],m),e}function fS(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function dS(n){const e={},i=r(n,["latitude"]);i!=null&&u(e,["latitude"],i);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function hS(n){const e={},i=r(n,["latLng"]);i!=null&&u(e,["latLng"],dS(i));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function mS(n){const e={},i=r(n,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],fS(i));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],hS(o)),e}function pS(n){const e={},i=r(n,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function qg(n){const e={},i=r(n,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],pS(i)),e}function gS(n){const e={},i=r(n,["speaker"]);i!=null&&u(e,["speaker"],i);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],qg(o)),e}function yS(n){const e={},i=r(n,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>gS(a))),u(e,["speakerVoiceConfigs"],o)}return e}function vS(n){const e={},i=r(n,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],qg(i));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],yS(o));const a=r(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function TS(n){const e={},i=r(n,["includeThoughts"]);i!=null&&u(e,["includeThoughts"],i);const o=r(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function SS(n,e,i){const o={},a=r(e,["systemInstruction"]);i!==void 0&&a!=null&&u(i,["systemInstruction"],Vg(Tt(a)));const f=r(e,["temperature"]);f!=null&&u(o,["temperature"],f);const h=r(e,["topP"]);h!=null&&u(o,["topP"],h);const m=r(e,["topK"]);m!=null&&u(o,["topK"],m);const y=r(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const p=r(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const v=r(e,["stopSequences"]);v!=null&&u(o,["stopSequences"],v);const S=r(e,["responseLogprobs"]);S!=null&&u(o,["responseLogprobs"],S);const x=r(e,["logprobs"]);x!=null&&u(o,["logprobs"],x);const M=r(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const N=r(e,["frequencyPenalty"]);N!=null&&u(o,["frequencyPenalty"],N);const L=r(e,["seed"]);L!=null&&u(o,["seed"],L);const G=r(e,["responseMimeType"]);G!=null&&u(o,["responseMimeType"],G);const H=r(e,["responseSchema"]);H!=null&&u(o,["responseSchema"],nS(Fo(H)));const O=r(e,["responseJsonSchema"]);if(O!=null&&u(o,["responseJsonSchema"],O),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=r(e,["safetySettings"]);if(i!==void 0&&Y!=null){let he=Y;Array.isArray(he)&&(he=he.map(Te=>iS(Te))),u(i,["safetySettings"],he)}const W=r(e,["tools"]);if(i!==void 0&&W!=null){let he=wl(W);Array.isArray(he)&&(he=he.map(Te=>cS(Nl(Te)))),u(i,["tools"],he)}const I=r(e,["toolConfig"]);if(i!==void 0&&I!=null&&u(i,["toolConfig"],mS(I)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=r(e,["cachedContent"]);i!==void 0&&oe!=null&&u(i,["cachedContent"],bn(n,oe));const $=r(e,["responseModalities"]);$!=null&&u(o,["responseModalities"],$);const se=r(e,["mediaResolution"]);se!=null&&u(o,["mediaResolution"],se);const X=r(e,["speechConfig"]);if(X!=null&&u(o,["speechConfig"],vS(Tc(X))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=r(e,["thinkingConfig"]);return ye!=null&&u(o,["thinkingConfig"],TS(ye)),o}function CS(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["request","model"],Pe(n,o));const a=r(e,["contents"]);if(a!=null){let h=Zt(a);Array.isArray(h)&&(h=h.map(m=>Vg(m))),u(i,["request","contents"],h)}const f=r(e,["config"]);return f!=null&&u(i,["request","generationConfig"],SS(n,f,i)),i}function _S(n,e){const i={};if(r(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=r(e,["fileName"]);o!=null&&u(i,["fileName"],o);const a=r(e,["inlinedRequests"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>CS(n,h))),u(i,["requests","requests"],f)}return i}function xS(n,e){const i={},o=r(n,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),r(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function ES(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["src"]);a!=null&&u(i,["batch","inputConfig"],_S(n,Ig(n,a)));const f=r(e,["config"]);return f!=null&&u(i,["config"],xS(f,i)),i}function AS(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bl(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function MS(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bl(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function RS(n,e){const i={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);if(e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function NS(n){const e={},i=r(n,["config"]);return i!=null&&u(e,["config"],RS(i,e)),e}function wS(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bl(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function bS(n){const e={},i=r(n,["format"]);i!=null&&u(e,["instancesFormat"],i);const o=r(n,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const a=r(n,["bigqueryUri"]);if(a!=null&&u(e,["bigquerySource","inputUri"],a),r(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function DS(n){const e={},i=r(n,["format"]);i!=null&&u(e,["predictionsFormat"],i);const o=r(n,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const a=r(n,["bigqueryUri"]);if(a!=null&&u(e,["bigqueryDestination","outputUri"],a),r(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function kS(n,e){const i={},o=r(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=r(n,["dest"]);return e!==void 0&&a!=null&&u(e,["outputConfig"],DS(X0(a))),i}function US(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["model"],Pe(n,o));const a=r(e,["src"]);a!=null&&u(i,["inputConfig"],bS(Ig(n,a)));const f=r(e,["config"]);return f!=null&&u(i,["config"],kS(f,i)),i}function IS(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bl(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function LS(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bl(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function VS(n,e){const i={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const f=r(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function qS(n){const e={},i=r(n,["config"]);return i!=null&&u(e,["config"],VS(i,e)),e}function PS(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bl(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function Pg(){return{}}function zS(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function BS(n){const e={},i=r(n,["data"]);i!=null&&u(e,["data"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function GS(n){const e={},i=r(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function HS(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],zS(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],BS(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],GS(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function OS(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>HS(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function FS(n){const e={},i=r(n,["citationSources"]);return i!=null&&u(e,["citations"],i),e}function YS(n){const e={},i=r(n,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function JS(n){const e={},i=r(n,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>YS(a))),u(e,["urlMetadata"],o)}return e}function $S(n){const e={},i=r(n,["content"]);i!=null&&u(e,["content"],OS(i));const o=r(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],FS(o));const a=r(n,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const f=r(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const h=r(n,["urlContextMetadata"]);h!=null&&u(e,["urlContextMetadata"],JS(h));const m=r(n,["avgLogprobs"]);m!=null&&u(e,["avgLogprobs"],m);const y=r(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const p=r(n,["index"]);p!=null&&u(e,["index"],p);const v=r(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const S=r(n,["safetyRatings"]);return S!=null&&u(e,["safetyRatings"],S),e}function ZS(n){const e={},i=r(n,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>$S(m))),u(e,["candidates"],h)}const o=r(n,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const a=r(n,["promptFeedback"]);a!=null&&u(e,["promptFeedback"],a);const f=r(n,["usageMetadata"]);return f!=null&&u(e,["usageMetadata"],f),e}function KS(n){const e={},i=r(n,["response"]);return i!=null&&u(e,["response"],ZS(i)),r(n,["error"])!=null&&u(e,["error"],Pg()),e}function QS(n){const e={},i=r(n,["responsesFile"]);i!=null&&u(e,["fileName"],i);const o=r(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>KS(f))),u(e,["inlinedResponses"],a)}return e}function ac(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["metadata","state"]);a!=null&&u(e,["state"],Lg(a));const f=r(n,["metadata","createTime"]);f!=null&&u(e,["createTime"],f);const h=r(n,["metadata","endTime"]);h!=null&&u(e,["endTime"],h);const m=r(n,["metadata","updateTime"]);m!=null&&u(e,["updateTime"],m);const y=r(n,["metadata","model"]);y!=null&&u(e,["model"],y);const p=r(n,["metadata","output"]);return p!=null&&u(e,["dest"],QS(p)),e}function XS(n){const e={},i=r(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(n,["operations"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>ac(f))),u(e,["batchJobs"],a)}return e}function WS(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["done"]);return o!=null&&u(e,["done"],o),r(n,["error"])!=null&&u(e,["error"],Pg()),e}function zg(n){const e={},i=r(n,["details"]);i!=null&&u(e,["details"],i);const o=r(n,["code"]);o!=null&&u(e,["code"],o);const a=r(n,["message"]);return a!=null&&u(e,["message"],a),e}function jS(n){const e={},i=r(n,["instancesFormat"]);i!=null&&u(e,["format"],i);const o=r(n,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const a=r(n,["bigquerySource","inputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function eC(n){const e={},i=r(n,["predictionsFormat"]);i!=null&&u(e,["format"],i);const o=r(n,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const a=r(n,["bigqueryDestination","outputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function rc(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["state"]);a!=null&&u(e,["state"],Lg(a));const f=r(n,["error"]);f!=null&&u(e,["error"],zg(f));const h=r(n,["createTime"]);h!=null&&u(e,["createTime"],h);const m=r(n,["startTime"]);m!=null&&u(e,["startTime"],m);const y=r(n,["endTime"]);y!=null&&u(e,["endTime"],y);const p=r(n,["updateTime"]);p!=null&&u(e,["updateTime"],p);const v=r(n,["model"]);v!=null&&u(e,["model"],v);const S=r(n,["inputConfig"]);S!=null&&u(e,["src"],jS(S));const x=r(n,["outputConfig"]);return x!=null&&u(e,["dest"],eC(x)),e}function tC(n){const e={},i=r(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(n,["batchPredictionJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>rc(f))),u(e,["batchJobs"],a)}return e}function nC(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["done"]);o!=null&&u(e,["done"],o);const a=r(n,["error"]);return a!=null&&u(e,["error"],zg(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ni;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ni||(Ni={}));class Yo{constructor(e,i,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,a)}init(e,i,o){var a,f;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.idxInternal=0;let h={config:{}};o?typeof o=="object"?h=Object.assign({},o):h=o:h={config:{}},h.config&&(h.config.pageToken=i.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(f=(a=h.config)===null||a===void 0?void 0:a.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iC extends bi{constructor(e){super(),this.apiClient=e,this.create=async i=>{if(this.apiClient.isVertexAI()){const a=Date.now().toString();if(Array.isArray(i.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(i.config=i.config||{},i.config.displayName===void 0&&(i.config.displayName="genaiBatchJob_${timestampStr}"),i.config.dest===void 0&&typeof i.src=="string")if(i.src.startsWith("gs://")&&i.src.endsWith(".jsonl"))i.config.dest=`${i.src.slice(0,-6)}/dest`;else if(i.src.startsWith("bq://"))i.config.dest=`${i.src}_dest_${a}`;else throw new Error("Unsupported source:"+i.src)}return await this.createInternal(i)},this.list=async(i={})=>new Yo(Ni.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i)}async createInternal(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=US(this.apiClient,e);return m=le("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>rc(v))}else{const p=ES(this.apiClient,e);return m=le("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>ac(v))}}async get(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=IS(this.apiClient,e);return m=le("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>rc(v))}else{const p=AS(this.apiClient,e);return m=le("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>ac(v))}}async cancel(e){var i,o,a,f;let h="",m={};if(this.apiClient.isVertexAI()){const y=LS(this.apiClient,e);h=le("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=MS(this.apiClient,e);h=le("batches/{name}:cancel",y._url),m=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=qS(e);return m=le("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>{const S=tC(v),x=new Op;return Object.assign(x,S),x})}else{const p=NS(e);return m=le("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const S=XS(v),x=new Op;return Object.assign(x,S),x})}}async delete(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=PS(this.apiClient,e);return m=le("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>nC(v))}else{const p=wS(this.apiClient,e);return m=le("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>WS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lC(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function oC(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(n,["data"]);i!=null&&u(e,["data"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function sC(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function aC(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],lC(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],oC(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],sC(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function Zp(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>aC(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function rC(n){const e={},i=r(n,["behavior"]);i!=null&&u(e,["behavior"],i);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const a=r(n,["name"]);a!=null&&u(e,["name"],a);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const h=r(n,["parametersJsonSchema"]);h!=null&&u(e,["parametersJsonSchema"],h);const m=r(n,["response"]);m!=null&&u(e,["response"],m);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function uC(n){const e={},i=r(n,["startTime"]);i!=null&&u(e,["startTime"],i);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function cC(n){const e={},i=r(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],uC(i)),e}function fC(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function dC(n){const e={},i=r(n,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],fC(i)),e}function hC(){return{}}function mC(n){const e={},i=r(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(p=>rC(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],cC(o));const a=r(n,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],dC(a)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],hC());const h=r(n,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const m=r(n,["computerUse"]);return m!=null&&u(e,["computerUse"],m),e}function pC(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function gC(n){const e={},i=r(n,["latitude"]);i!=null&&u(e,["latitude"],i);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function yC(n){const e={},i=r(n,["latLng"]);i!=null&&u(e,["latLng"],gC(i));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function vC(n){const e={},i=r(n,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],pC(i));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],yC(o)),e}function TC(n,e){const i={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=r(n,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const f=r(n,["displayName"]);e!==void 0&&f!=null&&u(e,["displayName"],f);const h=r(n,["contents"]);if(e!==void 0&&h!=null){let v=Zt(h);Array.isArray(v)&&(v=v.map(S=>Zp(S))),u(e,["contents"],v)}const m=r(n,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["systemInstruction"],Zp(Tt(m)));const y=r(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>mC(S))),u(e,["tools"],v)}const p=r(n,["toolConfig"]);if(e!==void 0&&p!=null&&u(e,["toolConfig"],vC(p)),r(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function SC(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["model"],Eg(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],TC(a,i)),i}function CC(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bn(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function _C(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bn(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function xC(n,e){const i={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=r(n,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),i}function EC(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bn(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],xC(a,i)),i}function AC(n,e){const i={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),i}function MC(n){const e={},i=r(n,["config"]);return i!=null&&u(e,["config"],AC(i,e)),e}function RC(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function NC(n){const e={},i=r(n,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function wC(n){const e={},i=r(n,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function bC(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],RC(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],NC(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],wC(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function Kp(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>bC(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function DC(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=r(n,["description"]);i!=null&&u(e,["description"],i);const o=r(n,["name"]);o!=null&&u(e,["name"],o);const a=r(n,["parameters"]);a!=null&&u(e,["parameters"],a);const f=r(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const m=r(n,["responseJsonSchema"]);return m!=null&&u(e,["responseJsonSchema"],m),e}function kC(n){const e={},i=r(n,["startTime"]);i!=null&&u(e,["startTime"],i);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function UC(n){const e={},i=r(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],kC(i)),e}function IC(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function LC(n){const e={},i=r(n,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],IC(i)),e}function VC(){return{}}function qC(n){const e={},i=r(n,["apiKeyString"]);return i!=null&&u(e,["apiKeyString"],i),e}function PC(n){const e={},i=r(n,["apiKeyConfig"]);i!=null&&u(e,["apiKeyConfig"],qC(i));const o=r(n,["authType"]);o!=null&&u(e,["authType"],o);const a=r(n,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const f=r(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const h=r(n,["oauthConfig"]);h!=null&&u(e,["oauthConfig"],h);const m=r(n,["oidcConfig"]);return m!=null&&u(e,["oidcConfig"],m),e}function zC(n){const e={},i=r(n,["authConfig"]);return i!=null&&u(e,["authConfig"],PC(i)),e}function BC(){return{}}function GC(n){const e={},i=r(n,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(x=>DC(x))),u(e,["functionDeclarations"],S)}const o=r(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=r(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],UC(a));const f=r(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],LC(f)),r(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],VC());const m=r(n,["googleMaps"]);m!=null&&u(e,["googleMaps"],zC(m)),r(n,["urlContext"])!=null&&u(e,["urlContext"],BC());const p=r(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const v=r(n,["computerUse"]);return v!=null&&u(e,["computerUse"],v),e}function HC(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function OC(n){const e={},i=r(n,["latitude"]);i!=null&&u(e,["latitude"],i);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function FC(n){const e={},i=r(n,["latLng"]);i!=null&&u(e,["latLng"],OC(i));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function YC(n){const e={},i=r(n,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],HC(i));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],FC(o)),e}function JC(n,e){const i={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=r(n,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const f=r(n,["displayName"]);e!==void 0&&f!=null&&u(e,["displayName"],f);const h=r(n,["contents"]);if(e!==void 0&&h!=null){let S=Zt(h);Array.isArray(S)&&(S=S.map(x=>Kp(x))),u(e,["contents"],S)}const m=r(n,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["systemInstruction"],Kp(Tt(m)));const y=r(n,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(x=>GC(x))),u(e,["tools"],S)}const p=r(n,["toolConfig"]);e!==void 0&&p!=null&&u(e,["toolConfig"],YC(p));const v=r(n,["kmsKeyName"]);return e!==void 0&&v!=null&&u(e,["encryption_spec","kmsKeyName"],v),i}function $C(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["model"],Eg(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],JC(a,i)),i}function ZC(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bn(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function KC(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bn(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function QC(n,e){const i={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=r(n,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),i}function XC(n,e){const i={},o=r(e,["name"]);o!=null&&u(i,["_url","name"],bn(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],QC(a,i)),i}function WC(n,e){const i={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),i}function jC(n){const e={},i=r(n,["config"]);return i!=null&&u(e,["config"],WC(i,e)),e}function fa(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["model"]);a!=null&&u(e,["model"],a);const f=r(n,["createTime"]);f!=null&&u(e,["createTime"],f);const h=r(n,["updateTime"]);h!=null&&u(e,["updateTime"],h);const m=r(n,["expireTime"]);m!=null&&u(e,["expireTime"],m);const y=r(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function e_(){return{}}function t_(n){const e={},i=r(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(n,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>fa(f))),u(e,["cachedContents"],a)}return e}function da(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["model"]);a!=null&&u(e,["model"],a);const f=r(n,["createTime"]);f!=null&&u(e,["createTime"],f);const h=r(n,["updateTime"]);h!=null&&u(e,["updateTime"],h);const m=r(n,["expireTime"]);m!=null&&u(e,["expireTime"],m);const y=r(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function n_(){return{}}function i_(n){const e={},i=r(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(n,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>da(f))),u(e,["cachedContents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l_ extends bi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Yo(Ni.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=$C(this.apiClient,e);return m=le("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>da(v))}else{const p=SC(this.apiClient,e);return m=le("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>fa(v))}}async get(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=ZC(this.apiClient,e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>da(v))}else{const p=CC(this.apiClient,e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>fa(v))}}async delete(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=KC(this.apiClient,e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(()=>{const v=n_(),S=new Gp;return Object.assign(S,v),S})}else{const p=_C(this.apiClient,e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(()=>{const v=e_(),S=new Gp;return Object.assign(S,v),S})}}async update(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=XC(this.apiClient,e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>da(v))}else{const p=EC(this.apiClient,e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>fa(v))}}async listInternal(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=jC(e);return m=le("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>{const S=i_(v),x=new Hp;return Object.assign(x,S),x})}else{const p=MC(e);return m=le("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const S=t_(v),x=new Hp;return Object.assign(x,S),x})}}}function Qp(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],o=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ze(n){return this instanceof Ze?(this.v=n,this):new Ze(n)}function _l(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,e||[]),a,f=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),a[Symbol.asyncIterator]=function(){return this},a;function h(M){return function(N){return Promise.resolve(N).then(M,S)}}function m(M,N){o[M]&&(a[M]=function(L){return new Promise(function(G,H){f.push([M,L,G,H])>1||y(M,L)})},N&&(a[M]=N(a[M])))}function y(M,N){try{p(o[M](N))}catch(L){x(f[0][3],L)}}function p(M){M.value instanceof Ze?Promise.resolve(M.value.v).then(v,S):x(f[0][2],M)}function v(M){y("next",M)}function S(M){y("throw",M)}function x(M,N){M(N),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Po(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof Qp=="function"?Qp(n):n[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(f){i[f]=n[f]&&function(h){return new Promise(function(m,y){h=n[f](h),a(m,y,h.done,h.value)})}}function a(f,h,m,y){Promise.resolve(y).then(function(p){f({value:p,done:m})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o_(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:Bg(i)}function Bg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function s_(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Xp(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let o=0;for(;o<i;)if(n[o].role==="user")e.push(n[o]),o++;else{const a=[];let f=!0;for(;o<i&&n[o].role==="model";)a.push(n[o]),f&&!Bg(n[o])&&(f=!1),o++;f?e.push(...a):e.pop()}return e}class a_{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new r_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class r_{constructor(e,i,o,a={},f=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=a,this.history=f,this.sendPromise=Promise.resolve(),s_(f)}async sendMessage(e){var i;await this.sendPromise;const o=Tt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var f,h,m;const y=await a,p=(h=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let x=[];v!=null&&(x=(m=v.slice(S))!==null&&m!==void 0?m:[]);const M=p?[p]:[];this.recordHistory(o,M,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const o=Tt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const f=await a;return this.processStreamResponse(f,o)}getHistory(e=!1){const i=e?Xp(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var o,a;return _l(this,arguments,function*(){var h,m,y,p;const v=[];try{for(var S=!0,x=Po(e),M;M=yield Ze(x.next()),h=M.done,!h;S=!0){p=M.value,S=!1;const N=p;if(o_(N)){const L=(a=(o=N.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content;L!==void 0&&v.push(L)}yield yield Ze(N)}}catch(N){m={error:N}}finally{try{!S&&!h&&(y=x.return)&&(yield Ze(y.call(x)))}finally{if(m)throw m.error}}this.recordHistory(i,v)})}recordHistory(e,i,o){let a=[];i.length>0&&i.every(f=>f.role!==void 0)?a=i:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Xp(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ra extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ra.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u_(n,e){const i={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),i}function c_(n){const e={},i=r(n,["config"]);return i!=null&&u(e,["config"],u_(i,e)),e}function f_(n){const e={},i=r(n,["details"]);i!=null&&u(e,["details"],i);const o=r(n,["message"]);o!=null&&u(e,["message"],o);const a=r(n,["code"]);return a!=null&&u(e,["code"],a),e}function d_(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["mimeType"]);a!=null&&u(e,["mimeType"],a);const f=r(n,["sizeBytes"]);f!=null&&u(e,["sizeBytes"],f);const h=r(n,["createTime"]);h!=null&&u(e,["createTime"],h);const m=r(n,["expirationTime"]);m!=null&&u(e,["expirationTime"],m);const y=r(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const p=r(n,["sha256Hash"]);p!=null&&u(e,["sha256Hash"],p);const v=r(n,["uri"]);v!=null&&u(e,["uri"],v);const S=r(n,["downloadUri"]);S!=null&&u(e,["downloadUri"],S);const x=r(n,["state"]);x!=null&&u(e,["state"],x);const M=r(n,["source"]);M!=null&&u(e,["source"],M);const N=r(n,["videoMetadata"]);N!=null&&u(e,["videoMetadata"],N);const L=r(n,["error"]);return L!=null&&u(e,["error"],f_(L)),e}function h_(n){const e={},i=r(n,["file"]);i!=null&&u(e,["file"],d_(i));const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function m_(n){const e={},i=r(n,["name"]);i!=null&&u(e,["_url","file"],Dg(i));const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function p_(n){const e={},i=r(n,["name"]);i!=null&&u(e,["_url","file"],Dg(i));const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function g_(n){const e={},i=r(n,["details"]);i!=null&&u(e,["details"],i);const o=r(n,["message"]);o!=null&&u(e,["message"],o);const a=r(n,["code"]);return a!=null&&u(e,["code"],a),e}function uc(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["mimeType"]);a!=null&&u(e,["mimeType"],a);const f=r(n,["sizeBytes"]);f!=null&&u(e,["sizeBytes"],f);const h=r(n,["createTime"]);h!=null&&u(e,["createTime"],h);const m=r(n,["expirationTime"]);m!=null&&u(e,["expirationTime"],m);const y=r(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const p=r(n,["sha256Hash"]);p!=null&&u(e,["sha256Hash"],p);const v=r(n,["uri"]);v!=null&&u(e,["uri"],v);const S=r(n,["downloadUri"]);S!=null&&u(e,["downloadUri"],S);const x=r(n,["state"]);x!=null&&u(e,["state"],x);const M=r(n,["source"]);M!=null&&u(e,["source"],M);const N=r(n,["videoMetadata"]);N!=null&&u(e,["videoMetadata"],N);const L=r(n,["error"]);return L!=null&&u(e,["error"],g_(L)),e}function y_(n){const e={},i=r(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(n,["files"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>uc(f))),u(e,["files"],a)}return e}function v_(){return{}}function T_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S_ extends bi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Yo(Ni.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>uc(i))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,o;let a,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=c_(e);return f=le("files",m._url),h=m._query,delete m.config,delete m._url,delete m._query,a=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const p=y_(y),v=new U0;return Object.assign(v,p),v})}}async createInternal(e){var i,o;let a,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=h_(e);return f=le("upload/v1beta/files",m._url),h=m._query,delete m.config,delete m._url,delete m._query,a=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(()=>{const y=v_(),p=new I0;return Object.assign(p,y),p})}}async get(e){var i,o;let a,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=m_(e);return f=le("files/{file}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,a=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>uc(y))}}async delete(e){var i,o;let a,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=p_(e);return f=le("files/{file}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,a=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(()=>{const y=T_(),p=new L0;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C_(n){const e={},i=r(n,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function __(n){const e={},i=r(n,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function Gg(n){const e={},i=r(n,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],C_(i)),e}function x_(n){const e={},i=r(n,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],__(i)),e}function E_(n){const e={},i=r(n,["speaker"]);i!=null&&u(e,["speaker"],i);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Gg(o)),e}function A_(n){const e={},i=r(n,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>E_(a))),u(e,["speakerVoiceConfigs"],o)}return e}function M_(n){const e={},i=r(n,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],Gg(i));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],A_(o));const a=r(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function R_(n){const e={},i=r(n,["voiceConfig"]);if(i!=null&&u(e,["voiceConfig"],x_(i)),r(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function N_(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function w_(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function b_(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(n,["data"]);i!=null&&u(e,["data"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function D_(n){const e={},i=r(n,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function k_(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function U_(n){const e={},i=r(n,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function I_(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],N_(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],b_(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],k_(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function L_(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],w_(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],D_(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],U_(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function V_(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>I_(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function q_(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>L_(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function P_(n){const e={},i=r(n,["behavior"]);i!=null&&u(e,["behavior"],i);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const a=r(n,["name"]);a!=null&&u(e,["name"],a);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const h=r(n,["parametersJsonSchema"]);h!=null&&u(e,["parametersJsonSchema"],h);const m=r(n,["response"]);m!=null&&u(e,["response"],m);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function z_(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=r(n,["description"]);i!=null&&u(e,["description"],i);const o=r(n,["name"]);o!=null&&u(e,["name"],o);const a=r(n,["parameters"]);a!=null&&u(e,["parameters"],a);const f=r(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const m=r(n,["responseJsonSchema"]);return m!=null&&u(e,["responseJsonSchema"],m),e}function B_(n){const e={},i=r(n,["startTime"]);i!=null&&u(e,["startTime"],i);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function G_(n){const e={},i=r(n,["startTime"]);i!=null&&u(e,["startTime"],i);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function H_(n){const e={},i=r(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],B_(i)),e}function O_(n){const e={},i=r(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],G_(i)),e}function F_(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function Y_(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function J_(n){const e={},i=r(n,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],F_(i)),e}function $_(n){const e={},i=r(n,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],Y_(i)),e}function Z_(){return{}}function K_(n){const e={},i=r(n,["apiKeyString"]);return i!=null&&u(e,["apiKeyString"],i),e}function Q_(n){const e={},i=r(n,["apiKeyConfig"]);i!=null&&u(e,["apiKeyConfig"],K_(i));const o=r(n,["authType"]);o!=null&&u(e,["authType"],o);const a=r(n,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const f=r(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const h=r(n,["oauthConfig"]);h!=null&&u(e,["oauthConfig"],h);const m=r(n,["oidcConfig"]);return m!=null&&u(e,["oidcConfig"],m),e}function X_(n){const e={},i=r(n,["authConfig"]);return i!=null&&u(e,["authConfig"],Q_(i)),e}function W_(){return{}}function j_(){return{}}function ex(n){const e={},i=r(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(p=>P_(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],H_(o));const a=r(n,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],J_(a)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],W_());const h=r(n,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const m=r(n,["computerUse"]);return m!=null&&u(e,["computerUse"],m),e}function tx(n){const e={},i=r(n,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(x=>z_(x))),u(e,["functionDeclarations"],S)}const o=r(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=r(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],O_(a));const f=r(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],$_(f)),r(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],Z_());const m=r(n,["googleMaps"]);m!=null&&u(e,["googleMaps"],X_(m)),r(n,["urlContext"])!=null&&u(e,["urlContext"],j_());const p=r(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const v=r(n,["computerUse"]);return v!=null&&u(e,["computerUse"],v),e}function nx(n){const e={},i=r(n,["handle"]);if(i!=null&&u(e,["handle"],i),r(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ix(n){const e={},i=r(n,["handle"]);i!=null&&u(e,["handle"],i);const o=r(n,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function Wp(){return{}}function jp(){return{}}function lx(n){const e={},i=r(n,["disabled"]);i!=null&&u(e,["disabled"],i);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=r(n,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const f=r(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const h=r(n,["silenceDurationMs"]);return h!=null&&u(e,["silenceDurationMs"],h),e}function ox(n){const e={},i=r(n,["disabled"]);i!=null&&u(e,["disabled"],i);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=r(n,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const f=r(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const h=r(n,["silenceDurationMs"]);return h!=null&&u(e,["silenceDurationMs"],h),e}function sx(n){const e={},i=r(n,["automaticActivityDetection"]);i!=null&&u(e,["automaticActivityDetection"],lx(i));const o=r(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=r(n,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function ax(n){const e={},i=r(n,["automaticActivityDetection"]);i!=null&&u(e,["automaticActivityDetection"],ox(i));const o=r(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=r(n,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function rx(n){const e={},i=r(n,["targetTokens"]);return i!=null&&u(e,["targetTokens"],i),e}function ux(n){const e={},i=r(n,["targetTokens"]);return i!=null&&u(e,["targetTokens"],i),e}function cx(n){const e={},i=r(n,["triggerTokens"]);i!=null&&u(e,["triggerTokens"],i);const o=r(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],rx(o)),e}function fx(n){const e={},i=r(n,["triggerTokens"]);i!=null&&u(e,["triggerTokens"],i);const o=r(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],ux(o)),e}function dx(n){const e={},i=r(n,["proactiveAudio"]);return i!=null&&u(e,["proactiveAudio"],i),e}function hx(n){const e={},i=r(n,["proactiveAudio"]);return i!=null&&u(e,["proactiveAudio"],i),e}function mx(n,e){const i={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=r(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const f=r(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const h=r(n,["topP"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topP"],h);const m=r(n,["topK"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topK"],m);const y=r(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const p=r(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const v=r(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const S=r(n,["speechConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","speechConfig"],M_(Sc(S)));const x=r(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],x);const M=r(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],V_(Tt(M)));const N=r(n,["tools"]);if(e!==void 0&&N!=null){let I=wl(N);Array.isArray(I)&&(I=I.map(oe=>ex(Nl(oe)))),u(e,["setup","tools"],I)}const L=r(n,["sessionResumption"]);e!==void 0&&L!=null&&u(e,["setup","sessionResumption"],nx(L));const G=r(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],Wp());const H=r(n,["outputAudioTranscription"]);e!==void 0&&H!=null&&u(e,["setup","outputAudioTranscription"],Wp());const O=r(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&u(e,["setup","realtimeInputConfig"],sx(O));const Y=r(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&u(e,["setup","contextWindowCompression"],cx(Y));const W=r(n,["proactivity"]);return e!==void 0&&W!=null&&u(e,["setup","proactivity"],dx(W)),i}function px(n,e){const i={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=r(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const f=r(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const h=r(n,["topP"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topP"],h);const m=r(n,["topK"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topK"],m);const y=r(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const p=r(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const v=r(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const S=r(n,["speechConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","speechConfig"],R_(Sc(S)));const x=r(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],x);const M=r(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],q_(Tt(M)));const N=r(n,["tools"]);if(e!==void 0&&N!=null){let I=wl(N);Array.isArray(I)&&(I=I.map(oe=>tx(Nl(oe)))),u(e,["setup","tools"],I)}const L=r(n,["sessionResumption"]);e!==void 0&&L!=null&&u(e,["setup","sessionResumption"],ix(L));const G=r(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],jp());const H=r(n,["outputAudioTranscription"]);e!==void 0&&H!=null&&u(e,["setup","outputAudioTranscription"],jp());const O=r(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&u(e,["setup","realtimeInputConfig"],ax(O));const Y=r(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&u(e,["setup","contextWindowCompression"],fx(Y));const W=r(n,["proactivity"]);return e!==void 0&&W!=null&&u(e,["setup","proactivity"],hx(W)),i}function gx(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["setup","model"],Pe(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],mx(a,i)),i}function yx(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["setup","model"],Pe(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],px(a,i)),i}function vx(){return{}}function Tx(){return{}}function Sx(){return{}}function Cx(){return{}}function _x(n){const e={},i=r(n,["media"]);i!=null&&u(e,["mediaChunks"],Ag(i));const o=r(n,["audio"]);o!=null&&u(e,["audio"],Rg(o));const a=r(n,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const f=r(n,["video"]);f!=null&&u(e,["video"],Mg(f));const h=r(n,["text"]);return h!=null&&u(e,["text"],h),r(n,["activityStart"])!=null&&u(e,["activityStart"],vx()),r(n,["activityEnd"])!=null&&u(e,["activityEnd"],Sx()),e}function xx(n){const e={},i=r(n,["media"]);i!=null&&u(e,["mediaChunks"],Ag(i));const o=r(n,["audio"]);o!=null&&u(e,["audio"],Rg(o));const a=r(n,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const f=r(n,["video"]);f!=null&&u(e,["video"],Mg(f));const h=r(n,["text"]);return h!=null&&u(e,["text"],h),r(n,["activityStart"])!=null&&u(e,["activityStart"],Tx()),r(n,["activityEnd"])!=null&&u(e,["activityEnd"],Cx()),e}function Hg(n){const e={},i=r(n,["text"]);i!=null&&u(e,["text"],i);const o=r(n,["weight"]);return o!=null&&u(e,["weight"],o),e}function Ex(n){const e={},i=r(n,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Hg(a))),u(e,["weightedPrompts"],o)}return e}function Og(n){const e={},i=r(n,["temperature"]);i!=null&&u(e,["temperature"],i);const o=r(n,["topK"]);o!=null&&u(e,["topK"],o);const a=r(n,["seed"]);a!=null&&u(e,["seed"],a);const f=r(n,["guidance"]);f!=null&&u(e,["guidance"],f);const h=r(n,["bpm"]);h!=null&&u(e,["bpm"],h);const m=r(n,["density"]);m!=null&&u(e,["density"],m);const y=r(n,["brightness"]);y!=null&&u(e,["brightness"],y);const p=r(n,["scale"]);p!=null&&u(e,["scale"],p);const v=r(n,["muteBass"]);v!=null&&u(e,["muteBass"],v);const S=r(n,["muteDrums"]);S!=null&&u(e,["muteDrums"],S);const x=r(n,["onlyBassAndDrums"]);return x!=null&&u(e,["onlyBassAndDrums"],x),e}function Ax(n){const e={},i=r(n,["musicGenerationConfig"]);return i!=null&&u(e,["musicGenerationConfig"],Og(i)),e}function Fg(n){const e={},i=r(n,["model"]);return i!=null&&u(e,["model"],i),e}function Yg(n){const e={},i=r(n,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Hg(a))),u(e,["weightedPrompts"],o)}return e}function cc(n){const e={},i=r(n,["setup"]);i!=null&&u(e,["setup"],Fg(i));const o=r(n,["clientContent"]);o!=null&&u(e,["clientContent"],Yg(o));const a=r(n,["musicGenerationConfig"]);a!=null&&u(e,["musicGenerationConfig"],Og(a));const f=r(n,["playbackControl"]);return f!=null&&u(e,["playbackControl"],f),e}function Mx(){return{}}function Rx(n){const e={},i=r(n,["sessionId"]);return i!=null&&u(e,["sessionId"],i),e}function Nx(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function wx(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function bx(n){const e={},i=r(n,["data"]);i!=null&&u(e,["data"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Dx(n){const e={},i=r(n,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function kx(n){const e={},i=r(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Ux(n){const e={},i=r(n,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function Ix(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],Nx(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],bx(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],kx(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function Lx(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],wx(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],Dx(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],Ux(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function Vx(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>Ix(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function qx(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>Lx(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function eg(n){const e={},i=r(n,["text"]);i!=null&&u(e,["text"],i);const o=r(n,["finished"]);return o!=null&&u(e,["finished"],o),e}function tg(n){const e={},i=r(n,["text"]);i!=null&&u(e,["text"],i);const o=r(n,["finished"]);return o!=null&&u(e,["finished"],o),e}function Px(n){const e={},i=r(n,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function zx(n){const e={},i=r(n,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Px(a))),u(e,["urlMetadata"],o)}return e}function Bx(n){const e={},i=r(n,["modelTurn"]);i!=null&&u(e,["modelTurn"],Vx(i));const o=r(n,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const a=r(n,["interrupted"]);a!=null&&u(e,["interrupted"],a);const f=r(n,["groundingMetadata"]);f!=null&&u(e,["groundingMetadata"],f);const h=r(n,["generationComplete"]);h!=null&&u(e,["generationComplete"],h);const m=r(n,["inputTranscription"]);m!=null&&u(e,["inputTranscription"],eg(m));const y=r(n,["outputTranscription"]);y!=null&&u(e,["outputTranscription"],eg(y));const p=r(n,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],zx(p)),e}function Gx(n){const e={},i=r(n,["modelTurn"]);i!=null&&u(e,["modelTurn"],qx(i));const o=r(n,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const a=r(n,["interrupted"]);a!=null&&u(e,["interrupted"],a);const f=r(n,["groundingMetadata"]);f!=null&&u(e,["groundingMetadata"],f);const h=r(n,["generationComplete"]);h!=null&&u(e,["generationComplete"],h);const m=r(n,["inputTranscription"]);m!=null&&u(e,["inputTranscription"],tg(m));const y=r(n,["outputTranscription"]);return y!=null&&u(e,["outputTranscription"],tg(y)),e}function Hx(n){const e={},i=r(n,["id"]);i!=null&&u(e,["id"],i);const o=r(n,["args"]);o!=null&&u(e,["args"],o);const a=r(n,["name"]);return a!=null&&u(e,["name"],a),e}function Ox(n){const e={},i=r(n,["args"]);i!=null&&u(e,["args"],i);const o=r(n,["name"]);return o!=null&&u(e,["name"],o),e}function Fx(n){const e={},i=r(n,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Hx(a))),u(e,["functionCalls"],o)}return e}function Yx(n){const e={},i=r(n,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ox(a))),u(e,["functionCalls"],o)}return e}function Jx(n){const e={},i=r(n,["ids"]);return i!=null&&u(e,["ids"],i),e}function $x(n){const e={},i=r(n,["ids"]);return i!=null&&u(e,["ids"],i),e}function ra(n){const e={},i=r(n,["modality"]);i!=null&&u(e,["modality"],i);const o=r(n,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function ua(n){const e={},i=r(n,["modality"]);i!=null&&u(e,["modality"],i);const o=r(n,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function Zx(n){const e={},i=r(n,["promptTokenCount"]);i!=null&&u(e,["promptTokenCount"],i);const o=r(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const a=r(n,["responseTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const f=r(n,["toolUsePromptTokenCount"]);f!=null&&u(e,["toolUsePromptTokenCount"],f);const h=r(n,["thoughtsTokenCount"]);h!=null&&u(e,["thoughtsTokenCount"],h);const m=r(n,["totalTokenCount"]);m!=null&&u(e,["totalTokenCount"],m);const y=r(n,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(M=>ra(M))),u(e,["promptTokensDetails"],x)}const p=r(n,["cacheTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(M=>ra(M))),u(e,["cacheTokensDetails"],x)}const v=r(n,["responseTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(M=>ra(M))),u(e,["responseTokensDetails"],x)}const S=r(n,["toolUsePromptTokensDetails"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(M=>ra(M))),u(e,["toolUsePromptTokensDetails"],x)}return e}function Kx(n){const e={},i=r(n,["promptTokenCount"]);i!=null&&u(e,["promptTokenCount"],i);const o=r(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const a=r(n,["candidatesTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const f=r(n,["toolUsePromptTokenCount"]);f!=null&&u(e,["toolUsePromptTokenCount"],f);const h=r(n,["thoughtsTokenCount"]);h!=null&&u(e,["thoughtsTokenCount"],h);const m=r(n,["totalTokenCount"]);m!=null&&u(e,["totalTokenCount"],m);const y=r(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(N=>ua(N))),u(e,["promptTokensDetails"],M)}const p=r(n,["cacheTokensDetails"]);if(p!=null){let M=p;Array.isArray(M)&&(M=M.map(N=>ua(N))),u(e,["cacheTokensDetails"],M)}const v=r(n,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(N=>ua(N))),u(e,["responseTokensDetails"],M)}const S=r(n,["toolUsePromptTokensDetails"]);if(S!=null){let M=S;Array.isArray(M)&&(M=M.map(N=>ua(N))),u(e,["toolUsePromptTokensDetails"],M)}const x=r(n,["trafficType"]);return x!=null&&u(e,["trafficType"],x),e}function Qx(n){const e={},i=r(n,["timeLeft"]);return i!=null&&u(e,["timeLeft"],i),e}function Xx(n){const e={},i=r(n,["timeLeft"]);return i!=null&&u(e,["timeLeft"],i),e}function Wx(n){const e={},i=r(n,["newHandle"]);i!=null&&u(e,["newHandle"],i);const o=r(n,["resumable"]);o!=null&&u(e,["resumable"],o);const a=r(n,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function jx(n){const e={},i=r(n,["newHandle"]);i!=null&&u(e,["newHandle"],i);const o=r(n,["resumable"]);o!=null&&u(e,["resumable"],o);const a=r(n,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function eE(n){const e={};r(n,["setupComplete"])!=null&&u(e,["setupComplete"],Mx());const o=r(n,["serverContent"]);o!=null&&u(e,["serverContent"],Bx(o));const a=r(n,["toolCall"]);a!=null&&u(e,["toolCall"],Fx(a));const f=r(n,["toolCallCancellation"]);f!=null&&u(e,["toolCallCancellation"],Jx(f));const h=r(n,["usageMetadata"]);h!=null&&u(e,["usageMetadata"],Zx(h));const m=r(n,["goAway"]);m!=null&&u(e,["goAway"],Qx(m));const y=r(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],Wx(y)),e}function tE(n){const e={},i=r(n,["setupComplete"]);i!=null&&u(e,["setupComplete"],Rx(i));const o=r(n,["serverContent"]);o!=null&&u(e,["serverContent"],Gx(o));const a=r(n,["toolCall"]);a!=null&&u(e,["toolCall"],Yx(a));const f=r(n,["toolCallCancellation"]);f!=null&&u(e,["toolCallCancellation"],$x(f));const h=r(n,["usageMetadata"]);h!=null&&u(e,["usageMetadata"],Kx(h));const m=r(n,["goAway"]);m!=null&&u(e,["goAway"],Xx(m));const y=r(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],jx(y)),e}function nE(){return{}}function iE(n){const e={},i=r(n,["text"]);i!=null&&u(e,["text"],i);const o=r(n,["weight"]);return o!=null&&u(e,["weight"],o),e}function lE(n){const e={},i=r(n,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>iE(a))),u(e,["weightedPrompts"],o)}return e}function oE(n){const e={},i=r(n,["temperature"]);i!=null&&u(e,["temperature"],i);const o=r(n,["topK"]);o!=null&&u(e,["topK"],o);const a=r(n,["seed"]);a!=null&&u(e,["seed"],a);const f=r(n,["guidance"]);f!=null&&u(e,["guidance"],f);const h=r(n,["bpm"]);h!=null&&u(e,["bpm"],h);const m=r(n,["density"]);m!=null&&u(e,["density"],m);const y=r(n,["brightness"]);y!=null&&u(e,["brightness"],y);const p=r(n,["scale"]);p!=null&&u(e,["scale"],p);const v=r(n,["muteBass"]);v!=null&&u(e,["muteBass"],v);const S=r(n,["muteDrums"]);S!=null&&u(e,["muteDrums"],S);const x=r(n,["onlyBassAndDrums"]);return x!=null&&u(e,["onlyBassAndDrums"],x),e}function sE(n){const e={},i=r(n,["clientContent"]);i!=null&&u(e,["clientContent"],lE(i));const o=r(n,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],oE(o)),e}function aE(n){const e={},i=r(n,["data"]);i!=null&&u(e,["data"],i);const o=r(n,["mimeType"]);o!=null&&u(e,["mimeType"],o);const a=r(n,["sourceMetadata"]);return a!=null&&u(e,["sourceMetadata"],sE(a)),e}function rE(n){const e={},i=r(n,["audioChunks"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>aE(a))),u(e,["audioChunks"],o)}return e}function uE(n){const e={},i=r(n,["text"]);i!=null&&u(e,["text"],i);const o=r(n,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function cE(n){const e={};r(n,["setupComplete"])!=null&&u(e,["setupComplete"],nE());const o=r(n,["serverContent"]);o!=null&&u(e,["serverContent"],rE(o));const a=r(n,["filteredPrompt"]);return a!=null&&u(e,["filteredPrompt"],uE(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fE(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function dE(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(n,["data"]);i!=null&&u(e,["data"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function hE(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function mE(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],fE(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],dE(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],hE(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function Na(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>mE(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function pE(n){const e={},i=r(n,["anyOf"]);i!=null&&u(e,["anyOf"],i);const o=r(n,["default"]);o!=null&&u(e,["default"],o);const a=r(n,["description"]);a!=null&&u(e,["description"],a);const f=r(n,["enum"]);f!=null&&u(e,["enum"],f);const h=r(n,["example"]);h!=null&&u(e,["example"],h);const m=r(n,["format"]);m!=null&&u(e,["format"],m);const y=r(n,["items"]);y!=null&&u(e,["items"],y);const p=r(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const v=r(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const S=r(n,["maxProperties"]);S!=null&&u(e,["maxProperties"],S);const x=r(n,["maximum"]);x!=null&&u(e,["maximum"],x);const M=r(n,["minItems"]);M!=null&&u(e,["minItems"],M);const N=r(n,["minLength"]);N!=null&&u(e,["minLength"],N);const L=r(n,["minProperties"]);L!=null&&u(e,["minProperties"],L);const G=r(n,["minimum"]);G!=null&&u(e,["minimum"],G);const H=r(n,["nullable"]);H!=null&&u(e,["nullable"],H);const O=r(n,["pattern"]);O!=null&&u(e,["pattern"],O);const Y=r(n,["properties"]);Y!=null&&u(e,["properties"],Y);const W=r(n,["propertyOrdering"]);W!=null&&u(e,["propertyOrdering"],W);const I=r(n,["required"]);I!=null&&u(e,["required"],I);const oe=r(n,["title"]);oe!=null&&u(e,["title"],oe);const $=r(n,["type"]);return $!=null&&u(e,["type"],$),e}function gE(n){const e={};if(r(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=r(n,["category"]);i!=null&&u(e,["category"],i);const o=r(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function yE(n){const e={},i=r(n,["behavior"]);i!=null&&u(e,["behavior"],i);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const a=r(n,["name"]);a!=null&&u(e,["name"],a);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const h=r(n,["parametersJsonSchema"]);h!=null&&u(e,["parametersJsonSchema"],h);const m=r(n,["response"]);m!=null&&u(e,["response"],m);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function vE(n){const e={},i=r(n,["startTime"]);i!=null&&u(e,["startTime"],i);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function TE(n){const e={},i=r(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],vE(i)),e}function SE(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function CE(n){const e={},i=r(n,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],SE(i)),e}function _E(){return{}}function xE(n){const e={},i=r(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(p=>yE(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],TE(o));const a=r(n,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],CE(a)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],_E());const h=r(n,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const m=r(n,["computerUse"]);return m!=null&&u(e,["computerUse"],m),e}function EE(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function AE(n){const e={},i=r(n,["latitude"]);i!=null&&u(e,["latitude"],i);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function ME(n){const e={},i=r(n,["latLng"]);i!=null&&u(e,["latLng"],AE(i));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function RE(n){const e={},i=r(n,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],EE(i));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],ME(o)),e}function NE(n){const e={},i=r(n,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function Jg(n){const e={},i=r(n,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],NE(i)),e}function wE(n){const e={},i=r(n,["speaker"]);i!=null&&u(e,["speaker"],i);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Jg(o)),e}function bE(n){const e={},i=r(n,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>wE(a))),u(e,["speakerVoiceConfigs"],o)}return e}function DE(n){const e={},i=r(n,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],Jg(i));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],bE(o));const a=r(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function kE(n){const e={},i=r(n,["includeThoughts"]);i!=null&&u(e,["includeThoughts"],i);const o=r(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function UE(n,e,i){const o={},a=r(e,["systemInstruction"]);i!==void 0&&a!=null&&u(i,["systemInstruction"],Na(Tt(a)));const f=r(e,["temperature"]);f!=null&&u(o,["temperature"],f);const h=r(e,["topP"]);h!=null&&u(o,["topP"],h);const m=r(e,["topK"]);m!=null&&u(o,["topK"],m);const y=r(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const p=r(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const v=r(e,["stopSequences"]);v!=null&&u(o,["stopSequences"],v);const S=r(e,["responseLogprobs"]);S!=null&&u(o,["responseLogprobs"],S);const x=r(e,["logprobs"]);x!=null&&u(o,["logprobs"],x);const M=r(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const N=r(e,["frequencyPenalty"]);N!=null&&u(o,["frequencyPenalty"],N);const L=r(e,["seed"]);L!=null&&u(o,["seed"],L);const G=r(e,["responseMimeType"]);G!=null&&u(o,["responseMimeType"],G);const H=r(e,["responseSchema"]);H!=null&&u(o,["responseSchema"],pE(Fo(H)));const O=r(e,["responseJsonSchema"]);if(O!=null&&u(o,["responseJsonSchema"],O),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=r(e,["safetySettings"]);if(i!==void 0&&Y!=null){let he=Y;Array.isArray(he)&&(he=he.map(Te=>gE(Te))),u(i,["safetySettings"],he)}const W=r(e,["tools"]);if(i!==void 0&&W!=null){let he=wl(W);Array.isArray(he)&&(he=he.map(Te=>xE(Nl(Te)))),u(i,["tools"],he)}const I=r(e,["toolConfig"]);if(i!==void 0&&I!=null&&u(i,["toolConfig"],RE(I)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=r(e,["cachedContent"]);i!==void 0&&oe!=null&&u(i,["cachedContent"],bn(n,oe));const $=r(e,["responseModalities"]);$!=null&&u(o,["responseModalities"],$);const se=r(e,["mediaResolution"]);se!=null&&u(o,["mediaResolution"],se);const X=r(e,["speechConfig"]);if(X!=null&&u(o,["speechConfig"],DE(Tc(X))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=r(e,["thinkingConfig"]);return ye!=null&&u(o,["thinkingConfig"],kE(ye)),o}function ng(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["contents"]);if(a!=null){let h=Zt(a);Array.isArray(h)&&(h=h.map(m=>Na(m))),u(i,["contents"],h)}const f=r(e,["config"]);return f!=null&&u(i,["generationConfig"],UE(n,f,i)),i}function IE(n,e){const i={},o=r(n,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const a=r(n,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const f=r(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&u(e,["requests[]","outputDimensionality"],f),r(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function LE(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["contents"]);a!=null&&u(i,["requests[]","content"],wg(n,a));const f=r(e,["config"]);f!=null&&u(i,["config"],IE(f,i));const h=r(e,["model"]);return h!==void 0&&u(i,["requests[]","model"],Pe(n,h)),i}function VE(n,e){const i={};if(r(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=r(n,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=r(n,["aspectRatio"]);e!==void 0&&a!=null&&u(e,["parameters","aspectRatio"],a);const f=r(n,["guidanceScale"]);if(e!==void 0&&f!=null&&u(e,["parameters","guidanceScale"],f),r(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=r(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const m=r(n,["personGeneration"]);e!==void 0&&m!=null&&u(e,["parameters","personGeneration"],m);const y=r(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&u(e,["parameters","includeSafetyAttributes"],y);const p=r(n,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const v=r(n,["language"]);e!==void 0&&v!=null&&u(e,["parameters","language"],v);const S=r(n,["outputMimeType"]);e!==void 0&&S!=null&&u(e,["parameters","outputOptions","mimeType"],S);const x=r(n,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&u(e,["parameters","outputOptions","compressionQuality"],x),r(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function qE(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const f=r(e,["config"]);return f!=null&&u(i,["config"],VE(f,i)),i}function PE(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","name"],Pe(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function zE(n,e,i){const o={},a=r(e,["pageSize"]);i!==void 0&&a!=null&&u(i,["_query","pageSize"],a);const f=r(e,["pageToken"]);i!==void 0&&f!=null&&u(i,["_query","pageToken"],f);const h=r(e,["filter"]);i!==void 0&&h!=null&&u(i,["_query","filter"],h);const m=r(e,["queryBase"]);return i!==void 0&&m!=null&&u(i,["_url","models_url"],kg(n,m)),o}function BE(n,e){const i={},o=r(e,["config"]);return o!=null&&u(i,["config"],zE(n,o,i)),i}function GE(n,e){const i={},o=r(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=r(n,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const f=r(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&u(e,["defaultCheckpointId"],f),i}function HE(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","name"],Pe(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],GE(a,i)),i}function OE(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","name"],Pe(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function FE(n){const e={};if(r(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function YE(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["contents"]);if(a!=null){let h=Zt(a);Array.isArray(h)&&(h=h.map(m=>Na(m))),u(i,["contents"],h)}const f=r(e,["config"]);return f!=null&&u(i,["config"],FE(f)),i}function JE(n){const e={};if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=r(n,["imageBytes"]);i!=null&&u(e,["bytesBase64Encoded"],Dn(i));const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function $E(n,e){const i={},o=r(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),r(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=r(n,["durationSeconds"]);if(e!==void 0&&a!=null&&u(e,["parameters","durationSeconds"],a),r(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=r(n,["aspectRatio"]);if(e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f),r(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=r(n,["personGeneration"]);if(e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h),r(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=r(n,["negativePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","negativePrompt"],m);const y=r(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&u(e,["parameters","enhancePrompt"],y),r(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(r(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(r(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function ZE(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const f=r(e,["image"]);if(f!=null&&u(i,["instances[0]","image"],JE(f)),r(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const h=r(e,["config"]);return h!=null&&u(i,["config"],$E(h,i)),i}function KE(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function QE(n){const e={},i=r(n,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function XE(n){const e={},i=r(n,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function WE(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],KE(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],QE(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],XE(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function Dl(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>WE(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function jE(n){const e={},i=r(n,["anyOf"]);i!=null&&u(e,["anyOf"],i);const o=r(n,["default"]);o!=null&&u(e,["default"],o);const a=r(n,["description"]);a!=null&&u(e,["description"],a);const f=r(n,["enum"]);f!=null&&u(e,["enum"],f);const h=r(n,["example"]);h!=null&&u(e,["example"],h);const m=r(n,["format"]);m!=null&&u(e,["format"],m);const y=r(n,["items"]);y!=null&&u(e,["items"],y);const p=r(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const v=r(n,["maxLength"]);v!=null&&u(e,["maxLength"],v);const S=r(n,["maxProperties"]);S!=null&&u(e,["maxProperties"],S);const x=r(n,["maximum"]);x!=null&&u(e,["maximum"],x);const M=r(n,["minItems"]);M!=null&&u(e,["minItems"],M);const N=r(n,["minLength"]);N!=null&&u(e,["minLength"],N);const L=r(n,["minProperties"]);L!=null&&u(e,["minProperties"],L);const G=r(n,["minimum"]);G!=null&&u(e,["minimum"],G);const H=r(n,["nullable"]);H!=null&&u(e,["nullable"],H);const O=r(n,["pattern"]);O!=null&&u(e,["pattern"],O);const Y=r(n,["properties"]);Y!=null&&u(e,["properties"],Y);const W=r(n,["propertyOrdering"]);W!=null&&u(e,["propertyOrdering"],W);const I=r(n,["required"]);I!=null&&u(e,["required"],I);const oe=r(n,["title"]);oe!=null&&u(e,["title"],oe);const $=r(n,["type"]);return $!=null&&u(e,["type"],$),e}function eA(n){const e={},i=r(n,["featureSelectionPreference"]);return i!=null&&u(e,["featureSelectionPreference"],i),e}function tA(n){const e={},i=r(n,["method"]);i!=null&&u(e,["method"],i);const o=r(n,["category"]);o!=null&&u(e,["category"],o);const a=r(n,["threshold"]);return a!=null&&u(e,["threshold"],a),e}function nA(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=r(n,["description"]);i!=null&&u(e,["description"],i);const o=r(n,["name"]);o!=null&&u(e,["name"],o);const a=r(n,["parameters"]);a!=null&&u(e,["parameters"],a);const f=r(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const m=r(n,["responseJsonSchema"]);return m!=null&&u(e,["responseJsonSchema"],m),e}function iA(n){const e={},i=r(n,["startTime"]);i!=null&&u(e,["startTime"],i);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function lA(n){const e={},i=r(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],iA(i)),e}function oA(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function sA(n){const e={},i=r(n,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],oA(i)),e}function aA(){return{}}function rA(n){const e={},i=r(n,["apiKeyString"]);return i!=null&&u(e,["apiKeyString"],i),e}function uA(n){const e={},i=r(n,["apiKeyConfig"]);i!=null&&u(e,["apiKeyConfig"],rA(i));const o=r(n,["authType"]);o!=null&&u(e,["authType"],o);const a=r(n,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const f=r(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const h=r(n,["oauthConfig"]);h!=null&&u(e,["oauthConfig"],h);const m=r(n,["oidcConfig"]);return m!=null&&u(e,["oidcConfig"],m),e}function cA(n){const e={},i=r(n,["authConfig"]);return i!=null&&u(e,["authConfig"],uA(i)),e}function fA(){return{}}function $g(n){const e={},i=r(n,["functionDeclarations"]);if(i!=null){let S=i;Array.isArray(S)&&(S=S.map(x=>nA(x))),u(e,["functionDeclarations"],S)}const o=r(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=r(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],lA(a));const f=r(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],sA(f)),r(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],aA());const m=r(n,["googleMaps"]);m!=null&&u(e,["googleMaps"],cA(m)),r(n,["urlContext"])!=null&&u(e,["urlContext"],fA());const p=r(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const v=r(n,["computerUse"]);return v!=null&&u(e,["computerUse"],v),e}function dA(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function hA(n){const e={},i=r(n,["latitude"]);i!=null&&u(e,["latitude"],i);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function mA(n){const e={},i=r(n,["latLng"]);i!=null&&u(e,["latLng"],hA(i));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function pA(n){const e={},i=r(n,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],dA(i));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],mA(o)),e}function gA(n){const e={},i=r(n,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function yA(n){const e={},i=r(n,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],gA(i)),e}function vA(n){const e={},i=r(n,["voiceConfig"]);if(i!=null&&u(e,["voiceConfig"],yA(i)),r(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function TA(n){const e={},i=r(n,["includeThoughts"]);i!=null&&u(e,["includeThoughts"],i);const o=r(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function SA(n,e,i){const o={},a=r(e,["systemInstruction"]);i!==void 0&&a!=null&&u(i,["systemInstruction"],Dl(Tt(a)));const f=r(e,["temperature"]);f!=null&&u(o,["temperature"],f);const h=r(e,["topP"]);h!=null&&u(o,["topP"],h);const m=r(e,["topK"]);m!=null&&u(o,["topK"],m);const y=r(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const p=r(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const v=r(e,["stopSequences"]);v!=null&&u(o,["stopSequences"],v);const S=r(e,["responseLogprobs"]);S!=null&&u(o,["responseLogprobs"],S);const x=r(e,["logprobs"]);x!=null&&u(o,["logprobs"],x);const M=r(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const N=r(e,["frequencyPenalty"]);N!=null&&u(o,["frequencyPenalty"],N);const L=r(e,["seed"]);L!=null&&u(o,["seed"],L);const G=r(e,["responseMimeType"]);G!=null&&u(o,["responseMimeType"],G);const H=r(e,["responseSchema"]);H!=null&&u(o,["responseSchema"],jE(Fo(H)));const O=r(e,["responseJsonSchema"]);O!=null&&u(o,["responseJsonSchema"],O);const Y=r(e,["routingConfig"]);Y!=null&&u(o,["routingConfig"],Y);const W=r(e,["modelSelectionConfig"]);W!=null&&u(o,["modelConfig"],eA(W));const I=r(e,["safetySettings"]);if(i!==void 0&&I!=null){let Le=I;Array.isArray(Le)&&(Le=Le.map(V=>tA(V))),u(i,["safetySettings"],Le)}const oe=r(e,["tools"]);if(i!==void 0&&oe!=null){let Le=wl(oe);Array.isArray(Le)&&(Le=Le.map(V=>$g(Nl(V)))),u(i,["tools"],Le)}const $=r(e,["toolConfig"]);i!==void 0&&$!=null&&u(i,["toolConfig"],pA($));const se=r(e,["labels"]);i!==void 0&&se!=null&&u(i,["labels"],se);const X=r(e,["cachedContent"]);i!==void 0&&X!=null&&u(i,["cachedContent"],bn(n,X));const ye=r(e,["responseModalities"]);ye!=null&&u(o,["responseModalities"],ye);const he=r(e,["mediaResolution"]);he!=null&&u(o,["mediaResolution"],he);const Te=r(e,["speechConfig"]);Te!=null&&u(o,["speechConfig"],vA(Tc(Te)));const We=r(e,["audioTimestamp"]);We!=null&&u(o,["audioTimestamp"],We);const rt=r(e,["thinkingConfig"]);return rt!=null&&u(o,["thinkingConfig"],TA(rt)),o}function ig(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["contents"]);if(a!=null){let h=Zt(a);Array.isArray(h)&&(h=h.map(m=>Dl(m))),u(i,["contents"],h)}const f=r(e,["config"]);return f!=null&&u(i,["generationConfig"],SA(n,f,i)),i}function CA(n,e){const i={},o=r(n,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const a=r(n,["title"]);e!==void 0&&a!=null&&u(e,["instances[]","title"],a);const f=r(n,["outputDimensionality"]);e!==void 0&&f!=null&&u(e,["parameters","outputDimensionality"],f);const h=r(n,["mimeType"]);e!==void 0&&h!=null&&u(e,["instances[]","mimeType"],h);const m=r(n,["autoTruncate"]);return e!==void 0&&m!=null&&u(e,["parameters","autoTruncate"],m),i}function _A(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["contents"]);a!=null&&u(i,["instances[]","content"],wg(n,a));const f=r(e,["config"]);return f!=null&&u(i,["config"],CA(f,i)),i}function xA(n,e){const i={},o=r(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=r(n,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const f=r(n,["numberOfImages"]);e!==void 0&&f!=null&&u(e,["parameters","sampleCount"],f);const h=r(n,["aspectRatio"]);e!==void 0&&h!=null&&u(e,["parameters","aspectRatio"],h);const m=r(n,["guidanceScale"]);e!==void 0&&m!=null&&u(e,["parameters","guidanceScale"],m);const y=r(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const p=r(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const v=r(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const S=r(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&u(e,["parameters","includeSafetyAttributes"],S);const x=r(n,["includeRaiReason"]);e!==void 0&&x!=null&&u(e,["parameters","includeRaiReason"],x);const M=r(n,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const N=r(n,["outputMimeType"]);e!==void 0&&N!=null&&u(e,["parameters","outputOptions","mimeType"],N);const L=r(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&u(e,["parameters","outputOptions","compressionQuality"],L);const G=r(n,["addWatermark"]);e!==void 0&&G!=null&&u(e,["parameters","addWatermark"],G);const H=r(n,["enhancePrompt"]);return e!==void 0&&H!=null&&u(e,["parameters","enhancePrompt"],H),i}function EA(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const f=r(e,["config"]);return f!=null&&u(i,["config"],xA(f,i)),i}function wa(n){const e={},i=r(n,["gcsUri"]);i!=null&&u(e,["gcsUri"],i);const o=r(n,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Dn(o));const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function AA(n){const e={},i=r(n,["maskMode"]);i!=null&&u(e,["maskMode"],i);const o=r(n,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const a=r(n,["maskDilation"]);return a!=null&&u(e,["dilation"],a),e}function MA(n){const e={},i=r(n,["controlType"]);i!=null&&u(e,["controlType"],i);const o=r(n,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function RA(n){const e={},i=r(n,["styleDescription"]);return i!=null&&u(e,["styleDescription"],i),e}function NA(n){const e={},i=r(n,["subjectType"]);i!=null&&u(e,["subjectType"],i);const o=r(n,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function wA(n){const e={},i=r(n,["referenceImage"]);i!=null&&u(e,["referenceImage"],wa(i));const o=r(n,["referenceId"]);o!=null&&u(e,["referenceId"],o);const a=r(n,["referenceType"]);a!=null&&u(e,["referenceType"],a);const f=r(n,["maskImageConfig"]);f!=null&&u(e,["maskImageConfig"],AA(f));const h=r(n,["controlImageConfig"]);h!=null&&u(e,["controlImageConfig"],MA(h));const m=r(n,["styleImageConfig"]);m!=null&&u(e,["styleImageConfig"],RA(m));const y=r(n,["subjectImageConfig"]);return y!=null&&u(e,["subjectImageConfig"],NA(y)),e}function bA(n,e){const i={},o=r(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=r(n,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const f=r(n,["numberOfImages"]);e!==void 0&&f!=null&&u(e,["parameters","sampleCount"],f);const h=r(n,["aspectRatio"]);e!==void 0&&h!=null&&u(e,["parameters","aspectRatio"],h);const m=r(n,["guidanceScale"]);e!==void 0&&m!=null&&u(e,["parameters","guidanceScale"],m);const y=r(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const p=r(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const v=r(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const S=r(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&u(e,["parameters","includeSafetyAttributes"],S);const x=r(n,["includeRaiReason"]);e!==void 0&&x!=null&&u(e,["parameters","includeRaiReason"],x);const M=r(n,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const N=r(n,["outputMimeType"]);e!==void 0&&N!=null&&u(e,["parameters","outputOptions","mimeType"],N);const L=r(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&u(e,["parameters","outputOptions","compressionQuality"],L);const G=r(n,["editMode"]);e!==void 0&&G!=null&&u(e,["parameters","editMode"],G);const H=r(n,["baseSteps"]);return e!==void 0&&H!=null&&u(e,["parameters","editConfig","baseSteps"],H),i}function DA(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const f=r(e,["referenceImages"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>wA(y))),u(i,["instances[0]","referenceImages"],m)}const h=r(e,["config"]);return h!=null&&u(i,["config"],bA(h,i)),i}function kA(n,e){const i={},o=r(n,["includeRaiReason"]);e!==void 0&&o!=null&&u(e,["parameters","includeRaiReason"],o);const a=r(n,["outputMimeType"]);e!==void 0&&a!=null&&u(e,["parameters","outputOptions","mimeType"],a);const f=r(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&u(e,["parameters","outputOptions","compressionQuality"],f);const h=r(n,["enhanceInputImage"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],h);const m=r(n,["imagePreservationFactor"]);e!==void 0&&m!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const y=r(n,["numberOfImages"]);e!==void 0&&y!=null&&u(e,["parameters","sampleCount"],y);const p=r(n,["mode"]);return e!==void 0&&p!=null&&u(e,["parameters","mode"],p),i}function UA(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["image"]);a!=null&&u(i,["instances[0]","image"],wa(a));const f=r(e,["upscaleFactor"]);f!=null&&u(i,["parameters","upscaleConfig","upscaleFactor"],f);const h=r(e,["config"]);return h!=null&&u(i,["config"],kA(h,i)),i}function IA(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","name"],Pe(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function LA(n,e,i){const o={},a=r(e,["pageSize"]);i!==void 0&&a!=null&&u(i,["_query","pageSize"],a);const f=r(e,["pageToken"]);i!==void 0&&f!=null&&u(i,["_query","pageToken"],f);const h=r(e,["filter"]);i!==void 0&&h!=null&&u(i,["_query","filter"],h);const m=r(e,["queryBase"]);return i!==void 0&&m!=null&&u(i,["_url","models_url"],kg(n,m)),o}function VA(n,e){const i={},o=r(e,["config"]);return o!=null&&u(i,["config"],LA(n,o,i)),i}function qA(n,e){const i={},o=r(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=r(n,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const f=r(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&u(e,["defaultCheckpointId"],f),i}function PA(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],qA(a,i)),i}function zA(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","name"],Pe(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],a),i}function BA(n,e){const i={},o=r(n,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],Dl(Tt(o)));const a=r(n,["tools"]);if(e!==void 0&&a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>$g(m))),u(e,["tools"],h)}const f=r(n,["generationConfig"]);return e!==void 0&&f!=null&&u(e,["generationConfig"],f),i}function GA(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["contents"]);if(a!=null){let h=Zt(a);Array.isArray(h)&&(h=h.map(m=>Dl(m))),u(i,["contents"],h)}const f=r(e,["config"]);return f!=null&&u(i,["config"],BA(f,i)),i}function HA(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["contents"]);if(a!=null){let h=Zt(a);Array.isArray(h)&&(h=h.map(m=>Dl(m))),u(i,["contents"],h)}const f=r(e,["config"]);return f!=null&&u(i,["config"],f),i}function OA(n){const e={},i=r(n,["uri"]);i!=null&&u(e,["gcsUri"],i);const o=r(n,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Dn(o));const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function FA(n,e){const i={},o=r(n,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=r(n,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const f=r(n,["fps"]);e!==void 0&&f!=null&&u(e,["parameters","fps"],f);const h=r(n,["durationSeconds"]);e!==void 0&&h!=null&&u(e,["parameters","durationSeconds"],h);const m=r(n,["seed"]);e!==void 0&&m!=null&&u(e,["parameters","seed"],m);const y=r(n,["aspectRatio"]);e!==void 0&&y!=null&&u(e,["parameters","aspectRatio"],y);const p=r(n,["resolution"]);e!==void 0&&p!=null&&u(e,["parameters","resolution"],p);const v=r(n,["personGeneration"]);e!==void 0&&v!=null&&u(e,["parameters","personGeneration"],v);const S=r(n,["pubsubTopic"]);e!==void 0&&S!=null&&u(e,["parameters","pubsubTopic"],S);const x=r(n,["negativePrompt"]);e!==void 0&&x!=null&&u(e,["parameters","negativePrompt"],x);const M=r(n,["enhancePrompt"]);e!==void 0&&M!=null&&u(e,["parameters","enhancePrompt"],M);const N=r(n,["generateAudio"]);e!==void 0&&N!=null&&u(e,["parameters","generateAudio"],N);const L=r(n,["lastFrame"]);e!==void 0&&L!=null&&u(e,["instances[0]","lastFrame"],wa(L));const G=r(n,["compressionQuality"]);return e!==void 0&&G!=null&&u(e,["parameters","compressionQuality"],G),i}function YA(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["_url","model"],Pe(n,o));const a=r(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const f=r(e,["image"]);f!=null&&u(i,["instances[0]","image"],wa(f));const h=r(e,["video"]);h!=null&&u(i,["instances[0]","video"],OA(h));const m=r(e,["config"]);return m!=null&&u(i,["config"],FA(m,i)),i}function JA(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function $A(n){const e={},i=r(n,["data"]);i!=null&&u(e,["data"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ZA(n){const e={},i=r(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function KA(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],JA(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],$A(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],ZA(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function QA(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>KA(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function XA(n){const e={},i=r(n,["citationSources"]);return i!=null&&u(e,["citations"],i),e}function WA(n){const e={},i=r(n,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function jA(n){const e={},i=r(n,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>WA(a))),u(e,["urlMetadata"],o)}return e}function eM(n){const e={},i=r(n,["content"]);i!=null&&u(e,["content"],QA(i));const o=r(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],XA(o));const a=r(n,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const f=r(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const h=r(n,["urlContextMetadata"]);h!=null&&u(e,["urlContextMetadata"],jA(h));const m=r(n,["avgLogprobs"]);m!=null&&u(e,["avgLogprobs"],m);const y=r(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const p=r(n,["index"]);p!=null&&u(e,["index"],p);const v=r(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const S=r(n,["safetyRatings"]);return S!=null&&u(e,["safetyRatings"],S),e}function lg(n){const e={},i=r(n,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>eM(m))),u(e,["candidates"],h)}const o=r(n,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const a=r(n,["promptFeedback"]);a!=null&&u(e,["promptFeedback"],a);const f=r(n,["usageMetadata"]);return f!=null&&u(e,["usageMetadata"],f),e}function tM(n){const e={},i=r(n,["values"]);return i!=null&&u(e,["values"],i),e}function nM(){return{}}function iM(n){const e={},i=r(n,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>tM(f))),u(e,["embeddings"],a)}return r(n,["metadata"])!=null&&u(e,["metadata"],nM()),e}function lM(n){const e={},i=r(n,["bytesBase64Encoded"]);i!=null&&u(e,["imageBytes"],Dn(i));const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Zg(n){const e={},i=r(n,["safetyAttributes","categories"]);i!=null&&u(e,["categories"],i);const o=r(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const a=r(n,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function oM(n){const e={},i=r(n,["_self"]);i!=null&&u(e,["image"],lM(i));const o=r(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const a=r(n,["_self"]);return a!=null&&u(e,["safetyAttributes"],Zg(a)),e}function sM(n){const e={},i=r(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>oM(f))),u(e,["generatedImages"],a)}const o=r(n,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],Zg(o)),e}function aM(n){const e={},i=r(n,["baseModel"]);i!=null&&u(e,["baseModel"],i);const o=r(n,["createTime"]);o!=null&&u(e,["createTime"],o);const a=r(n,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function fc(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["description"]);a!=null&&u(e,["description"],a);const f=r(n,["version"]);f!=null&&u(e,["version"],f);const h=r(n,["_self"]);h!=null&&u(e,["tunedModelInfo"],aM(h));const m=r(n,["inputTokenLimit"]);m!=null&&u(e,["inputTokenLimit"],m);const y=r(n,["outputTokenLimit"]);y!=null&&u(e,["outputTokenLimit"],y);const p=r(n,["supportedGenerationMethods"]);return p!=null&&u(e,["supportedActions"],p),e}function rM(n){const e={},i=r(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(n,["_self"]);if(o!=null){let a=Ug(o);Array.isArray(a)&&(a=a.map(f=>fc(f))),u(e,["models"],a)}return e}function uM(){return{}}function cM(n){const e={},i=r(n,["totalTokens"]);i!=null&&u(e,["totalTokens"],i);const o=r(n,["cachedContentTokenCount"]);return o!=null&&u(e,["cachedContentTokenCount"],o),e}function fM(n){const e={},i=r(n,["video","uri"]);i!=null&&u(e,["uri"],i);const o=r(n,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],Dn(o));const a=r(n,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function dM(n){const e={},i=r(n,["_self"]);return i!=null&&u(e,["video"],fM(i)),e}function hM(n){const e={},i=r(n,["generatedSamples"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>dM(h))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=r(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function mM(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const a=r(n,["done"]);a!=null&&u(e,["done"],a);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const h=r(n,["response","generateVideoResponse"]);return h!=null&&u(e,["response"],hM(h)),e}function pM(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function gM(n){const e={},i=r(n,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function yM(n){const e={},i=r(n,["displayName"]);i!=null&&u(e,["displayName"],i);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function vM(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],pM(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],gM(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],yM(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function TM(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>vM(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function SM(n){const e={},i=r(n,["citations"]);return i!=null&&u(e,["citations"],i),e}function CM(n){const e={},i=r(n,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function _M(n){const e={},i=r(n,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>CM(a))),u(e,["urlMetadata"],o)}return e}function xM(n){const e={},i=r(n,["content"]);i!=null&&u(e,["content"],TM(i));const o=r(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],SM(o));const a=r(n,["finishMessage"]);a!=null&&u(e,["finishMessage"],a);const f=r(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const h=r(n,["urlContextMetadata"]);h!=null&&u(e,["urlContextMetadata"],_M(h));const m=r(n,["avgLogprobs"]);m!=null&&u(e,["avgLogprobs"],m);const y=r(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const p=r(n,["index"]);p!=null&&u(e,["index"],p);const v=r(n,["logprobsResult"]);v!=null&&u(e,["logprobsResult"],v);const S=r(n,["safetyRatings"]);return S!=null&&u(e,["safetyRatings"],S),e}function og(n){const e={},i=r(n,["candidates"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(p=>xM(p))),u(e,["candidates"],y)}const o=r(n,["createTime"]);o!=null&&u(e,["createTime"],o);const a=r(n,["responseId"]);a!=null&&u(e,["responseId"],a);const f=r(n,["modelVersion"]);f!=null&&u(e,["modelVersion"],f);const h=r(n,["promptFeedback"]);h!=null&&u(e,["promptFeedback"],h);const m=r(n,["usageMetadata"]);return m!=null&&u(e,["usageMetadata"],m),e}function EM(n){const e={},i=r(n,["truncated"]);i!=null&&u(e,["truncated"],i);const o=r(n,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function AM(n){const e={},i=r(n,["values"]);i!=null&&u(e,["values"],i);const o=r(n,["statistics"]);return o!=null&&u(e,["statistics"],EM(o)),e}function MM(n){const e={},i=r(n,["billableCharacterCount"]);return i!=null&&u(e,["billableCharacterCount"],i),e}function RM(n){const e={},i=r(n,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>AM(f))),u(e,["embeddings"],a)}const o=r(n,["metadata"]);return o!=null&&u(e,["metadata"],MM(o)),e}function NM(n){const e={},i=r(n,["gcsUri"]);i!=null&&u(e,["gcsUri"],i);const o=r(n,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],Dn(o));const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function Kg(n){const e={},i=r(n,["safetyAttributes","categories"]);i!=null&&u(e,["categories"],i);const o=r(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const a=r(n,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function Cc(n){const e={},i=r(n,["_self"]);i!=null&&u(e,["image"],NM(i));const o=r(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const a=r(n,["_self"]);a!=null&&u(e,["safetyAttributes"],Kg(a));const f=r(n,["prompt"]);return f!=null&&u(e,["enhancedPrompt"],f),e}function wM(n){const e={},i=r(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>Cc(f))),u(e,["generatedImages"],a)}const o=r(n,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],Kg(o)),e}function bM(n){const e={},i=r(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Cc(a))),u(e,["generatedImages"],o)}return e}function DM(n){const e={},i=r(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Cc(a))),u(e,["generatedImages"],o)}return e}function kM(n){const e={},i=r(n,["endpoint"]);i!=null&&u(e,["name"],i);const o=r(n,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function UM(n){const e={},i=r(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&u(e,["baseModel"],i);const o=r(n,["createTime"]);o!=null&&u(e,["createTime"],o);const a=r(n,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function IM(n){const e={},i=r(n,["checkpointId"]);i!=null&&u(e,["checkpointId"],i);const o=r(n,["epoch"]);o!=null&&u(e,["epoch"],o);const a=r(n,["step"]);return a!=null&&u(e,["step"],a),e}function dc(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["description"]);a!=null&&u(e,["description"],a);const f=r(n,["versionId"]);f!=null&&u(e,["version"],f);const h=r(n,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(x=>kM(x))),u(e,["endpoints"],S)}const m=r(n,["labels"]);m!=null&&u(e,["labels"],m);const y=r(n,["_self"]);y!=null&&u(e,["tunedModelInfo"],UM(y));const p=r(n,["defaultCheckpointId"]);p!=null&&u(e,["defaultCheckpointId"],p);const v=r(n,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(x=>IM(x))),u(e,["checkpoints"],S)}return e}function LM(n){const e={},i=r(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(n,["_self"]);if(o!=null){let a=Ug(o);Array.isArray(a)&&(a=a.map(f=>dc(f))),u(e,["models"],a)}return e}function VM(){return{}}function qM(n){const e={},i=r(n,["totalTokens"]);return i!=null&&u(e,["totalTokens"],i),e}function PM(n){const e={},i=r(n,["tokensInfo"]);return i!=null&&u(e,["tokensInfo"],i),e}function zM(n){const e={},i=r(n,["gcsUri"]);i!=null&&u(e,["uri"],i);const o=r(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Dn(o));const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function BM(n){const e={},i=r(n,["_self"]);return i!=null&&u(e,["video"],zM(i)),e}function GM(n){const e={},i=r(n,["videos"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>BM(h))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=r(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function HM(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const a=r(n,["done"]);a!=null&&u(e,["done"],a);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const h=r(n,["response"]);return h!=null&&u(e,["response"],GM(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OM="Content-Type",FM="X-Server-Timeout",YM="User-Agent",hc="x-goog-api-client",JM="1.8.0",$M=`google-genai-sdk/${JM}`,ZM="v1beta1",KM="v1beta",sg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class QM{constructor(e){var i,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:ZM,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:KM,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const a=[this.getRequestUrlInternal(i)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[h,m]of Object.entries(e.queryParams))a.searchParams.append(h,String(m));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,i,e.abortSignal),this.unaryApiCall(a,f,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[a,f]of Object.entries(i))typeof f=="object"?o[a]=Object.assign(Object.assign({},o[a]),f):f!==void 0&&(o[a]=f);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,i,e.abortSignal),this.streamApiCall(a,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o){if(i&&i.timeout||o){const a=new AbortController,f=a.signal;i.timeout&&(i==null?void 0:i.timeout)>0&&setTimeout(()=>a.abort(),i.timeout),o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=f}return i&&i.extraBody!==null&&XM(e,i.extraBody),e.headers=await this.getHeadersInternal(i),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await ag(a),new oc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await ag(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var i;return _l(this,arguments,function*(){const a=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),f=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let h="";for(;;){const{done:m,value:y}=yield Ze(a.read());if(m){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=f.decode(y);try{const S=JSON.parse(p);if("error"in S){const x=JSON.parse(JSON.stringify(S.error)),M=x.status,N=x.code,L=`got status: ${M}. ${JSON.stringify(S)}`;if(N>=400&&N<600)throw new Ra({message:L,status:N})}}catch(S){if(S.name==="ApiError")throw S}h+=p;let v=h.match(sg);for(;v;){const S=v[1];try{const x=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ze(new oc(x)),h=h.slice(v[0].length),v=h.match(sg)}catch(x){throw new Error(`exception parsing stream chunk ${S}. ${x}`)}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},i=$M+" "+this.clientOptions.userAgentExtra;return e[YM]=i,e[hc]=i,e[OM]="application/json",e}async getHeadersInternal(e){const i=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))i.append(o,a);e.timeout&&e.timeout>0&&i.append(FM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i),i}async uploadFile(e,i){var o;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const f=this.clientOptions.uploader,h=await f.stat(e);a.sizeBytes=String(h.size);const m=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:h.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=m;const y=await this.fetchUploadUrl(a,i);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i){var o;let a={};i!=null&&i.httpOptions?a=i.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},h=await this.request({path:le("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:a});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(o=h==null?void 0:h.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function ag(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(o);throw i>=400&&i<600?new Ra({message:a,status:i}):new Error(a)}}function XM(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))i=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(f,h){const m=Object.assign({},f);for(const y in h)if(Object.prototype.hasOwnProperty.call(h,y)){const p=h[y],v=m[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?m[y]=o(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),m[y]=p)}return m}const a=o(i,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WM="mcp_used/unknown";function Qg(n){for(const e of n)if(_c(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Xg(n){var e;const i=(e=n[hc])!==null&&e!==void 0?e:"";n[hc]=(i+` ${WM}`).trimStart()}function jM(n){var e,i,o;return(o=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>_c(a)))!==null&&o!==void 0?o:!1}function e1(n){var e,i,o;return(o=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>!_c(a)))!==null&&o!==void 0?o:!1}function _c(n){return n!==null&&typeof n=="object"&&n instanceof xc}function t1(n,e=100){return _l(this,arguments,function*(){let o,a=0;for(;a<e;){const f=yield Ze(n.listTools({cursor:o}));for(const h of f.tools)yield yield Ze(h),a++;if(!f.nextCursor)break;o=f.nextCursor}})}class xc{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new xc(e,i)}async initialize(){var e,i,o,a;if(this.mcpTools.length>0)return;const f={},h=[];for(const v of this.mcpClients)try{for(var m=!0,y=(i=void 0,Po(t1(v))),p;p=await y.next(),e=p.done,!e;m=!0){a=p.value,m=!1;const S=a;h.push(S);const x=S.name;if(f[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);f[x]=v}}catch(S){i={error:S}}finally{try{!m&&!e&&(o=y.return)&&await o.call(y)}finally{if(i)throw i.error}}this.mcpTools=h,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),Z0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const h=await a.callTool({name:o.name,arguments:o.args},void 0,f);i.push({functionResponse:{name:o.name,response:h.isError?{error:h}:h}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function n1(n,e,i){const o=new q0;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data);const f=cE(a);Object.assign(o,f),e(o)}class i1{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),h=s1(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${m}`;let p=()=>{};const v=new Promise(Y=>{p=Y}),S=e.callbacks,x=function(){p({})},M=this.apiClient,N={onopen:x,onmessage:Y=>{n1(M,S.onmessage,Y)},onerror:(i=S==null?void 0:S.onerror)!==null&&i!==void 0?i:function(Y){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(Y){}},L=this.webSocketFactory.create(y,o1(h),N);L.connect(),await v;const G=Pe(this.apiClient,e.model),H=Fg({model:G}),O=cc({setup:H});return L.send(JSON.stringify(O)),new l1(L,this.apiClient)}}class l1{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=Ex(e),o=Yg(i);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Ax(e),o=cc(i);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const i=cc({playbackControl:e});this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Sl.PLAY)}pause(){this.sendPlaybackControl(Sl.PAUSE)}stop(){this.sendPlaybackControl(Sl.STOP)}resetContext(){this.sendPlaybackControl(Sl.RESET_CONTEXT)}close(){this.conn.close()}}function o1(n){const e={};return n.forEach((i,o)=>{e[o]=i}),e}function s1(n){const e=new Headers;for(const[i,o]of Object.entries(n))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function r1(n,e,i){const o=new V0;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const f=JSON.parse(a);if(n.isVertexAI()){const h=tE(f);Object.assign(o,h)}else{const h=eE(f);Object.assign(o,h)}e(o)}class u1{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new i1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,a,f,h,m;const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const S=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Qg(e.config.tools)&&Xg(S);const x=h1(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x);else{const X=this.apiClient.getApiKey();let ye="BidiGenerateContent",he="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ye="BidiGenerateContentConstrained",he="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ye}?${he}=${X}`}let M=()=>{};const N=new Promise(X=>{M=X}),L=e.callbacks,G=function(){var X;(X=L==null?void 0:L.onopen)===null||X===void 0||X.call(L),M({})},H=this.apiClient,O={onopen:G,onmessage:X=>{r1(H,L.onmessage,X)},onerror:(i=L==null?void 0:L.onerror)!==null&&i!==void 0?i:function(X){},onclose:(o=L==null?void 0:L.onclose)!==null&&o!==void 0?o:function(X){}},Y=this.webSocketFactory.create(v,d1(x),O);Y.connect(),await N;let W=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const X=this.apiClient.getProject(),ye=this.apiClient.getLocation();W=`projects/${X}/locations/${ye}/`+W}let I={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Sa.AUDIO]}:e.config.responseModalities=[Sa.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const oe=(m=(h=e.config)===null||h===void 0?void 0:h.tools)!==null&&m!==void 0?m:[],$=[];for(const X of oe)if(this.isCallableTool(X)){const ye=X;$.push(await ye.tool())}else $.push(X);$.length>0&&(e.config.tools=$);const se={model:W,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=yx(this.apiClient,se):I=gx(this.apiClient,se),delete I.config,Y.send(JSON.stringify(I)),new f1(Y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const c1={turnComplete:!0};class f1{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=Zt(i.turns),e.isVertexAI()?o=o.map(a=>Dl(a)):o=o.map(a=>Na(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const f of o){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(a1)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},c1),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:xx(e)}:i={realtimeInput:_x(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function d1(n){const e={};return n.forEach((i,o)=>{e[o]=i}),e}function h1(n){const e=new Headers;for(const[i,o]of Object.entries(n))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rg=10;function ug(n){var e,i,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const h of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(ha(h)){a=!0;break}if(!a)return!0;const f=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function ha(n){return"callTool"in n&&typeof n.callTool=="function"}function cg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m1 extends bi{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,a,f,h,m;const y=await this.processParamsForMcpUsage(i);if(!jM(i)||ug(i.config))return await this.generateContentInternal(y);if(e1(i))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const S=Zt(y.contents),x=(f=(a=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&f!==void 0?f:rg;let M=0;for(;M<x&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const N=p.candidates[0].content,L=[];for(const G of(m=(h=i.config)===null||h===void 0?void 0:h.tools)!==null&&m!==void 0?m:[])if(ha(G)){const O=await G.callTool(p.functionCalls);L.push(...O)}M++,v={role:"user",parts:L},y.contents=Zt(y.contents),y.contents.push(N),y.contents.push(v),cg(y.config)&&(S.push(N),S.push(v))}return cg(y.config)&&(p.automaticFunctionCallingHistory=S),p},this.generateContentStream=async i=>{if(ug(i.config)){const o=await this.processParamsForMcpUsage(i);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var a;let f;const h=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:h.push(y);let m;return f?m={generatedImages:h,positivePromptSafetyAttributes:f}:m={generatedImages:h},m}),this.list=async i=>{var o;const h={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((o=h.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new Yo(Ni.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(h),h)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(a)}}async processParamsForMcpUsage(e){var i,o,a;const f=(i=e.config)===null||i===void 0?void 0:i.tools;if(!f)return e;const h=await Promise.all(f.map(async y=>ha(y)?await y.tool():y)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:h})};if(m.config.tools=h,e.config&&e.config.tools&&Qg(e.config.tools)){const y=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Xg(p),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return m}async initAfcToolsMap(e){var i,o,a;const f=new Map;for(const h of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(ha(h)){const m=h,y=await m.tool();for(const p of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(f.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);f.set(p.name,m)}}return f}async processAfcStream(e){var i,o,a;const f=(a=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:rg;let h=!1,m=0;const y=await this.initAfcToolsMap(e);return function(p,v,S){var x,M;return _l(this,arguments,function*(){for(var N,L,G,H;m<f;){h&&(m++,h=!1);const I=yield Ze(p.processParamsForMcpUsage(S)),oe=yield Ze(p.generateContentStreamInternal(I)),$=[],se=[];try{for(var O=!0,Y=(L=void 0,Po(oe)),W;W=yield Ze(Y.next()),N=W.done,!N;O=!0){H=W.value,O=!1;const X=H;if(yield yield Ze(X),X.candidates&&(!((x=X.candidates[0])===null||x===void 0)&&x.content)){se.push(X.candidates[0].content);for(const ye of(M=X.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(m<f&&ye.functionCall){if(!ye.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ye.functionCall.name)){const he=yield Ze(v.get(ye.functionCall.name).callTool([ye.functionCall]));$.push(...he)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ye.functionCall.name}`)}}}}catch(X){L={error:X}}finally{try{!O&&!N&&(G=Y.return)&&(yield Ze(G.call(Y)))}finally{if(L)throw L.error}}if($.length>0){h=!0;const X=new Uo;X.candidates=[{content:{role:"user",parts:$}}],yield yield Ze(X);const ye=[];ye.push(...se),ye.push({role:"user",parts:$});const he=Zt(S.contents).concat(ye);S.contents=he}else break}})}(this,y,e)}async generateContentInternal(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=ig(this.apiClient,e);return m=le("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>{const S=og(v),x=new Uo;return Object.assign(x,S),x})}else{const p=ng(this.apiClient,e);return m=le("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const S=lg(v),x=new Uo;return Object.assign(x,S),x})}}async generateContentStreamInternal(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=ig(this.apiClient,e);return m=le("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),h.then(function(S){return _l(this,arguments,function*(){var x,M,N,L;try{for(var G=!0,H=Po(S),O;O=yield Ze(H.next()),x=O.done,!x;G=!0){L=O.value,G=!1;const W=og(yield Ze(L.json())),I=new Uo;Object.assign(I,W),yield yield Ze(I)}}catch(Y){M={error:Y}}finally{try{!G&&!x&&(N=H.return)&&(yield Ze(N.call(H)))}finally{if(M)throw M.error}}})})}else{const p=ng(this.apiClient,e);return m=le("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),h.then(function(S){return _l(this,arguments,function*(){var x,M,N,L;try{for(var G=!0,H=Po(S),O;O=yield Ze(H.next()),x=O.done,!x;G=!0){L=O.value,G=!1;const W=lg(yield Ze(L.json())),I=new Uo;Object.assign(I,W),yield yield Ze(I)}}catch(Y){M={error:Y}}finally{try{!G&&!x&&(N=H.return)&&(yield Ze(N.call(H)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=_A(this.apiClient,e);return m=le("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>{const S=RM(v),x=new Lp;return Object.assign(x,S),x})}else{const p=LE(this.apiClient,e);return m=le("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const S=iM(v),x=new Lp;return Object.assign(x,S),x})}}async generateImagesInternal(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=EA(this.apiClient,e);return m=le("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>{const S=wM(v),x=new Vp;return Object.assign(x,S),x})}else{const p=qE(this.apiClient,e);return m=le("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const S=sM(v),x=new Vp;return Object.assign(x,S),x})}}async editImageInternal(e){var i,o;let a,f="",h={};if(this.apiClient.isVertexAI()){const m=DA(this.apiClient,e);return f=le("{model}:predict",m._url),h=m._query,delete m.config,delete m._url,delete m._query,a=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const p=bM(y),v=new b0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let a,f="",h={};if(this.apiClient.isVertexAI()){const m=UA(this.apiClient,e);return f=le("{model}:predict",m._url),h=m._query,delete m.config,delete m._url,delete m._query,a=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const p=DM(y),v=new D0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=IA(this.apiClient,e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>dc(v))}else{const p=PE(this.apiClient,e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>fc(v))}}async listInternal(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=VA(this.apiClient,e);return m=le("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>{const S=LM(v),x=new qp;return Object.assign(x,S),x})}else{const p=BE(this.apiClient,e);return m=le("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const S=rM(v),x=new qp;return Object.assign(x,S),x})}}async update(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=PA(this.apiClient,e);return m=le("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>dc(v))}else{const p=HE(this.apiClient,e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>fc(v))}}async delete(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=zA(this.apiClient,e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(()=>{const v=VM(),S=new Pp;return Object.assign(S,v),S})}else{const p=OE(this.apiClient,e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(()=>{const v=uM(),S=new Pp;return Object.assign(S,v),S})}}async countTokens(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=GA(this.apiClient,e);return m=le("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>{const S=qM(v),x=new zp;return Object.assign(x,S),x})}else{const p=YE(this.apiClient,e);return m=le("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const S=cM(v),x=new zp;return Object.assign(x,S),x})}}async computeTokens(e){var i,o;let a,f="",h={};if(this.apiClient.isVertexAI()){const m=HA(this.apiClient,e);return f=le("{model}:computeTokens",m._url),h=m._query,delete m.config,delete m._url,delete m._query,a=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const p=PM(y),v=new k0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=YA(this.apiClient,e);return m=le("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>HM(v))}else{const p=ZE(this.apiClient,e);return m=le("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>mM(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p1(n){const e={},i=r(n,["operationName"]);i!=null&&u(e,["_url","operationName"],i);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function g1(n){const e={},i=r(n,["operationName"]);i!=null&&u(e,["_url","operationName"],i);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function y1(n){const e={},i=r(n,["operationName"]);i!=null&&u(e,["operationName"],i);const o=r(n,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const a=r(n,["config"]);return a!=null&&u(e,["config"],a),e}function v1(n){const e={},i=r(n,["video","uri"]);i!=null&&u(e,["uri"],i);const o=r(n,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],Dn(o));const a=r(n,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function T1(n){const e={},i=r(n,["_self"]);return i!=null&&u(e,["video"],v1(i)),e}function S1(n){const e={},i=r(n,["generatedSamples"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>T1(h))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=r(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function C1(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const a=r(n,["done"]);a!=null&&u(e,["done"],a);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const h=r(n,["response","generateVideoResponse"]);return h!=null&&u(e,["response"],S1(h)),e}function _1(n){const e={},i=r(n,["gcsUri"]);i!=null&&u(e,["uri"],i);const o=r(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Dn(o));const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function x1(n){const e={},i=r(n,["_self"]);return i!=null&&u(e,["video"],_1(i)),e}function E1(n){const e={},i=r(n,["videos"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>x1(h))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=r(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function fg(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const a=r(n,["done"]);a!=null&&u(e,["done"],a);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const h=r(n,["response"]);return h!=null&&u(e,["response"],E1(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A1 extends bi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let f;return o&&"httpOptions"in o&&(f=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:f}})}else return this.getVideosOperationInternal({operationName:i.name,config:o})}async getVideosOperationInternal(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=g1(e);return m=le("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>fg(v))}else{const p=p1(e);return m=le("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>C1(v))}}async fetchPredictVideosOperationInternal(e){var i,o;let a,f="",h={};if(this.apiClient.isVertexAI()){const m=y1(e);return f=le("{resourceName}:fetchPredictOperation",m._url),h=m._query,delete m.config,delete m._url,delete m._query,a=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>fg(y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M1(n){const e={},i=r(n,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function Wg(n){const e={},i=r(n,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],M1(i)),e}function R1(n){const e={},i=r(n,["speaker"]);i!=null&&u(e,["speaker"],i);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Wg(o)),e}function N1(n){const e={},i=r(n,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>R1(a))),u(e,["speakerVoiceConfigs"],o)}return e}function w1(n){const e={},i=r(n,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],Wg(i));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],N1(o));const a=r(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function b1(n){const e={},i=r(n,["fps"]);i!=null&&u(e,["fps"],i);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function D1(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(n,["data"]);i!=null&&u(e,["data"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function k1(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=r(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function U1(n){const e={},i=r(n,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],b1(i));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],D1(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],k1(f));const h=r(n,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=r(n,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const v=r(n,["functionResponse"]);v!=null&&u(e,["functionResponse"],v);const S=r(n,["text"]);return S!=null&&u(e,["text"],S),e}function I1(n){const e={},i=r(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>U1(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function L1(n){const e={},i=r(n,["behavior"]);i!=null&&u(e,["behavior"],i);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const a=r(n,["name"]);a!=null&&u(e,["name"],a);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const h=r(n,["parametersJsonSchema"]);h!=null&&u(e,["parametersJsonSchema"],h);const m=r(n,["response"]);m!=null&&u(e,["response"],m);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function V1(n){const e={},i=r(n,["startTime"]);i!=null&&u(e,["startTime"],i);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function q1(n){const e={},i=r(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],V1(i)),e}function P1(n){const e={},i=r(n,["mode"]);i!=null&&u(e,["mode"],i);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function z1(n){const e={},i=r(n,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],P1(i)),e}function B1(){return{}}function G1(n){const e={},i=r(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(p=>L1(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],q1(o));const a=r(n,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],z1(a)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],B1());const h=r(n,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const m=r(n,["computerUse"]);return m!=null&&u(e,["computerUse"],m),e}function H1(n){const e={},i=r(n,["handle"]);if(i!=null&&u(e,["handle"],i),r(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function dg(){return{}}function O1(n){const e={},i=r(n,["disabled"]);i!=null&&u(e,["disabled"],i);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=r(n,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const f=r(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const h=r(n,["silenceDurationMs"]);return h!=null&&u(e,["silenceDurationMs"],h),e}function F1(n){const e={},i=r(n,["automaticActivityDetection"]);i!=null&&u(e,["automaticActivityDetection"],O1(i));const o=r(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=r(n,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function Y1(n){const e={},i=r(n,["targetTokens"]);return i!=null&&u(e,["targetTokens"],i),e}function J1(n){const e={},i=r(n,["triggerTokens"]);i!=null&&u(e,["triggerTokens"],i);const o=r(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],Y1(o)),e}function $1(n){const e={},i=r(n,["proactiveAudio"]);return i!=null&&u(e,["proactiveAudio"],i),e}function Z1(n,e){const i={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=r(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const f=r(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const h=r(n,["topP"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topP"],h);const m=r(n,["topK"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topK"],m);const y=r(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const p=r(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const v=r(n,["seed"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","seed"],v);const S=r(n,["speechConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","speechConfig"],w1(Sc(S)));const x=r(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],x);const M=r(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],I1(Tt(M)));const N=r(n,["tools"]);if(e!==void 0&&N!=null){let I=wl(N);Array.isArray(I)&&(I=I.map(oe=>G1(Nl(oe)))),u(e,["setup","tools"],I)}const L=r(n,["sessionResumption"]);e!==void 0&&L!=null&&u(e,["setup","sessionResumption"],H1(L));const G=r(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],dg());const H=r(n,["outputAudioTranscription"]);e!==void 0&&H!=null&&u(e,["setup","outputAudioTranscription"],dg());const O=r(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&u(e,["setup","realtimeInputConfig"],F1(O));const Y=r(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&u(e,["setup","contextWindowCompression"],J1(Y));const W=r(n,["proactivity"]);return e!==void 0&&W!=null&&u(e,["setup","proactivity"],$1(W)),i}function K1(n,e){const i={},o=r(e,["model"]);o!=null&&u(i,["setup","model"],Pe(n,o));const a=r(e,["config"]);return a!=null&&u(i,["config"],Z1(a,i)),i}function Q1(n,e,i){const o={},a=r(e,["expireTime"]);i!==void 0&&a!=null&&u(i,["expireTime"],a);const f=r(e,["newSessionExpireTime"]);i!==void 0&&f!=null&&u(i,["newSessionExpireTime"],f);const h=r(e,["uses"]);i!==void 0&&h!=null&&u(i,["uses"],h);const m=r(e,["liveConnectConstraints"]);i!==void 0&&m!=null&&u(i,["bidiGenerateContentSetup"],K1(n,m));const y=r(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&u(i,["fieldMask"],y),o}function X1(n,e){const i={},o=r(e,["config"]);return o!=null&&u(i,["config"],Q1(n,o,i)),i}function W1(n){const e={},i=r(n,["name"]);return i!=null&&u(e,["name"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j1(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const o=n[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(f=>`${i}.${f}`);e.push(...a)}else e.push(i)}return e.join(",")}function eR(n,e){let i=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const f=o.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,i=f):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(i){const f=j1(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];a.length>0&&(m=a.map(p=>h.includes(p)?`generationConfig.${p}`:p));const y=[];f&&y.push(f),m.length>0&&y.push(...m),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class tR extends bi{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let a,f="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=X1(this.apiClient,e);f=le("auth_tokens",m._url),h=m._query,delete m.config,delete m._url,delete m._query;const y=eR(m,e.config);return a=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>W1(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nR(n){const e={},i=r(n,["name"]);i!=null&&u(e,["_url","name"],i);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function iR(n,e){const i={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const f=r(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function lR(n){const e={},i=r(n,["config"]);return i!=null&&u(e,["config"],iR(i,e)),e}function oR(n){const e={},i=r(n,["textInput"]);i!=null&&u(e,["textInput"],i);const o=r(n,["output"]);return o!=null&&u(e,["output"],o),e}function sR(n){const e={};if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=r(n,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>oR(a))),u(e,["examples","examples"],o)}return e}function aR(n,e){const i={};if(r(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=r(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),r(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=r(n,["epochCount"]);e!==void 0&&a!=null&&u(e,["tuningTask","hyperparameters","epochCount"],a);const f=r(n,["learningRateMultiplier"]);if(f!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],f),r(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=r(n,["batchSize"]);e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","batchSize"],h);const m=r(n,["learningRate"]);return e!==void 0&&m!=null&&u(e,["tuningTask","hyperparameters","learningRate"],m),i}function rR(n){const e={},i=r(n,["baseModel"]);i!=null&&u(e,["baseModel"],i);const o=r(n,["trainingDataset"]);o!=null&&u(e,["tuningTask","trainingData"],sR(o));const a=r(n,["config"]);return a!=null&&u(e,["config"],aR(a,e)),e}function uR(n){const e={},i=r(n,["name"]);i!=null&&u(e,["_url","name"],i);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function cR(n,e){const i={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const f=r(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function fR(n){const e={},i=r(n,["config"]);return i!=null&&u(e,["config"],cR(i,e)),e}function dR(n,e){const i={},o=r(n,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const a=r(n,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),r(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function hR(n,e){const i={},o=r(n,["gcsUri"]);o!=null&&u(i,["validationDatasetUri"],o);const a=r(n,["vertexDatasetResource"]);return e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),i}function mR(n,e){const i={},o=r(n,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],hR(o,i));const a=r(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&u(e,["tunedModelDisplayName"],a);const f=r(n,["description"]);e!==void 0&&f!=null&&u(e,["description"],f);const h=r(n,["epochCount"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],h);const m=r(n,["learningRateMultiplier"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m);const y=r(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=r(n,["adapterSize"]);if(e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),r(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function pR(n){const e={},i=r(n,["baseModel"]);i!=null&&u(e,["baseModel"],i);const o=r(n,["trainingDataset"]);o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],dR(o,e));const a=r(n,["config"]);return a!=null&&u(e,["config"],mR(a,e)),e}function gR(n){const e={},i=r(n,["name"]);i!=null&&u(e,["model"],i);const o=r(n,["name"]);return o!=null&&u(e,["endpoint"],o),e}function jg(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["state"]);o!=null&&u(e,["state"],bg(o));const a=r(n,["createTime"]);a!=null&&u(e,["createTime"],a);const f=r(n,["tuningTask","startTime"]);f!=null&&u(e,["startTime"],f);const h=r(n,["tuningTask","completeTime"]);h!=null&&u(e,["endTime"],h);const m=r(n,["updateTime"]);m!=null&&u(e,["updateTime"],m);const y=r(n,["description"]);y!=null&&u(e,["description"],y);const p=r(n,["baseModel"]);p!=null&&u(e,["baseModel"],p);const v=r(n,["_self"]);v!=null&&u(e,["tunedModel"],gR(v));const S=r(n,["distillationSpec"]);S!=null&&u(e,["distillationSpec"],S);const x=r(n,["experiment"]);x!=null&&u(e,["experiment"],x);const M=r(n,["labels"]);M!=null&&u(e,["labels"],M);const N=r(n,["pipelineJob"]);N!=null&&u(e,["pipelineJob"],N);const L=r(n,["satisfiesPzi"]);L!=null&&u(e,["satisfiesPzi"],L);const G=r(n,["satisfiesPzs"]);G!=null&&u(e,["satisfiesPzs"],G);const H=r(n,["serviceAccount"]);H!=null&&u(e,["serviceAccount"],H);const O=r(n,["tunedModelDisplayName"]);return O!=null&&u(e,["tunedModelDisplayName"],O),e}function yR(n){const e={},i=r(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(n,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>jg(f))),u(e,["tuningJobs"],a)}return e}function vR(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const a=r(n,["done"]);a!=null&&u(e,["done"],a);const f=r(n,["error"]);return f!=null&&u(e,["error"],f),e}function TR(n){const e={},i=r(n,["checkpointId"]);i!=null&&u(e,["checkpointId"],i);const o=r(n,["epoch"]);o!=null&&u(e,["epoch"],o);const a=r(n,["step"]);a!=null&&u(e,["step"],a);const f=r(n,["endpoint"]);return f!=null&&u(e,["endpoint"],f),e}function SR(n){const e={},i=r(n,["model"]);i!=null&&u(e,["model"],i);const o=r(n,["endpoint"]);o!=null&&u(e,["endpoint"],o);const a=r(n,["checkpoints"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>TR(h))),u(e,["checkpoints"],f)}return e}function mc(n){const e={},i=r(n,["name"]);i!=null&&u(e,["name"],i);const o=r(n,["state"]);o!=null&&u(e,["state"],bg(o));const a=r(n,["createTime"]);a!=null&&u(e,["createTime"],a);const f=r(n,["startTime"]);f!=null&&u(e,["startTime"],f);const h=r(n,["endTime"]);h!=null&&u(e,["endTime"],h);const m=r(n,["updateTime"]);m!=null&&u(e,["updateTime"],m);const y=r(n,["error"]);y!=null&&u(e,["error"],y);const p=r(n,["description"]);p!=null&&u(e,["description"],p);const v=r(n,["baseModel"]);v!=null&&u(e,["baseModel"],v);const S=r(n,["tunedModel"]);S!=null&&u(e,["tunedModel"],SR(S));const x=r(n,["supervisedTuningSpec"]);x!=null&&u(e,["supervisedTuningSpec"],x);const M=r(n,["tuningDataStats"]);M!=null&&u(e,["tuningDataStats"],M);const N=r(n,["encryptionSpec"]);N!=null&&u(e,["encryptionSpec"],N);const L=r(n,["partnerModelTuningSpec"]);L!=null&&u(e,["partnerModelTuningSpec"],L);const G=r(n,["distillationSpec"]);G!=null&&u(e,["distillationSpec"],G);const H=r(n,["experiment"]);H!=null&&u(e,["experiment"],H);const O=r(n,["labels"]);O!=null&&u(e,["labels"],O);const Y=r(n,["pipelineJob"]);Y!=null&&u(e,["pipelineJob"],Y);const W=r(n,["satisfiesPzi"]);W!=null&&u(e,["satisfiesPzi"],W);const I=r(n,["satisfiesPzs"]);I!=null&&u(e,["satisfiesPzs"],I);const oe=r(n,["serviceAccount"]);oe!=null&&u(e,["serviceAccount"],oe);const $=r(n,["tunedModelDisplayName"]);return $!=null&&u(e,["tunedModelDisplayName"],$),e}function CR(n){const e={},i=r(n,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const o=r(n,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>mc(f))),u(e,["tuningJobs"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _R extends bi{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new Yo(Ni.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.tune=async i=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(i);{const o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:lc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=uR(e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>mc(v))}else{const p=nR(e);return m=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>jg(v))}}async listInternal(e){var i,o,a,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const p=fR(e);return m=le("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),h.then(v=>{const S=CR(v),x=new Bp;return Object.assign(x,S),x})}else{const p=lR(e);return m=le("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const S=yR(v),x=new Bp;return Object.assign(x,S),x})}}async tuneInternal(e){var i,o;let a,f="",h={};if(this.apiClient.isVertexAI()){const m=pR(e);return f=le("tuningJobs",m._url),h=m._query,delete m.config,delete m._url,delete m._query,a=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>mc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let a,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=rR(e);return f=le("tunedModels",m._url),h=m._query,delete m.config,delete m._url,delete m._query,a=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>vR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xR{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ER=1024*1024*8,AR=3,MR=1e3,RR=2,Qu="x-goog-upload-status";async function NR(n,e,i){var o,a,f;let h=0,m=0,y=new oc(new Response),p="upload";for(h=n.size;m<h;){const S=Math.min(ER,h-m),x=n.slice(m,m+S);m+S>=h&&(p+=", finalize");let M=0,N=MR;for(;M<AR&&(y=await i.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(m),"Content-Length":String(S)}}}),!(!((o=y==null?void 0:y.headers)===null||o===void 0)&&o[Qu]));)M++,await bR(N),N=N*RR;if(m+=S,((a=y==null?void 0:y.headers)===null||a===void 0?void 0:a[Qu])!=="active")break;if(h<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[Qu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function wR(n){return{size:n.size,type:n.type}}function bR(n){return new Promise(e=>setTimeout(e,n))}class DR{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await NR(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kR{create(e,i,o){return new UR(e,i,o)}}class UR{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hg="x-goog-api-key";class IR{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(hg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LR="gl-node/";class VR{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=w0(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const a=new IR(this.apiKey);this.apiClient=new QM({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:LR+"web",uploader:new DR,downloader:new xR}),this.models=new m1(this.apiClient),this.live=new u1(this.apiClient,a,new kR),this.batches=new iC(this.apiClient),this.chats=new a_(this.models,this.apiClient),this.caches=new l_(this.apiClient),this.files=new S_(this.apiClient),this.operations=new A1(this.apiClient),this.authTokens=new tR(this.apiClient),this.tunings=new _R(this.apiClient)}}const qR=({onStartLesson:n,isLoading:e,defaultDifficulty:i})=>{const[o,a]=j.useState(1),[f,h]=j.useState(null),[m,y]=j.useState(null),[p,v]=j.useState(i),[S,x]=j.useState(null);j.useEffect(()=>{if(document.body.className="",f){const I=`theme-${oi[f].className}`;document.body.classList.add(I)}},[f]);const M=I=>{const oe=["초1-2","초3-4","초5-6"],$=["중1-2","중3-고1","고2-3"];return oe.includes(I)?"elementary":$.includes(I)?"secondary":"advanced"},N=()=>{f&&m&&S&&p&&n(f,m,S,p)},L=()=>{let I=[];return f&&I.push(f),m&&I.push(m),p&&I.push(`난이도: ${p}`),S&&I.push(S),I.join(" > ")},G=()=>{o>1&&(o===2&&h(null),o===3&&y(null),o===4&&v(i||null),a(I=>I-1))},H=I=>{h(I),y(null),x(null),a(2)},O=I=>{y(I),x(null),a(3)},Y=I=>{v(I),x(null),a(4)},W=()=>{switch(o){case 1:return C.jsxs("div",{className:"selection-step",children:[C.jsx("h3",{children:"1. 학습할 과목을 선택하세요"}),C.jsx("div",{className:"subject-grid",children:Object.keys(Go).map($=>C.jsxs("button",{className:`selection-item-subject ${oi[$].className}`,onClick:()=>H($),children:[C.jsx(hy,{subject:$}),C.jsx("span",{children:$})]},$))})]});case 2:return f?C.jsxs("div",{className:"selection-step",children:[C.jsx("h3",{children:"2. 대분류 토픽을 선택하세요"}),C.jsx("div",{className:"selection-list-paged",children:Object.keys(Go[f]).map($=>C.jsx("button",{className:"selection-item",onClick:()=>O($),children:$},$))})]}):null;case 3:return m?C.jsxs("div",{className:"selection-step",children:[C.jsx("h3",{children:"3. 학습 난이도를 선택하세요"}),C.jsx("div",{className:"difficulty-grid",children:Aa.map($=>C.jsx("button",{className:`selection-item-difficulty ${p===$?"active":""}`,onClick:()=>Y($),children:$},$))})]}):null;case 4:if(!f||!m||!p)return null;const I=M(p),oe=Go[f][m][I];return C.jsxs("div",{className:"selection-step",children:[C.jsx("h3",{children:"4. 학습할 세부 주제를 선택하세요"}),C.jsx("div",{className:"selection-list-paged",children:Object.entries(oe).map(([$,se])=>C.jsxs("div",{children:[C.jsx("h4",{className:"selection-sub-header",children:$}),Object.entries(se).map(([X,ye])=>C.jsxs("button",{className:`selection-item-detailed ${S===X?"active":""}`,onClick:()=>x(X),children:[C.jsx("h5",{children:X}),C.jsx("p",{children:String(ye)})]},X))]},$))}),S&&C.jsx("button",{className:"cta-button",onClick:N,disabled:e,children:e?"생성 중...":"학습 시작하기"})]});default:return null}};return C.jsxs("div",{className:"selection-screen",children:[C.jsxs("header",{className:"selection-header",children:[C.jsx("h2",{children:"새로운 학습 시작하기"}),C.jsx("p",{children:"배우고 싶은 주제를 단계별로 선택하여 AI 학습을 시작하세요."}),C.jsx("div",{className:"selection-path",children:L()||"선택 경로가 여기에 표시됩니다."})]}),C.jsx("div",{className:"selection-stepper",children:W()}),C.jsx("footer",{className:"selection-footer",children:o>1&&!e&&C.jsxs("button",{className:"back-button",onClick:G,children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("polyline",{points:"15 18 9 12 15 6"})}),"뒤로가기"]})})]})};function Ec(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Di=Ec();function ey(n){Di=n}const ty=/[&<>"']/,PR=new RegExp(ty.source,"g"),ny=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,zR=new RegExp(ny.source,"g"),BR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mg=n=>BR[n];function Pt(n,e){if(e){if(ty.test(n))return n.replace(PR,mg)}else if(ny.test(n))return n.replace(zR,mg);return n}const GR=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function HR(n){return n.replace(GR,(e,i)=>(i=i.toLowerCase(),i==="colon"?":":i.charAt(0)==="#"?i.charAt(1)==="x"?String.fromCharCode(parseInt(i.substring(2),16)):String.fromCharCode(+i.substring(1)):""))}const OR=/(^|[^\[])\^/g;function He(n,e){let i=typeof n=="string"?n:n.source;e=e||"";const o={replace:(a,f)=>{let h=typeof f=="string"?f:f.source;return h=h.replace(OR,"$1"),i=i.replace(a,h),o},getRegex:()=>new RegExp(i,e)};return o}function pg(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const zo={exec:()=>null};function gg(n,e){const i=n.replace(/\|/g,(f,h,m)=>{let y=!1,p=h;for(;--p>=0&&m[p]==="\\";)y=!y;return y?"|":" |"}),o=i.split(/ \|/);let a=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),e)if(o.length>e)o.splice(e);else for(;o.length<e;)o.push("");for(;a<o.length;a++)o[a]=o[a].trim().replace(/\\\|/g,"|");return o}function Io(n,e,i){const o=n.length;if(o===0)return"";let a=0;for(;a<o&&n.charAt(o-a-1)===e;)a++;return n.slice(0,o-a)}function FR(n,e){if(n.indexOf(e[1])===-1)return-1;let i=0;for(let o=0;o<n.length;o++)if(n[o]==="\\")o++;else if(n[o]===e[0])i++;else if(n[o]===e[1]&&(i--,i<0))return o;return-1}function yg(n,e,i,o){const a=e.href,f=e.title?Pt(e.title):null,h=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){o.state.inLink=!0;const m={type:"link",raw:i,href:a,title:f,text:h,tokens:o.inlineTokens(h)};return o.state.inLink=!1,m}return{type:"image",raw:i,href:a,title:f,text:Pt(h)}}function YR(n,e){const i=n.match(/^(\s+)(?:```)/);if(i===null)return e;const o=i[1];return e.split(`
`).map(a=>{const f=a.match(/^\s+/);if(f===null)return a;const[h]=f;return h.length>=o.length?a.slice(o.length):a}).join(`
`)}class _a{constructor(e){$e(this,"options");$e(this,"rules");$e(this,"lexer");this.options=e||Di}space(e){const i=this.rules.block.newline.exec(e);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(e){const i=this.rules.block.code.exec(e);if(i){const o=i[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?o:Io(o,`
`)}}}fences(e){const i=this.rules.block.fences.exec(e);if(i){const o=i[0],a=YR(o,i[3]||"");return{type:"code",raw:o,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:a}}}heading(e){const i=this.rules.block.heading.exec(e);if(i){let o=i[2].trim();if(/#$/.test(o)){const a=Io(o,"#");(this.options.pedantic||!a||/ $/.test(a))&&(o=a.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(e){const i=this.rules.block.hr.exec(e);if(i)return{type:"hr",raw:Io(i[0],`
`)}}blockquote(e){const i=this.rules.block.blockquote.exec(e);if(i){let o=Io(i[0],`
`).split(`
`),a="",f="";const h=[];for(;o.length>0;){let m=!1;const y=[];let p;for(p=0;p<o.length;p++)if(/^ {0,3}>/.test(o[p]))y.push(o[p]),m=!0;else if(!m)y.push(o[p]);else break;o=o.slice(p);const v=y.join(`
`),S=v.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");a=a?`${a}
${v}`:v,f=f?`${f}
${S}`:S;const x=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(S,h,!0),this.lexer.state.top=x,o.length===0)break;const M=h[h.length-1];if((M==null?void 0:M.type)==="code")break;if((M==null?void 0:M.type)==="blockquote"){const N=M,L=N.raw+`
`+o.join(`
`),G=this.blockquote(L);h[h.length-1]=G,a=a.substring(0,a.length-N.raw.length)+G.raw,f=f.substring(0,f.length-N.text.length)+G.text;break}else if((M==null?void 0:M.type)==="list"){const N=M,L=N.raw+`
`+o.join(`
`),G=this.list(L);h[h.length-1]=G,a=a.substring(0,a.length-M.raw.length)+G.raw,f=f.substring(0,f.length-N.raw.length)+G.raw,o=L.substring(h[h.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:h,text:f}}}list(e){let i=this.rules.block.list.exec(e);if(i){let o=i[1].trim();const a=o.length>1,f={type:"list",raw:"",ordered:a,start:a?+o.slice(0,-1):"",loose:!1,items:[]};o=a?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=a?o:"[*+-]");const h=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`);let m=!1;for(;e;){let y=!1,p="",v="";if(!(i=h.exec(e))||this.rules.block.hr.test(e))break;p=i[0],e=e.substring(p.length);let S=i[2].split(`
`,1)[0].replace(/^\t+/,H=>" ".repeat(3*H.length)),x=e.split(`
`,1)[0],M=!S.trim(),N=0;if(this.options.pedantic?(N=2,v=S.trimStart()):M?N=i[1].length+1:(N=i[2].search(/[^ ]/),N=N>4?1:N,v=S.slice(N),N+=i[1].length),M&&/^ *$/.test(x)&&(p+=x+`
`,e=e.substring(x.length+1),y=!0),!y){const H=new RegExp(`^ {0,${Math.min(3,N-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),O=new RegExp(`^ {0,${Math.min(3,N-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Y=new RegExp(`^ {0,${Math.min(3,N-1)}}(?:\`\`\`|~~~)`),W=new RegExp(`^ {0,${Math.min(3,N-1)}}#`);for(;e;){const I=e.split(`
`,1)[0];if(x=I,this.options.pedantic&&(x=x.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Y.test(x)||W.test(x)||H.test(x)||O.test(e))break;if(x.search(/[^ ]/)>=N||!x.trim())v+=`
`+x.slice(N);else{if(M||S.search(/[^ ]/)>=4||Y.test(S)||W.test(S)||O.test(S))break;v+=`
`+x}!M&&!x.trim()&&(M=!0),p+=I+`
`,e=e.substring(I.length+1),S=x.slice(N)}}f.loose||(m?f.loose=!0:/\n *\n *$/.test(p)&&(m=!0));let L=null,G;this.options.gfm&&(L=/^\[[ xX]\] /.exec(v),L&&(G=L[0]!=="[ ] ",v=v.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:p,task:!!L,checked:G,loose:!1,text:v,tokens:[]}),f.raw+=p}f.items[f.items.length-1].raw=f.items[f.items.length-1].raw.trimEnd(),f.items[f.items.length-1].text=f.items[f.items.length-1].text.trimEnd(),f.raw=f.raw.trimEnd();for(let y=0;y<f.items.length;y++)if(this.lexer.state.top=!1,f.items[y].tokens=this.lexer.blockTokens(f.items[y].text,[]),!f.loose){const p=f.items[y].tokens.filter(S=>S.type==="space"),v=p.length>0&&p.some(S=>/\n.*\n/.test(S.raw));f.loose=v}if(f.loose)for(let y=0;y<f.items.length;y++)f.items[y].loose=!0;return f}}html(e){const i=this.rules.block.html.exec(e);if(i)return{type:"html",block:!0,raw:i[0],pre:i[1]==="pre"||i[1]==="script"||i[1]==="style",text:i[0]}}def(e){const i=this.rules.block.def.exec(e);if(i){const o=i[1].toLowerCase().replace(/\s+/g," "),a=i[2]?i[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",f=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:o,raw:i[0],href:a,title:f}}}table(e){const i=this.rules.block.table.exec(e);if(!i||!/[:|]/.test(i[2]))return;const o=gg(i[1]),a=i[2].replace(/^\||\| *$/g,"").split("|"),f=i[3]&&i[3].trim()?i[3].replace(/\n[ \t]*$/,"").split(`
`):[],h={type:"table",raw:i[0],header:[],align:[],rows:[]};if(o.length===a.length){for(const m of a)/^ *-+: *$/.test(m)?h.align.push("right"):/^ *:-+: *$/.test(m)?h.align.push("center"):/^ *:-+ *$/.test(m)?h.align.push("left"):h.align.push(null);for(let m=0;m<o.length;m++)h.header.push({text:o[m],tokens:this.lexer.inline(o[m]),header:!0,align:h.align[m]});for(const m of f)h.rows.push(gg(m,h.header.length).map((y,p)=>({text:y,tokens:this.lexer.inline(y),header:!1,align:h.align[p]})));return h}}lheading(e){const i=this.rules.block.lheading.exec(e);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(e){const i=this.rules.block.paragraph.exec(e);if(i){const o=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:o,tokens:this.lexer.inline(o)}}}text(e){const i=this.rules.block.text.exec(e);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(e){const i=this.rules.inline.escape.exec(e);if(i)return{type:"escape",raw:i[0],text:Pt(i[1])}}tag(e){const i=this.rules.inline.tag.exec(e);if(i)return!this.lexer.state.inLink&&/^<a /i.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(e){const i=this.rules.inline.link.exec(e);if(i){const o=i[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const h=Io(o.slice(0,-1),"\\");if((o.length-h.length)%2===0)return}else{const h=FR(i[2],"()");if(h>-1){const y=(i[0].indexOf("!")===0?5:4)+i[1].length+h;i[2]=i[2].substring(0,h),i[0]=i[0].substring(0,y).trim(),i[3]=""}}let a=i[2],f="";if(this.options.pedantic){const h=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);h&&(a=h[1],f=h[3])}else f=i[3]?i[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(this.options.pedantic&&!/>$/.test(o)?a=a.slice(1):a=a.slice(1,-1)),yg(i,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:f&&f.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer)}}reflink(e,i){let o;if((o=this.rules.inline.reflink.exec(e))||(o=this.rules.inline.nolink.exec(e))){const a=(o[2]||o[1]).replace(/\s+/g," "),f=i[a.toLowerCase()];if(!f){const h=o[0].charAt(0);return{type:"text",raw:h,text:h}}return yg(o,f,o[0],this.lexer)}}emStrong(e,i,o=""){let a=this.rules.inline.emStrongLDelim.exec(e);if(!a||a[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(a[1]||a[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const h=[...a[0]].length-1;let m,y,p=h,v=0;const S=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(S.lastIndex=0,i=i.slice(-1*e.length+h);(a=S.exec(i))!=null;){if(m=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!m)continue;if(y=[...m].length,a[3]||a[4]){p+=y;continue}else if((a[5]||a[6])&&h%3&&!((h+y)%3)){v+=y;continue}if(p-=y,p>0)continue;y=Math.min(y,y+p+v);const x=[...a[0]][0].length,M=e.slice(0,h+a.index+x+y);if(Math.min(h,y)%2){const L=M.slice(1,-1);return{type:"em",raw:M,text:L,tokens:this.lexer.inlineTokens(L)}}const N=M.slice(2,-2);return{type:"strong",raw:M,text:N,tokens:this.lexer.inlineTokens(N)}}}}codespan(e){const i=this.rules.inline.code.exec(e);if(i){let o=i[2].replace(/\n/g," ");const a=/[^ ]/.test(o),f=/^ /.test(o)&&/ $/.test(o);return a&&f&&(o=o.substring(1,o.length-1)),o=Pt(o,!0),{type:"codespan",raw:i[0],text:o}}}br(e){const i=this.rules.inline.br.exec(e);if(i)return{type:"br",raw:i[0]}}del(e){const i=this.rules.inline.del.exec(e);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(e){const i=this.rules.inline.autolink.exec(e);if(i){let o,a;return i[2]==="@"?(o=Pt(i[1]),a="mailto:"+o):(o=Pt(i[1]),a=o),{type:"link",raw:i[0],text:o,href:a,tokens:[{type:"text",raw:o,text:o}]}}}url(e){var o;let i;if(i=this.rules.inline.url.exec(e)){let a,f;if(i[2]==="@")a=Pt(i[0]),f="mailto:"+a;else{let h;do h=i[0],i[0]=((o=this.rules.inline._backpedal.exec(i[0]))==null?void 0:o[0])??"";while(h!==i[0]);a=Pt(i[0]),i[1]==="www."?f="http://"+i[0]:f=i[0]}return{type:"link",raw:i[0],text:a,href:f,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(e){const i=this.rules.inline.text.exec(e);if(i){let o;return this.lexer.state.inRawBlock?o=i[0]:o=Pt(i[0]),{type:"text",raw:i[0],text:o}}}}const JR=/^(?: *(?:\n|$))+/,$R=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,ZR=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Jo=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,KR=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,iy=/(?:[*+-]|\d{1,9}[.)])/,ly=He(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,iy).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Ac=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,QR=/^[^\n]+/,Mc=/(?!\s*\])(?:\\.|[^\[\]\\])+/,XR=He(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Mc).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),WR=He(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,iy).getRegex(),ba="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Rc=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,jR=He("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Rc).replace("tag",ba).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oy=He(Ac).replace("hr",Jo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ba).getRegex(),eN=He(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",oy).getRegex(),Nc={blockquote:eN,code:$R,def:XR,fences:ZR,heading:KR,hr:Jo,html:jR,lheading:ly,list:WR,newline:JR,paragraph:oy,table:zo,text:QR},vg=He("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Jo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ba).getRegex(),tN={...Nc,table:vg,paragraph:He(Ac).replace("hr",Jo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",vg).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ba).getRegex()},nN={...Nc,html:He(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Rc).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:zo,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:He(Ac).replace("hr",Jo).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ly).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},sy=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,iN=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ay=/^( {2,}|\\)\n(?!\s*$)/,lN=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,$o="\\p{P}\\p{S}",oN=He(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,$o).getRegex(),sN=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,aN=He(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,$o).getRegex(),rN=He("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,$o).getRegex(),uN=He("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,$o).getRegex(),cN=He(/\\([punct])/,"gu").replace(/punct/g,$o).getRegex(),fN=He(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),dN=He(Rc).replace("(?:-->|$)","-->").getRegex(),hN=He("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",dN).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),xa=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,mN=He(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",xa).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ry=He(/^!?\[(label)\]\[(ref)\]/).replace("label",xa).replace("ref",Mc).getRegex(),uy=He(/^!?\[(ref)\](?:\[\])?/).replace("ref",Mc).getRegex(),pN=He("reflink|nolink(?!\\()","g").replace("reflink",ry).replace("nolink",uy).getRegex(),wc={_backpedal:zo,anyPunctuation:cN,autolink:fN,blockSkip:sN,br:ay,code:iN,del:zo,emStrongLDelim:aN,emStrongRDelimAst:rN,emStrongRDelimUnd:uN,escape:sy,link:mN,nolink:uy,punctuation:oN,reflink:ry,reflinkSearch:pN,tag:hN,text:lN,url:zo},gN={...wc,link:He(/^!?\[(label)\]\((.*?)\)/).replace("label",xa).getRegex(),reflink:He(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xa).getRegex()},pc={...wc,escape:He(sy).replace("])","~|])").getRegex(),url:He(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},yN={...pc,br:He(ay).replace("{2,}","*").getRegex(),text:He(pc.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ca={normal:Nc,gfm:tN,pedantic:nN},Lo={normal:wc,gfm:pc,breaks:yN,pedantic:gN};class un{constructor(e){$e(this,"tokens");$e(this,"options");$e(this,"state");$e(this,"tokenizer");$e(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Di,this.options.tokenizer=this.options.tokenizer||new _a,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={block:ca.normal,inline:Lo.normal};this.options.pedantic?(i.block=ca.pedantic,i.inline=Lo.pedantic):this.options.gfm&&(i.block=ca.gfm,this.options.breaks?i.inline=Lo.breaks:i.inline=Lo.gfm),this.tokenizer.rules=i}static get rules(){return{block:ca,inline:Lo}}static lex(e,i){return new un(i).lex(e)}static lexInline(e,i){return new un(i).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){const o=this.inlineQueue[i];this.inlineTokens(o.src,o.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,i=[],o=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(m,y,p)=>y+"    ".repeat(p.length));let a,f,h;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(m=>(a=m.call({lexer:this},e,i))?(e=e.substring(a.raw.length),i.push(a),!0):!1))){if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length),a.raw.length===1&&i.length>0?i[i.length-1].raw+=`
`:i.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length),f=i[i.length-1],f&&(f.type==="paragraph"||f.type==="text")?(f.raw+=`
`+a.raw,f.text+=`
`+a.text,this.inlineQueue[this.inlineQueue.length-1].src=f.text):i.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length),f=i[i.length-1],f&&(f.type==="paragraph"||f.type==="text")?(f.raw+=`
`+a.raw,f.text+=`
`+a.raw,this.inlineQueue[this.inlineQueue.length-1].src=f.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),i.push(a);continue}if(h=e,this.options.extensions&&this.options.extensions.startBlock){let m=1/0;const y=e.slice(1);let p;this.options.extensions.startBlock.forEach(v=>{p=v.call({lexer:this},y),typeof p=="number"&&p>=0&&(m=Math.min(m,p))}),m<1/0&&m>=0&&(h=e.substring(0,m+1))}if(this.state.top&&(a=this.tokenizer.paragraph(h))){f=i[i.length-1],o&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=`
`+a.raw,f.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=f.text):i.push(a),o=h.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length),f=i[i.length-1],f&&f.type==="text"?(f.raw+=`
`+a.raw,f.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=f.text):i.push(a);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){let o,a,f,h=e,m,y,p;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(m=this.tokenizer.rules.inline.reflinkSearch.exec(h))!=null;)v.includes(m[0].slice(m[0].lastIndexOf("[")+1,-1))&&(h=h.slice(0,m.index)+"["+"a".repeat(m[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(m=this.tokenizer.rules.inline.blockSkip.exec(h))!=null;)h=h.slice(0,m.index)+"["+"a".repeat(m[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(m=this.tokenizer.rules.inline.anyPunctuation.exec(h))!=null;)h=h.slice(0,m.index)+"++"+h.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(y||(p=""),y=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(v=>(o=v.call({lexer:this},e,i))?(e=e.substring(o.raw.length),i.push(o),!0):!1))){if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),a=i[i.length-1],a&&o.type==="text"&&a.type==="text"?(a.raw+=o.raw,a.text+=o.text):i.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length),a=i[i.length-1],a&&o.type==="text"&&a.type==="text"?(a.raw+=o.raw,a.text+=o.text):i.push(o);continue}if(o=this.tokenizer.emStrong(e,h,p)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),i.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),i.push(o);continue}if(f=e,this.options.extensions&&this.options.extensions.startInline){let v=1/0;const S=e.slice(1);let x;this.options.extensions.startInline.forEach(M=>{x=M.call({lexer:this},S),typeof x=="number"&&x>=0&&(v=Math.min(v,x))}),v<1/0&&v>=0&&(f=e.substring(0,v+1))}if(o=this.tokenizer.inlineText(f)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(p=o.raw.slice(-1)),y=!0,a=i[i.length-1],a&&a.type==="text"?(a.raw+=o.raw,a.text+=o.text):i.push(o);continue}if(e){const v="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return i}}class Ea{constructor(e){$e(this,"options");$e(this,"parser");this.options=e||Di}space(e){return""}code({text:e,lang:i,escaped:o}){var h;const a=(h=(i||"").match(/^\S*/))==null?void 0:h[0],f=e.replace(/\n$/,"")+`
`;return a?'<pre><code class="language-'+Pt(a)+'">'+(o?f:Pt(f,!0))+`</code></pre>
`:"<pre><code>"+(o?f:Pt(f,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:i}){return`<h${i}>${this.parser.parseInline(e)}</h${i}>
`}hr(e){return`<hr>
`}list(e){const i=e.ordered,o=e.start;let a="";for(let m=0;m<e.items.length;m++){const y=e.items[m];a+=this.listitem(y)}const f=i?"ol":"ul",h=i&&o!==1?' start="'+o+'"':"";return"<"+f+h+`>
`+a+"</"+f+`>
`}listitem(e){let i="";if(e.task){const o=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=o+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=o+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:o+" ",text:o+" "}):i+=o+" "}return i+=this.parser.parse(e.tokens,!!e.loose),`<li>${i}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let i="",o="";for(let f=0;f<e.header.length;f++)o+=this.tablecell(e.header[f]);i+=this.tablerow({text:o});let a="";for(let f=0;f<e.rows.length;f++){const h=e.rows[f];o="";for(let m=0;m<h.length;m++)o+=this.tablecell(h[m]);a+=this.tablerow({text:o})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+a+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const i=this.parser.parseInline(e.tokens),o=e.header?"th":"td";return(e.align?`<${o} align="${e.align}">`:`<${o}>`)+i+`</${o}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:i,tokens:o}){const a=this.parser.parseInline(o),f=pg(e);if(f===null)return a;e=f;let h='<a href="'+e+'"';return i&&(h+=' title="'+i+'"'),h+=">"+a+"</a>",h}image({href:e,title:i,text:o}){const a=pg(e);if(a===null)return o;e=a;let f=`<img src="${e}" alt="${o}"`;return i&&(f+=` title="${i}"`),f+=">",f}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class bc{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class cn{constructor(e){$e(this,"options");$e(this,"renderer");$e(this,"textRenderer");this.options=e||Di,this.options.renderer=this.options.renderer||new Ea,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new bc}static parse(e,i){return new cn(i).parse(e)}static parseInline(e,i){return new cn(i).parseInline(e)}parse(e,i=!0){let o="";for(let a=0;a<e.length;a++){const f=e[a];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]){const m=f,y=this.options.extensions.renderers[m.type].call({parser:this},m);if(y!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type)){o+=y||"";continue}}const h=f;switch(h.type){case"space":{o+=this.renderer.space(h);continue}case"hr":{o+=this.renderer.hr(h);continue}case"heading":{o+=this.renderer.heading(h);continue}case"code":{o+=this.renderer.code(h);continue}case"table":{o+=this.renderer.table(h);continue}case"blockquote":{o+=this.renderer.blockquote(h);continue}case"list":{o+=this.renderer.list(h);continue}case"html":{o+=this.renderer.html(h);continue}case"paragraph":{o+=this.renderer.paragraph(h);continue}case"text":{let m=h,y=this.renderer.text(m);for(;a+1<e.length&&e[a+1].type==="text";)m=e[++a],y+=`
`+this.renderer.text(m);i?o+=this.renderer.paragraph({type:"paragraph",raw:y,text:y,tokens:[{type:"text",raw:y,text:y}]}):o+=y;continue}default:{const m='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return o}parseInline(e,i){i=i||this.renderer;let o="";for(let a=0;a<e.length;a++){const f=e[a];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]){const m=this.options.extensions.renderers[f.type].call({parser:this},f);if(m!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(f.type)){o+=m||"";continue}}const h=f;switch(h.type){case"escape":{o+=i.text(h);break}case"html":{o+=i.html(h);break}case"link":{o+=i.link(h);break}case"image":{o+=i.image(h);break}case"strong":{o+=i.strong(h);break}case"em":{o+=i.em(h);break}case"codespan":{o+=i.codespan(h);break}case"br":{o+=i.br(h);break}case"del":{o+=i.del(h);break}case"text":{o+=i.text(h);break}default:{const m='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return o}}class Bo{constructor(e){$e(this,"options");this.options=e||Di}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}$e(Bo,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var wn,cy,gc,fy;class vN{constructor(...e){Am(this,wn);$e(this,"defaults",Ec());$e(this,"options",this.setOptions);$e(this,"parse",bo(this,wn,gc).call(this,un.lex,cn.parse));$e(this,"parseInline",bo(this,wn,gc).call(this,un.lexInline,cn.parseInline));$e(this,"Parser",cn);$e(this,"Renderer",Ea);$e(this,"TextRenderer",bc);$e(this,"Lexer",un);$e(this,"Tokenizer",_a);$e(this,"Hooks",Bo);this.use(...e)}walkTokens(e,i){var a,f;let o=[];for(const h of e)switch(o=o.concat(i.call(this,h)),h.type){case"table":{const m=h;for(const y of m.header)o=o.concat(this.walkTokens(y.tokens,i));for(const y of m.rows)for(const p of y)o=o.concat(this.walkTokens(p.tokens,i));break}case"list":{const m=h;o=o.concat(this.walkTokens(m.items,i));break}default:{const m=h;(f=(a=this.defaults.extensions)==null?void 0:a.childTokens)!=null&&f[m.type]?this.defaults.extensions.childTokens[m.type].forEach(y=>{const p=m[y].flat(1/0);o=o.concat(this.walkTokens(p,i))}):m.tokens&&(o=o.concat(this.walkTokens(m.tokens,i)))}}return o}use(...e){const i=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(o=>{const a={...o};if(a.async=this.defaults.async||a.async||!1,o.extensions&&(o.extensions.forEach(f=>{if(!f.name)throw new Error("extension name required");if("renderer"in f){const h=i.renderers[f.name];h?i.renderers[f.name]=function(...m){let y=f.renderer.apply(this,m);return y===!1&&(y=h.apply(this,m)),y}:i.renderers[f.name]=f.renderer}if("tokenizer"in f){if(!f.level||f.level!=="block"&&f.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const h=i[f.level];h?h.unshift(f.tokenizer):i[f.level]=[f.tokenizer],f.start&&(f.level==="block"?i.startBlock?i.startBlock.push(f.start):i.startBlock=[f.start]:f.level==="inline"&&(i.startInline?i.startInline.push(f.start):i.startInline=[f.start]))}"childTokens"in f&&f.childTokens&&(i.childTokens[f.name]=f.childTokens)}),a.extensions=i),o.renderer){const f=this.defaults.renderer||new Ea(this.defaults);for(const h in o.renderer){if(!(h in f))throw new Error(`renderer '${h}' does not exist`);if(["options","parser"].includes(h))continue;const m=h;let y=o.renderer[m];o.useNewRenderer||(y=bo(this,wn,cy).call(this,y,m,f));const p=f[m];f[m]=(...v)=>{let S=y.apply(f,v);return S===!1&&(S=p.apply(f,v)),S||""}}a.renderer=f}if(o.tokenizer){const f=this.defaults.tokenizer||new _a(this.defaults);for(const h in o.tokenizer){if(!(h in f))throw new Error(`tokenizer '${h}' does not exist`);if(["options","rules","lexer"].includes(h))continue;const m=h,y=o.tokenizer[m],p=f[m];f[m]=(...v)=>{let S=y.apply(f,v);return S===!1&&(S=p.apply(f,v)),S}}a.tokenizer=f}if(o.hooks){const f=this.defaults.hooks||new Bo;for(const h in o.hooks){if(!(h in f))throw new Error(`hook '${h}' does not exist`);if(h==="options")continue;const m=h,y=o.hooks[m],p=f[m];Bo.passThroughHooks.has(h)?f[m]=v=>{if(this.defaults.async)return Promise.resolve(y.call(f,v)).then(x=>p.call(f,x));const S=y.call(f,v);return p.call(f,S)}:f[m]=(...v)=>{let S=y.apply(f,v);return S===!1&&(S=p.apply(f,v)),S}}a.hooks=f}if(o.walkTokens){const f=this.defaults.walkTokens,h=o.walkTokens;a.walkTokens=function(m){let y=[];return y.push(h.call(this,m)),f&&(y=y.concat(f.call(this,m))),y}}this.defaults={...this.defaults,...a}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,i){return un.lex(e,i??this.defaults)}parser(e,i){return cn.parse(e,i??this.defaults)}}wn=new WeakSet,cy=function(e,i,o){switch(i){case"heading":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,o.parser.parseInline(a.tokens),a.depth,HR(o.parser.parseInline(a.tokens,o.parser.textRenderer)))};case"code":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,a.text,a.lang,!!a.escaped)};case"table":return function(a){if(!a.type||a.type!==i)return e.apply(this,arguments);let f="",h="";for(let y=0;y<a.header.length;y++)h+=this.tablecell({text:a.header[y].text,tokens:a.header[y].tokens,header:!0,align:a.align[y]});f+=this.tablerow({text:h});let m="";for(let y=0;y<a.rows.length;y++){const p=a.rows[y];h="";for(let v=0;v<p.length;v++)h+=this.tablecell({text:p[v].text,tokens:p[v].tokens,header:!1,align:a.align[v]});m+=this.tablerow({text:h})}return e.call(this,f,m)};case"blockquote":return function(a){if(!a.type||a.type!==i)return e.apply(this,arguments);const f=this.parser.parse(a.tokens);return e.call(this,f)};case"list":return function(a){if(!a.type||a.type!==i)return e.apply(this,arguments);const f=a.ordered,h=a.start,m=a.loose;let y="";for(let p=0;p<a.items.length;p++){const v=a.items[p],S=v.checked,x=v.task;let M="";if(v.task){const N=this.checkbox({checked:!!S});m?v.tokens.length>0&&v.tokens[0].type==="paragraph"?(v.tokens[0].text=N+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&v.tokens[0].tokens[0].type==="text"&&(v.tokens[0].tokens[0].text=N+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:N+" "}):M+=N+" "}M+=this.parser.parse(v.tokens,m),y+=this.listitem({type:"list_item",raw:M,text:M,task:x,checked:!!S,loose:m,tokens:v.tokens})}return e.call(this,y,f,h)};case"html":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,a.text,a.block)};case"paragraph":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,this.parser.parseInline(a.tokens))};case"escape":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,a.text)};case"link":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,a.href,a.title,this.parser.parseInline(a.tokens))};case"image":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,a.href,a.title,a.text)};case"strong":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,this.parser.parseInline(a.tokens))};case"em":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,this.parser.parseInline(a.tokens))};case"codespan":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,a.text)};case"del":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,this.parser.parseInline(a.tokens))};case"text":return function(a){return!a.type||a.type!==i?e.apply(this,arguments):e.call(this,a.text)}}return e},gc=function(e,i){return(o,a)=>{const f={...a},h={...this.defaults,...f};this.defaults.async===!0&&f.async===!1&&(h.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),h.async=!0);const m=bo(this,wn,fy).call(this,!!h.silent,!!h.async);if(typeof o>"u"||o===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));if(h.hooks&&(h.hooks.options=h),h.async)return Promise.resolve(h.hooks?h.hooks.preprocess(o):o).then(y=>e(y,h)).then(y=>h.hooks?h.hooks.processAllTokens(y):y).then(y=>h.walkTokens?Promise.all(this.walkTokens(y,h.walkTokens)).then(()=>y):y).then(y=>i(y,h)).then(y=>h.hooks?h.hooks.postprocess(y):y).catch(m);try{h.hooks&&(o=h.hooks.preprocess(o));let y=e(o,h);h.hooks&&(y=h.hooks.processAllTokens(y)),h.walkTokens&&this.walkTokens(y,h.walkTokens);let p=i(y,h);return h.hooks&&(p=h.hooks.postprocess(p)),p}catch(y){return m(y)}}},fy=function(e,i){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const a="<p>An error occurred:</p><pre>"+Pt(o.message+"",!0)+"</pre>";return i?Promise.resolve(a):a}if(i)return Promise.reject(o);throw o}};const wi=new vN;function be(n,e){return wi.parse(n,e)}be.options=be.setOptions=function(n){return wi.setOptions(n),be.defaults=wi.defaults,ey(be.defaults),be};be.getDefaults=Ec;be.defaults=Di;be.use=function(...n){return wi.use(...n),be.defaults=wi.defaults,ey(be.defaults),be};be.walkTokens=function(n,e){return wi.walkTokens(n,e)};be.parseInline=wi.parseInline;be.Parser=cn;be.parser=cn.parse;be.Renderer=Ea;be.TextRenderer=bc;be.Lexer=un;be.lexer=un.lex;be.Tokenizer=_a;be.Hooks=Bo;be.parse=be;be.options;be.setOptions;be.use;be.walkTokens;be.parseInline;cn.parse;un.lex;const TN=({lesson:n,ai:e,aiFeedback:i,onSaveRecord:o,onRetrySummary:a})=>{const{subject:f,path:h,title:m,difficulty:y,explanation:p,type:v}=n,[S,x]=j.useState(""),[M,N]=j.useState([]),[L,G]=j.useState("summary"),[H,O]=j.useState("explanation"),[Y,W]=j.useState(null),[I,oe]=j.useState([]),[$,se]=j.useState(""),[X,ye]=j.useState(!1),[he,Te]=j.useState(!1),We=j.useRef(null),rt=j.useRef(null);j.useEffect(()=>{p&&e&&(async()=>{if(!e)return;Te(!0);const J=e.chats.create({model:"gemini-2.5-flash-preview-04-17",history:[{role:"user",parts:[{text:`지금부터 "${f} > ${h} > ${m}" 주제에 대한 학습을 진행할거야. 내가 하는 모든 질문은 이 주제와 관련된 것으로 간주하고 답변해줘. 설명은 이전에 네가 했던 다음 내용을 기반으로 해야해:

${p}

**절대적인 규칙: 너는 절대 내용을 요약해주면 안돼. 사용자가 "요약해줘", "정리해줘", "짧게 말해줘", "간단하게 설명해줘" 등 어떤 형태로든 요약을 요청하면, "죄송하지만 요약은 '요약하기' 탭에서 직접 해보셔야 해요. 내용을 스스로 정리하면서 공부하는 게 훨씬 효과적이랍니다! 이 내용에 대해 궁금한 점이 있다면 뭐든지 질문해주세요." 와 같이 친절하지만 단호하게 거절하고 '요약하기' 탭 사용을 유도해야 해. 이것은 가장 중요한 규칙이야.**`}]},{role:"model",parts:[{text:'네, 알겠습니다! 해당 주제에 대해 무엇이든 물어보세요. 학습한 내용을 바탕으로 자세히 답변해 드릴게요. **가장 중요한 점! 저는 내용을 요약해드릴 수 없습니다. 요약은 "요약하기" 탭에서 직접 해주셔야 해요!**'}]}]});if(W(J),v==="lesson"){const Z=`다음 텍스트의 핵심 내용을 요약하는 데 도움이 되는 구체적인 가이드 질문 3개를 만들어줘. 각 질문은 줄바꿈으로 구분하고, 번호나 글머리 기호는 붙이지 마. 오직 질문 내용만 작성해줘.

텍스트:
${p}`;try{const Ae=(await e.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:Z})).text;N(Ae.split(`
`).map(fe=>fe.trim()).filter(fe=>fe))}catch(ne){console.error("Failed to fetch summary suggestions",ne)}}Te(!1)})()},[e,p,f,h,m,v]),j.useEffect(()=>{We.current&&(We.current.scrollTop=We.current.scrollHeight)},[I]),j.useEffect(()=>{rt.current&&(rt.current.style.height="auto",rt.current.style.height=`${rt.current.scrollHeight}px`)},[$]);const Le=async()=>{if(!(!S.trim()||!e)){Te(!0);try{const q=`너는 "Let We Study"의 AI 조교야. 다음 내용을 바탕으로 학생의 요약문을 평가하고, 친절하고 구체적인 피드백을 제공해줘. 반드시 마크다운을 사용해서 가독성 좋게 작성해줘.
1. **원문:**
\`\`\`
${p}
\`\`\`
2. **학생의 요약:**
\`\`\`
${S}
\`\`\`
**평가 가이드라인:**
- 학생이 핵심 내용을 정확히 이해하고 포함했는지 확인해.
- 잘한 점을 먼저 칭찬해서 동기를 부여해줘.
- 보충하거나 수정할 부분이 있다면, 부드러운 어조로 명확하게 설명해줘.
- 전체적인 평가를 한두 문장으로 요약해서 마무리해줘.`,J=await e.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:q});o(S,J.text)}catch(q){const J=q instanceof Error?q.message:"An unknown error occurred.";alert(`피드백 생성 실패: ${J}`)}finally{Te(!1)}}},V=async()=>{if(!$.trim()||!Y||X)return;const q=$;oe(J=>[...J,{role:"user",text:q}]),se(""),ye(!0);try{const Z=(await Y.sendMessage({message:q})).text;oe(ne=>[...ne,{role:"model",text:Z}])}catch(J){const Z=J instanceof Error?J.message:"An unknown error occurred.";oe(ne=>[...ne,{role:"model",text:`죄송합니다, 답변을 생성하는 중 오류가 발생했습니다: ${Z}`}])}finally{ye(!1)}},K=q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),V())},re=()=>C.jsx("div",{className:"panel-content",dangerouslySetInnerHTML:{__html:be.parse(p)}}),De=()=>C.jsxs("div",{className:"interaction-content-panel",children:[!i&&M.length>0&&C.jsxs("div",{className:"summary-suggestions-box",children:[C.jsx("h4",{children:"요약 가이드 ✍️"}),C.jsx("p",{children:"아래 질문에 답하면서 내용을 정리하면 더 쉬워요!"}),C.jsx("ul",{children:M.map((q,J)=>C.jsx("li",{children:q},J))})]}),C.jsx("textarea",{placeholder:"위 내용을 바탕으로 자신만의 언어로 핵심 내용을 요약해보세요.",value:S,onChange:q=>x(q.target.value),disabled:!!i||he,rows:6}),C.jsx("button",{className:"submit-button",onClick:Le,disabled:!S.trim()||!!i||he,children:he&&!X?"채점 중...":"요약 제출 및 채점받기"}),he&&!X&&C.jsx(Ho,{}),i&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"ai-feedback-box",dangerouslySetInnerHTML:{__html:be.parse(i)}}),C.jsxs("button",{className:"back-button",onClick:a,style:{marginTop:"1rem",alignSelf:"center"},children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("polyline",{points:"23 4 23 10 17 10"}),C.jsx("polyline",{points:"1 20 1 14 7 14"}),C.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]}),"다시 요약하기"]})]})]}),A=()=>C.jsxs("div",{className:"interaction-content-panel chat-panel",children:[C.jsxs("div",{className:"chat-history",ref:We,children:[I.map((q,J)=>C.jsx("div",{className:`chat-message ${q.role}`,children:C.jsx("div",{className:"message-bubble",dangerouslySetInnerHTML:{__html:be.parse(q.text)}})},J)),X&&C.jsx("div",{className:"chat-message model",children:C.jsxs("div",{className:"message-bubble typing-indicator",children:[C.jsx("span",{}),C.jsx("span",{}),C.jsx("span",{})]})})]}),C.jsxs("form",{className:"chat-input-form",onSubmit:q=>{q.preventDefault(),V()},children:[C.jsx("textarea",{ref:rt,placeholder:"선생님에게 질문해보세요... (Enter로 전송, Shift+Enter로 줄바꿈)",value:$,onChange:q=>se(q.target.value),onKeyDown:K,rows:1,disabled:X||!p}),C.jsx("button",{type:"submit",disabled:X||!$.trim(),children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),C.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]})]});return C.jsxs("div",{className:"learning-screen",children:[C.jsxs("header",{className:"learning-header",children:[C.jsxs("div",{className:"topic-path",children:[C.jsx("span",{children:f})," > ",C.jsx("span",{children:h})," > ",C.jsx("span",{children:m})]}),C.jsxs("div",{className:"topic-difficulty",children:["난이도: ",y]})]}),C.jsxs("div",{className:"learning-content-grid desktop-view",children:[C.jsxs("div",{className:"explanation-panel",children:[C.jsx("div",{className:"panel-header",children:C.jsx("h3",{children:"선생님의 핵심 정리"})}),p?re():C.jsx("div",{className:"panel-content",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:C.jsx(Ho,{})})]}),C.jsxs("div",{className:"interaction-panel",children:[C.jsxs("div",{className:"interaction-tabs",children:[C.jsx("button",{onClick:()=>G("summary"),className:L==="summary"?"active":"",children:"요약하기"}),C.jsx("button",{onClick:()=>G("chat"),className:L==="chat"?"active":"",children:"질의응답"})]}),L==="summary"&&De(),L==="chat"&&A()]})]}),C.jsxs("div",{className:"learning-content-wrapper mobile-view",children:[C.jsxs("div",{className:"mobile-content-area",children:[H==="explanation"&&C.jsx("div",{className:"explanation-panel mobile-panel",children:p?re():C.jsx("div",{className:"panel-content",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:C.jsx(Ho,{})})}),H==="summary"&&C.jsx("div",{className:"interaction-panel mobile-panel",children:De()}),H==="chat"&&C.jsx("div",{className:"interaction-panel mobile-panel",children:A()})]}),C.jsxs("nav",{className:"learning-mobile-tabs",children:[C.jsxs("button",{onClick:()=>O("explanation"),className:H==="explanation"?"active":"",children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),C.jsx("path",{d:"M6.5 2H20v15H6.5A2.5 2.5 0 0 1 4 14.5v-11A2.5 2.5 0 0 1 6.5 2z"})]}),C.jsx("span",{children:"학습 내용"})]}),C.jsxs("button",{onClick:()=>O("summary"),className:H==="summary"?"active":"",children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M12 20h9"}),C.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),C.jsx("span",{children:"요약하기"})]}),C.jsxs("button",{onClick:()=>O("chat"),className:H==="chat"?"active":"",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),C.jsx("span",{children:"질의응답"})]})]})]})]})},SN=({record:n,onClose:e,onDelete:i,onStartAdvancedLesson:o})=>{const a=()=>{o(n),e()};return C.jsx("div",{className:"modal-overlay",onClick:e,children:C.jsxs("div",{className:`modal-content ${oi[n.subject].className}`,onClick:f=>f.stopPropagation(),children:[C.jsx("button",{className:"modal-close-button",onClick:e,children:"×"}),C.jsxs("div",{className:"modal-header",children:[C.jsx("h3",{children:n.title}),C.jsxs("p",{children:[n.path," | ",new Date(n.timestamp).toLocaleString()]})]}),C.jsxs("div",{className:"modal-body",children:[C.jsx("h4",{children:"AI 핵심 정리"}),C.jsx("div",{className:"modal-section",dangerouslySetInnerHTML:{__html:be.parse(n.explanation)}}),C.jsx("h4",{children:"내가 한 요약"}),C.jsx("div",{className:"modal-section user-summary",children:n.userSummary}),C.jsx("h4",{children:"AI 피드백"}),C.jsx("div",{className:"modal-section ai-feedback",dangerouslySetInnerHTML:{__html:be.parse(n.aiFeedback)}})]}),C.jsxs("div",{className:"modal-footer",children:[C.jsxs("button",{className:"review-button",onClick:a,children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),C.jsx("polyline",{points:"17 6 23 6 23 12"})]}),"AI와 함께 심화과정 배우기"]}),C.jsx("button",{className:"delete-button",onClick:()=>{confirm("정말로 이 기록을 삭제하시겠습니까?")&&i(n.id)},children:"기록 삭제"})]})]})})},CN=({summaries:n,deleteSummary:e,resetSelection:i,onStartAdvancedLesson:o,isLoading:a})=>{const[f,h]=j.useState("all"),[m,y]=j.useState("all"),[p,v]=j.useState(null),S=j.useMemo(()=>n.filter(N=>{const L=f==="all"||N.subject===f,G=m==="all"||N.type===m;return L&&G}),[n,f,m]),x=N=>{e(N),v(null)},M=N=>{a||v(N)};return C.jsxs("div",{className:"summaries-screen",children:[C.jsxs("header",{className:"summaries-header",children:[C.jsx("h2",{children:"학습 기록"}),C.jsx("p",{children:"지금까지 학습하고 요약한 내용들을 복습할 수 있어요."}),C.jsxs("div",{className:"filter-controls",children:[C.jsxs("div",{className:"filter-group type-filter",children:[C.jsx("button",{className:m==="all"?"active":"",onClick:()=>y("all"),children:"전체"}),C.jsx("button",{className:m==="lesson"?"active":"",onClick:()=>y("lesson"),children:"수업"}),C.jsx("button",{className:m==="lecture"?"active":"",onClick:()=>y("lecture"),children:"특강"}),C.jsx("button",{className:m==="advanced"?"active":"",onClick:()=>y("advanced"),children:"심화"})]}),C.jsxs("div",{className:"filter-group subject-filter",children:[C.jsx("button",{className:f==="all"?"active":"",onClick:()=>h("all"),children:"전체"}),Object.keys(Go).map(N=>C.jsx("button",{className:`${oi[N].className} ${f===N?"active":""}`,onClick:()=>h(N),children:N},N))]})]})]}),n.length===0?C.jsxs("div",{className:"empty-state",children:[C.jsx("h3",{children:"기록이 없습니다"}),C.jsx("p",{children:"아직 저장된 학습 기록이 없습니다. '새 학습 시작'으로 첫 학습을 시작해보세요!"}),C.jsx("button",{className:"cta-button",onClick:i,children:"학습 시작하기"})]}):S.length===0?C.jsxs("div",{className:"empty-state",children:[C.jsx("h3",{children:"기록이 없습니다"}),C.jsx("p",{children:"선택한 필터에 맞는 학습 기록이 없습니다."})]}):C.jsx("div",{className:"summaries-grid",children:S.map(N=>C.jsxs("div",{className:`summary-card ${oi[N.subject].className}`,onClick:()=>M(N),children:[C.jsxs("div",{className:"summary-card-header",children:[C.jsx("h3",{children:N.title}),C.jsx("span",{children:N.subject})]}),C.jsx("p",{className:"summary-card-path",children:N.path}),C.jsxs("p",{className:"summary-card-summary",children:['"',N.userSummary.substring(0,50),'..."']}),C.jsxs("div",{className:"summary-card-footer",children:[C.jsx("span",{children:new Date(N.timestamp).toLocaleDateString()}),C.jsx("span",{children:N.type==="lesson"?N.difficulty:`[${N.difficulty}]`})]})]},N.id))}),p&&C.jsx(SN,{record:p,onClose:()=>v(null),onDelete:x,onStartAdvancedLesson:o})]})},_N=({isLoading:n,onStartSpecialLecture:e})=>{const[i,o]=j.useState("subject_selection"),[a,f]=j.useState(null),[h,m]=j.useState(""),y=S=>{f(S),document.body.className=`theme-${oi[S].className}`,o("question_input")},p=()=>{a&&h.trim()&&e(a,h.trim())},v=()=>{o("subject_selection"),f(null),m(""),document.body.className=""};return C.jsxs("div",{className:"selection-screen special-lecture-screen",children:[C.jsxs("header",{className:"selection-header",children:[C.jsx("h2",{children:"AI 특강"}),C.jsx("p",{children:"자유로운 질문으로 깊이 있는 맞춤형 강의를 들어보세요."})]}),i==="subject_selection"&&C.jsxs("div",{className:"selection-step",children:[C.jsx("h3",{children:"1. 특강을 들을 과목을 선택하세요"}),C.jsx("div",{className:"subject-grid",children:Object.keys(Go).map(S=>C.jsxs("button",{className:`selection-item-subject ${oi[S].className}`,onClick:()=>y(S),children:[C.jsx(hy,{subject:S}),C.jsx("span",{children:S})]},S))})]}),i==="question_input"&&a&&C.jsxs("div",{className:"selection-step",children:[C.jsx("h3",{children:"2. 무엇이 궁금하신가요?"}),C.jsxs("div",{className:"question-input-area",children:[C.jsx("textarea",{placeholder:`${a} 과목에 대해 궁금한 점을 자유롭게 질문해주세요.
(예: "세종대왕의 업적에 대해 알려줘", "미국의 남북전쟁은 왜 일어났어?")`,value:h,onChange:S=>m(S.target.value)}),C.jsx("button",{className:"cta-button",onClick:p,disabled:n||!h.trim(),children:n?"AI가 강의를 준비 중입니다...":"특강 요청하기"})]})]}),C.jsx("footer",{className:"selection-footer",children:i==="question_input"&&C.jsxs("button",{className:"back-button",onClick:v,children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("polyline",{points:"15 18 9 12 15 6"})}),"과목 다시 선택"]})})]})},Tg=()=>{const n=navigator.userAgent.toLowerCase(),e=n.includes("cros")||n.includes("chromeos"),i=n.includes("android"),o=/iphone|ipad|ipod/.test(n);return e||i||o},Sg=()=>{const n=window.navigator.standalone===!0,e=window.matchMedia("(display-mode: standalone)").matches,i=window.matchMedia("(display-mode: window-controls-overlay)").matches;return n||e||i},xN=()=>C.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"#f5f5f5",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",zIndex:9999},children:C.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"40px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center",maxWidth:"400px"},children:[C.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"❌"}),C.jsx("h1",{style:{fontSize:"24px",marginBottom:"16px",color:"#333"},children:"지원되지 않는 플랫폼입니다"}),C.jsx("p",{style:{fontSize:"16px",color:"#666",marginBottom:"24px",lineHeight:"1.5"},children:"이 앱은 ChromeOS, Android, iOS에서만 사용할 수 있습니다. 지원되는 기기에서 접속해주세요."}),C.jsxs("div",{style:{fontSize:"14px",color:"#999",lineHeight:"1.4"},children:[C.jsx("p",{children:C.jsx("strong",{children:"지원 플랫폼:"})}),C.jsx("p",{children:"• ChromeOS"}),C.jsx("p",{children:"• Android (Chrome, Samsung Internet)"}),C.jsx("p",{children:"• iOS (Safari)"})]})]})}),EN=()=>{const[n,e]=j.useState(null),[i,o]=j.useState(!1);j.useEffect(()=>{const f=h=>{h.preventDefault(),e(h),o(!0)};return window.addEventListener("beforeinstallprompt",f),()=>{window.removeEventListener("beforeinstallprompt",f)}},[]);const a=async()=>{n&&(n.prompt(),await n.userChoice,e(null),o(!1),window.location.reload())};return C.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"#f5f5f5",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",zIndex:9999},children:C.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"40px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center",maxWidth:"400px"},children:[C.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"📱"}),C.jsx("h1",{style:{fontSize:"24px",marginBottom:"16px",color:"#333"},children:"PWA 설치가 필요합니다"}),C.jsxs("p",{style:{fontSize:"16px",color:"#666",marginBottom:"24px",lineHeight:"1.5"},children:["이 앱은 PWA(Progressive Web App)로 설치해야 사용할 수 있습니다.",C.jsx("br",{}),'브라우저에서 "홈 화면에 추가" 또는 "앱 설치" 옵션을 선택해주세요.']}),i&&C.jsx("button",{onClick:a,style:{backgroundColor:"#007AFF",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"16px",cursor:"pointer",marginBottom:"16px"},children:"앱 설치하기"}),C.jsxs("div",{style:{fontSize:"14px",color:"#999",lineHeight:"1.4"},children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Chrome/Edge:"})," 주소창 옆의 설치 아이콘 클릭"]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Safari:"}),' 공유 버튼 → "홈 화면에 추가"']}),C.jsxs("p",{children:[C.jsx("strong",{children:"Firefox:"})," 주소창 옆의 설치 아이콘 클릭"]})]})]})})},dy={default:{name:"민트",color:"#A7D7C5",className:"default"},pink:{name:"핑크",color:"#FFB6C1",className:"pink"},peach:{name:"피치",color:"#FFDAB9",className:"peach"},yellow:{name:"옐로우",color:"#FFFACD",className:"yellow"},blue:{name:"블루",color:"#B0E0E6",className:"blue"}},oi={국어:{color:"#f06292",className:"korean"},영어:{color:"#ffb74d",className:"english"},수학:{color:"#ffd54f",className:"math"},사회:{color:"#4db6ac",className:"social"},과학:{color:"#4fc3f7",className:"science"}},Go={국어:{문학:{elementary:{"동화 읽기":{"교훈 찾기":"재미있는 전래동화를 읽고 그 속에 숨겨진 교훈을 찾아봅니다.","인물 따라하기":"주인공의 마음을 상상하며 실감 나게 동화를 읽고 표현해봅니다."},"동시 감상":{"재미있는 표현 찾기":"반복되는 말이나 재미있는 소리를 흉내 내는 말을 찾아봅니다.","시로 그림 그리기":"시를 읽고 떠오르는 장면을 그림으로 표현하며 상상력을 키웁니다."}},secondary:{"현대 문학":{"시 분석":"현대시의 함축적 의미와 표현 기법을 분석합니다.","소설 분석":"현대 소설의 인물, 사건, 배경을 중심으로 서사를 파악합니다."},"고전 문학":{"고전 시가":"향가, 시조 등 고전 시가의 형식적 특징과 주제를 학습합니다.","고전 산문":"설화, 판소리계 소설 등 고전 산문의 갈래별 특징을 이해합니다."}},advanced:{"문학 비평":{"비평 이론 적용":"구조주의, 심리주의 등 다양한 문학 비평 이론을 실제 작품에 적용하여 분석합니다.","나만의 비평문 쓰기":"작품에 대한 자신만의 해석을 담아 논리적인 비평문을 작성합니다."},"작가 연구":{"특정 작가 심층 탐구":"윤동주, 이상의 생애와 작품 세계를 연결하여 심층적으로 탐구합니다.","시대별 문학 사조":"낭만주의, 모더니즘 등 특정 시대의 문학 사조와 대표 작가를 연구합니다."}}},비문학:{elementary:{"설명하는 글":{"중심 생각 찾기":"글의 제목과 내용을 보고 무엇에 대한 글인지 중심 생각을 파악합니다.","정보 확인하기":"글을 읽고 새롭게 알게 된 정보나 궁금한 점을 질문으로 만들어봅니다."},"주장하는 글":{"주장과 근거 구분하기":"글쓴이의 주장과 그 주장을 뒷받침하는 이유를 찾아봅니다.","의견 말하기":"글쓴이의 주장에 대한 자신의 생각을 간단하게 표현해봅니다."}},secondary:{논설문:{"주장과 근거 파악":"글쓴이의 핵심 주장과 이를 뒷받침하는 근거의 타당성을 분석합니다.","논리적 오류 찾기":"논리적 비약이나 잘못된 전제 등 글의 오류를 비판적으로 검토합니다."},설명문:{"정보 구조화":"다양한 설명 방식(정의, 예시, 비교)을 파악하고 정보 구조를 도식화합니다.","핵심 정보 요약":"글의 핵심 정보를 정확하게 추출하여 간결하게 요약합니다."}},advanced:{"전문 분야 아티클":{"과학/기술 지문 분석":"복잡한 과학 원리나 기술적 과정을 설명하는 글의 구조를 파악하고 핵심 정보를 요약합니다.","인문/사회학 논문 초록 읽기":"대학 논문의 초록을 읽고 연구의 목적, 방법, 결론을 파악하는 훈련을 합니다."},"비판적 읽기":{"미디어 리터러시":"뉴스 기사나 칼럼의 숨겨진 의도나 관점을 파악하고 비판적으로 수용합니다.","담화 분석":"특정 사회적 담론이 어떻게 형성되고 유지되는지 텍스트를 통해 분석합니다."}}}},영어:{Reading:{elementary:{"파닉스와 단어":{"알파벳과 소리":"각 알파벳이 내는 기본 소리를 익히고 간단한 단어를 읽는 법을 배웁니다.","그림 단어 카드":"그림을 보고 그에 맞는 영어 단어를 찾아 연결하며 어휘력을 키웁니다."},"간단한 문장 읽기":{"주어와 동사 찾기":"짧은 문장에서 누가 무엇을 했는지(주어, 동사)를 찾아봅니다.","이야기 순서 맞추기":"간단한 그림 동화의 문장 순서를 올바르게 배열합니다."}},secondary:{"뉴스/아티클":{"메인 아이디어 찾기":"긴 지문에서 핵심 주제와 요지를 빠르게 파악하는 훈련을 합니다.","추론적 이해":"글에 명시되지 않은 정보를 문맥을 통해 논리적으로 추론합니다."},"문학 작품":{"시적 표현 분석":"은유, 직유 등 영어 시의 다양한 비유와 상징을 해석합니다.","인물 심리 분석":"소설 속 등장인물의 행동과 대사를 통해 심리 상태를 분석합니다."}},advanced:{"학술 텍스트":{"연구 논문 분석":"학술 논문의 서론, 본론, 결론 구조를 파악하고 핵심 주장을 요약합니다.","비판적 독해":"저자의 주장과 근거의 논리적 타당성을 평가하며 텍스트를 읽습니다."},"고전 문학":{"셰익스피어 작품":"셰익스피어의 희곡 일부를 읽고 시대적 배경과 현대적 의미를 탐구합니다.","19세기 영미 소설":"제인 오스틴, 찰스 디킨스 등 고전 소설의 문체와 사회상을 분석합니다."}}},Writing:{elementary:{"알파벳과 단어 쓰기":{"따라 쓰기":"알파벳 대소문자와 기초 단어를 바른 순서로 따라 써봅니다.",받아쓰기:"선생님이 불러주는 간단한 단어를 듣고 철자에 맞게 써봅니다."},"문장 만들기":{"단어 배열하기":"흩어져 있는 단어 카드를 배열하여 완전한 문장을 만들어봅니다.","그림 보고 문장 쓰기":"제시된 그림을 묘사하는 한두 문장의 글을 써봅니다."}},secondary:{에세이:{"Argumentative Essay":"찬반이 나뉘는 주제에 대해 논리적인 근거를 들어 자신의 주장을 펼칩니다.","Descriptive Essay":"대상을 생생하게 묘사하여 독자가 그림을 그리듯 상상하게 합니다."},"실용 작문":{"비즈니스 이메일":"목적과 격식에 맞는 전문적인 비즈니스 이메일을 작성합니다.","레주메/CV":"자신의 강점과 경력을 효과적으로 어필하는 이력서를 작성합니다."}},advanced:{"학술 작문":{"Research Paper":"특정 주제에 대해 자료를 조사하고 형식에 맞춰 짧은 연구 보고서를 작성합니다.","Literature Review":"특정 연구 분야의 선행 연구들을 요약하고 비평하는 글을 작성합니다."},"창의적 글쓰기":{"단편 소설 쓰기":"플롯과 캐릭터를 구상하여 짧은 영어 소설을 창작합니다.","영시 쓰기":"다양한 운율과 수사법을 활용하여 자신만의 감정을 시로 표현합니다."}}}},수학:{대수:{elementary:{"수와 연산":{"네 자리 수":"네 자리 수의 개념과 자릿값을 이해하고 수를 비교합니다.","곱셈과 나눗셈":"두 자리 수의 곱셈과 나눗셈의 원리를 이해하고 계산합니다."},"규칙 찾기":{"수 배열표":"수 배열표에서 뛰어 세기, 덧셈, 뺄셈 등 다양한 규칙을 찾아 설명합니다.","도형의 규칙":"일정한 규칙에 따라 늘어놓은 도형의 배열에서 규칙을 찾아 다음 도형을 예측합니다."}},secondary:{다항식:{인수분해:"복잡한 다항식을 곱의 형태로 분해하는 다양한 공식을 익힙니다.","방정식과 부등식":"고차방정식과 절대값, 가우스를 포함한 부등식의 해를 구합니다."},함수:{"유리/무리 함수":"유리함수와 무리함수의 그래프를 그리고 점근선, 정의역 등을 분석합니다.","지수/로그 함수":"지수, 로그 함수의 그래프와 성질을 이해하고 방정식을 풉니다."}},advanced:{선형대수학:{"행렬과 행렬식":"행렬의 연산, 역행렬, 행렬식을 이해하고 연립방정식 풀이에 활용합니다.","벡터 공간과 고유값":"벡터 공간, 기저, 차원의 개념을 학습하고 고유값과 고유벡터를 계산합니다."},추상대수학:{"군(Group)의 기본":"군의 정의와 예시를 배우고, 부분군과 잉여류의 개념을 탐구합니다.","환(Ring)과 체(Field)":"정수, 유리수, 실수 체계의 대수적 구조를 환과 체의 개념으로 확장합니다."}}},기하:{elementary:{평면도형:{"도형의 이름":"삼각형, 사각형, 원 등 기본적인 평면도형의 이름을 알고 구별합니다.","도형 움직이기":"도형을 밀고, 뒤집고, 돌리는 활동을 통해 공간 감각을 키웁니다."},입체도형:{쌓기나무:"쌓기나무로 만든 모양을 보고 위, 앞, 옆에서 본 모양을 그립니다.","도형의 구성요소":"입체도형의 꼭짓점, 모서리, 면의 개수를 세어봅니다."}},secondary:{평면도형:{"삼각비 활용":"사인, 코사인, 탄젠트 법칙을 이용하여 삼각형의 변과 각을 구합니다.","원의 방정식":"원과 직선의 위치 관계를 파악하고 접선의 방정식을 구합니다."},공간도형:{정사영:"입체도형을 평면에 투영시킨 정사영의 넓이와 길이를 계산합니다.",공간벡터:"벡터의 내적과 외적을 이용하여 공간에서의 직선과 평면을 다룹니다."}},advanced:{해석기하학:{이차곡선:"포물선, 타원, 쌍곡선의 기하학적 정의와 표준형을 유도하고 성질을 분석합니다.","극좌표와 극방정식":"극좌표계를 이해하고, 극방정식으로 표현된 곡선의 개형을 그립니다."},미분기하학:{"곡선의 곡률":"매개변수로 표현된 평면 곡선의 곡률을 계산하고 그 의미를 이해합니다.","비유클리드 기하학 입문":"평행선 공준을 부정하는 쌍곡기하학, 타원기하학의 기본 개념을 탐구합니다."}}},"확률과 통계":{elementary:{"경우의 수":{"사건과 경우의 수":"동전 던지기, 주사위 굴리기 등 간단한 상황에서 일어날 수 있는 모든 경우의 수를 구합니다.","가능성 비교":"'확실하다', '불가능하다', '반반이다' 등 사건이 일어날 가능성을 말로 표현합니다."},"자료와 그래프":{"막대그래프와 꺾은선그래프":"주변의 자료를 막대그래프나 꺾은선그래프로 나타내고, 그래프를 해석합니다.","평균 구하기":"주어진 자료들의 평균을 구하는 방법을 배우고 그 의미를 이해합니다."}},secondary:{"순열과 조합":{"원순열과 중복조합":"특수한 조건에서의 순열과 조합의 수를 계산합니다.",이항정리:"(a+b)^n을 전개하는 이항정리의 원리를 이해하고 활용합니다."},통계:{확률분포:"이산확률분포와 연속확률분포의 차이를 이해하고 기댓값, 분산을 구합니다.","통계적 추정":"표본을 통해 모집단의 평균, 비율 등을 신뢰구간 내에서 추정합니다."}},advanced:{수리통계학:{"가설 검정":"귀무가설과 대립가설을 설정하고 유의수준 내에서 가설을 검정하는 방법을 학습합니다.","회귀 분석":"두 변수 간의 관계를 분석하고 최소제곱법을 이용한 회귀직선을 구합니다."},"응용 확률론":{"조건부 확률과 베이즈 정리":"사건의 종속 관계를 이해하고, 베이즈 정리를 활용하여 사후확률을 계산합니다.","확률 과정 입문":"마르코프 연쇄(Markov Chain)와 같은 기본적인 확률 과정의 개념을 탐구합니다."}}}},사회:{지리:{elementary:{"우리 동네":{"지도 읽기":"학교 주변, 우리 동네의 간단한 지도를 보고 주요 장소를 찾습니다.","방위와 기호":"동서남북 방위를 이해하고 지도에 사용된 간단한 기호의 의미를 배웁니다."},"세계 여러 나라":{"대륙과 바다":"세계 지도에서 5대양 6대주를 찾아보고 각 대륙의 특징을 알아봅니다.","다양한 문화":"세계 여러 나라의 의식주, 축제 등 독특한 문화를 사진 자료로 살펴봅니다."}},secondary:{자연지리:{"기후와 지형":"세계의 다양한 기후 지역과 화산, 빙하 등 특이 지형의 형성 과정을 학습합니다.",자연재해:"지진, 태풍 등 자연재해의 발생 원인과 그에 대한 인간의 대응을 탐구합니다."},인문지리:{"도시와 인구":"도시화 과정, 인구 문제 등 인간의 거주와 관련된 지리적 현상을 분석합니다.","자원과 산업":"에너지, 광물 자원의 분포와 이를 둘러싼 국제 관계 및 산업 발달을 이해합니다."}},advanced:{"지리 정보 시스템(GIS)":{"GIS의 원리와 활용":"GIS의 기본 원리를 이해하고, 도시 계획, 환경 분석 등 다양한 활용 사례를 탐구합니다.","공간 데이터 분석":"중첩 분석, 버퍼 분석 등 기본적인 공간 데이터 분석 기법의 개념을 학습합니다."},지정학:{"고전 지정학 이론":"매킨더, 스파이크맨 등 고전 지정학 이론가들의 핵심 주장을 비교 분석합니다.","현대 지정학적 이슈":"에너지 자원, 해양 영유권 등 현대 사회의 주요 지정학적 갈등 사례를 분석합니다."}}},역사:{elementary:{"옛날 이야기":{"단군 이야기":"우리나라가 어떻게 시작되었는지 단군 신화를 통해 알아봅니다.","위인 이야기":"세종대왕, 이순신 장군 등 역사적 위인들의 업적을 이야기로 듣습니다."},문화유산:{"옛날 물건":"빗살무늬 토기, 거북선 등 우리 문화유산의 이름과 쓰임새를 알아봅니다.","과거의 생활 모습":"옛날 사람들의 의식주와 놀이 문화를 그림과 사진으로 살펴봅니다."}},secondary:{한국사:{근현대사:"개항기부터 현대까지 한국의 정치, 사회, 경제적 변화를 심층적으로 학습합니다.","시대별 문화유산":"각 시대의 대표적인 문화유산을 통해 당시 사람들의 생활과 사상을 탐구합니다."},세계사:{서양사:"고대 그리스부터 현대까지 서양 역사의 주요 사건과 사상적 흐름을 파악합니다.",동양사:"중국, 일본 등 동아시아 국가들의 역사를 비교하며 상호 관계를 이해합니다."}},advanced:{"역사학 방법론":{"사료 비판":"주어진 역사 자료(사료)의 진위와 신뢰도를 평가하는 방법을 훈련합니다.","역사 해석":"같은 역사적 사건에 대한 다양한 관점과 해석을 비교 분석합니다."},"특정 주제사":{전쟁사:"제1차 세계대전의 원인, 과정, 결과를 다각적으로 심층 분석합니다.",미시사:"과거 평범한 사람의 일기나 기록을 통해 당대 사회상을 재구성하는 미시사를 탐구합니다."}}}},과학:{물리:{elementary:{"힘과 운동":{"자석과 자성":"자석이 쇠붙이를 끌어당기는 성질을 관찰하고, N극과 S극의 관계를 실험합니다.","무게와 수평잡기":"양팔 저울을 이용하여 물체의 무게를 비교하고 수평 잡기의 원리를 탐구합니다."},"빛과 소리":{그림자놀이:"빛의 직진 성질을 이용하여 다양한 모양의 그림자를 만들고 관찰합니다.","소리 만들기":"고무줄, 종이컵 등을 이용하여 다양한 소리를 만들고 소리의 특징을 비교합니다."}},secondary:{역학:{"운동량과 충격량":"운동량 보존 법칙과 충격량의 관계를 이해하고 문제를 해결합니다.","일과 에너지":"역학적 에너지 보존 법칙과 일-에너지 정리를 다양한 상황에 적용합니다."},전자기학:{"전자기 유도":"패러데이 법칙을 통해 자기장의 변화가 전류를 만드는 원리를 탐구합니다.","파동과 빛":"빛의 이중성(입자성, 파동성)을 이해하고 간섭, 회절 현상을 분석합니다."}},advanced:{양자역학:{"불확정성 원리":"위치와 운동량을 동시에 정확히 측정할 수 없다는 하이젠베르크의 불확정성 원리를 이해합니다.","슈뢰딩거 방정식":"양자 상태를 기술하는 슈뢰딩거 방정식의 의미와 정상 상태(stationary state)의 개념을 탐구합니다."},"상대성 이론":{"특수 상대성 이론":"시간 팽창, 길이 수축 등 특수 상대성 이론의 두 가지 가설과 주요 현상을 학습합니다.","일반 상대성 이론":"중력이 시공간의 휘어짐이라는 아인슈타인의 등가원리와 일반 상대성 이론의 개념을 소개합니다."}}},화학:{elementary:{"물질의 성질":{"물에 녹는 물질":"소금, 설탕 등이 물에 녹는 용해 현상을 관찰하고 용액의 개념을 배웁니다.","상태 변화":"물이 얼음(고체)이나 수증기(기체)로 변하는 상태 변화를 관찰하고 우리 생활 속 예시를 찾습니다."},"간단한 화학 반응":{"산성과 염기성":"리트머스 종이를 이용해 식초, 비눗물 등을 산성과 염기성으로 구분합니다.",연소:"초가 타는 현상을 관찰하며 물질이 탈 때 빛과 열이 나는 연소의 조건을 알아봅니다."}},secondary:{"물질의 구조":{"오비탈과 전자배치":"원자 오비탈의 개념을 이해하고 다전자 원자의 전자배치를 설명합니다.","화학 결합":"이온, 공유, 금속 결합의 형성 원리와 물질의 성질 관계를 분석합니다."},"화학 반응":{"반응 속도":"농도, 온도, 촉매가 화학 반응 속도에 미치는 영향을 정량적으로 분석합니다.","산과 염기":"산-염기 중화 반응의 양적 관계를 파악하고 pH를 이용한 완충 용액을 이해합니다."}},advanced:{유기화학:{"작용기(Functional Group)":"알코올, 케톤, 카복실산 등 주요 작용기의 구조와 반응성을 학습합니다.","명명법과 입체화학":"IUPAC 명명법을 익히고, 거울상 이성질체와 같은 입체 이성질체를 구별합니다."},물리화학:{"화학 열역학":"엔탈피, 엔트로피, 깁스 자유에너지의 개념을 이해하고 화학 반응의 자발성을 판단합니다.","반응 속도론":"반응 차수와 속도 상수를 결정하는 방법을 배우고, 반응 메커니즘을 추론합니다."}}}}},Aa=["초1-2","초3-4","초5-6","중1-2","중3-고1","고2-3","대1-2","대3-4","일반/심화"],Ho=()=>C.jsx("div",{className:"spinner"}),AN=({message:n})=>C.jsx("div",{className:"error-message",children:n}),hy=({subject:n})=>{const e={xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"};switch(n){case"국어":return C.jsxs("svg",{...e,children:[C.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),C.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]});case"영어":return C.jsxs("svg",{...e,children:[C.jsx("circle",{cx:"12",cy:"12",r:"10"}),C.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),C.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]});case"수학":return C.jsxs("svg",{...e,children:[C.jsx("circle",{cx:"12",cy:"6",r:"1"}),C.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),C.jsx("circle",{cx:"12",cy:"18",r:"1"})]});case"사회":return C.jsxs("svg",{...e,children:[C.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),C.jsx("circle",{cx:"9",cy:"7",r:"4"}),C.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),C.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});case"과학":return C.jsxs("svg",{...e,children:[C.jsx("path",{d:"M10.2 2.2c.2-.2.5-.3.8-.3s.6.1.8.3L15 5.5V17a4 4 0 1 1-8 0V5.5l3.2-3.3Z"}),C.jsx("path",{d:"M8.5 17a2 2 0 1 1 4 0"}),C.jsx("path",{d:"M7 17h10"})]});default:return null}},my=async(n,e)=>{const i=new TextEncoder,o=await window.crypto.subtle.importKey("raw",i.encode(n),{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:1e5,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])},MN=async(n,e)=>{const i=window.crypto.getRandomValues(new Uint8Array(16)),o=window.crypto.getRandomValues(new Uint8Array(12)),a=await my(e,i),h=new TextEncoder().encode(JSON.stringify(n)),m=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:o},a,h),y=new Uint8Array(i.length+o.length+m.byteLength);y.set(i,0),y.set(o,i.length),y.set(new Uint8Array(m),i.length+o.length);let p="";for(let v=0;v<y.byteLength;v++)p+=String.fromCharCode(y[v]);return window.btoa(p)},RN=async(n,e)=>{const i=window.atob(n),o=i.length,a=new Uint8Array(o);for(let S=0;S<o;S++)a[S]=i.charCodeAt(S);const f=a.slice(0,16),h=a.slice(16,28),m=a.slice(28),y=await my(e,f),p=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:h},y,m),v=new TextDecoder;return JSON.parse(v.decode(p))},py=({selectedTheme:n,onSelectTheme:e})=>C.jsx("div",{className:"theme-selector",children:Object.entries(dy).map(([i,{name:o,color:a}])=>C.jsxs("div",{className:`theme-option ${n===i?"active":""}`,onClick:()=>e(i),children:[C.jsx("div",{className:"theme-swatch",style:{backgroundColor:a}}),C.jsx("span",{children:o})]},i))}),NN=({onSave:n})=>{const[e,i]=j.useState(""),[o,a]=j.useState(""),f=()=>{if(!e.trim()){a("API 키를 입력해주세요.");return}a(""),n(e.trim())};return C.jsx("div",{className:"centered-form-container",children:C.jsxs("div",{className:"form-box",children:[C.jsxs("div",{className:"sidebar-header",style:{padding:"0 0 2rem 0",justifyContent:"center"},children:[C.jsx("span",{role:"img","aria-label":"brain icon",children:"🧠"}),C.jsx("h1",{children:"Let We Study"})]}),C.jsx("h3",{children:"API 키 설정"}),C.jsx("p",{className:"form-sub-header",children:"AI 기능을 사용하려면 Google AI API 키가 필요합니다."}),C.jsxs("div",{className:"api-key-warning",children:[C.jsx("strong",{children:"주의:"})," API 키는 브라우저에 저장됩니다. 개인용 컴퓨터에서만 사용하고, 공용 컴퓨터에서는 사용 후 반드시 설정에서 키를 삭제해주세요."]}),o&&C.jsx("p",{className:"form-error",children:o}),C.jsxs("form",{className:"form-content",style:{gap:"1rem"},onSubmit:h=>{h.preventDefault(),f()},children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"api-key-input",children:"Google AI API 키"}),C.jsx("input",{id:"api-key-input",type:"password",value:e,onChange:h=>i(h.target.value),placeholder:"API 키를 여기에 붙여넣으세요",autoFocus:!0})]}),C.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"external-link",children:["API 키 발급받기",C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),C.jsx("polyline",{points:"15 3 21 3 21 9"}),C.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]}),C.jsx("button",{type:"submit",className:"cta-button",children:"저장하고 시작하기"})]})]})})},wN=({onSetup:n,onImport:e})=>{const[i,o]=j.useState("create"),[a,f]=j.useState(""),[h,m]=j.useState(""),[y,p]=j.useState(""),[v,S]=j.useState(Aa[3]),[x,M]=j.useState("default"),[N,L]=j.useState(null),[G,H]=j.useState(""),[O,Y]=j.useState(""),[W,I]=j.useState(!1),oe=()=>{if(!a.trim()||!h){Y("닉네임과 비밀번호를 모두 입력해주세요.");return}if(h!==y){Y("비밀번호가 일치하지 않습니다.");return}n({nickname:a,password:h,defaultDifficulty:v,theme:x})},$=async()=>{if(!N||!G){Y("백업 파일과 비밀번호를 모두 입력해주세요.");return}I(!0),Y("");try{await e(N,G)}catch(se){Y("데이터 가져오기에 실패했습니다. 파일이 손상되었거나 비밀번호가 올바르지 않습니다."),console.error(se)}finally{I(!1)}};return C.jsx("div",{className:"centered-form-container",children:C.jsxs("div",{className:"form-box",children:[C.jsxs("div",{className:"sidebar-header",style:{padding:"0 0 2rem 0",justifyContent:"center"},children:[C.jsx("span",{role:"img","aria-label":"brain icon",children:"🧠"}),C.jsx("h1",{children:"Let We Study"})]}),C.jsxs("div",{className:"form-toggle-buttons",children:[C.jsx("button",{onClick:()=>o("create"),className:i==="create"?"active":"",children:"새 프로필 만들기"}),C.jsx("button",{onClick:()=>o("import"),className:i==="import"?"active":"",children:"데이터 가져오기"})]}),i==="create"?C.jsxs("div",{className:"form-content",children:[C.jsx("h3",{children:"학습을 시작하기 위해 프로필을 만들어주세요."}),O&&C.jsx("p",{className:"form-error",children:O}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"nickname",children:"닉네임"}),C.jsx("input",{id:"nickname",type:"text",value:a,onChange:se=>f(se.target.value),placeholder:"사용할 닉네임을 입력하세요"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"password",children:"비밀번호"}),C.jsx("input",{id:"password",type:"password",value:h,onChange:se=>m(se.target.value),placeholder:"데이터 보호에 사용됩니다"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"confirmPassword",children:"비밀번호 확인"}),C.jsx("input",{id:"confirmPassword",type:"password",value:y,onChange:se=>p(se.target.value),placeholder:"비밀번호를 다시 입력하세요"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"defaultDifficulty",children:"기본 학습 난이도"}),C.jsx("select",{id:"defaultDifficulty",value:v,onChange:se=>S(se.target.value),children:Aa.map(se=>C.jsx("option",{value:se,children:se},se))})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"기본 테마 색상"}),C.jsx(py,{selectedTheme:x,onSelectTheme:M})]}),C.jsx("button",{className:"cta-button",onClick:oe,children:"프로필 생성하고 시작하기"})]}):C.jsxs("div",{className:"form-content",children:[C.jsx("h3",{children:"백업 파일(.json)과 비밀번호를 입력해주세요."}),O&&C.jsx("p",{className:"form-error",children:O}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"importFile",children:"백업 파일"}),C.jsx("input",{id:"importFile",type:"file",accept:".json",onChange:se=>L(se.target.files?se.target.files[0]:null)})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"importPassword",children:"비밀번호"}),C.jsx("input",{id:"importPassword",type:"password",value:G,onChange:se=>H(se.target.value),placeholder:"백업 생성 시 사용한 비밀번호"})]}),C.jsx("button",{className:"cta-button",onClick:$,disabled:W,children:W?"데이터 복원 중...":"데이터 가져오기"})]})]})})},bN=({nickname:n,onUnlock:e,error:i})=>{const[o,a]=j.useState(""),f=h=>{h.preventDefault(),e(o)};return C.jsx("div",{className:"centered-form-container",children:C.jsxs("div",{className:"form-box",children:[C.jsxs("div",{className:"sidebar-header",style:{padding:"0 0 2rem 0",justifyContent:"center"},children:[C.jsx("span",{role:"img","aria-label":"brain icon",children:"🧠"}),C.jsx("h1",{children:"Let We Study"})]}),C.jsxs("h3",{children:[n,"님, 환영합니다!"]}),C.jsx("p",{className:"form-sub-header",children:"데이터 보호를 위해 비밀번호를 입력해주세요."}),i&&C.jsx("p",{className:"form-error",children:i}),C.jsxs("form",{onSubmit:f,className:"form-content",style:{gap:"1rem"},children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"unlock-password",children:"비밀번호"}),C.jsx("input",{id:"unlock-password",type:"password",value:o,onChange:h=>a(h.target.value),autoFocus:!0})]}),C.jsx("button",{type:"submit",className:"cta-button",children:"잠금 해제"})]})]})})},DN=({profile:n,apiKey:e,onUpdate:i,onExport:o,onDeleteProfile:a,onDeleteApiKey:f,onBack:h})=>{const[m,y]=j.useState(n.nickname),[p,v]=j.useState(""),[S,x]=j.useState(""),[M,N]=j.useState(n.defaultDifficulty),[L,G]=j.useState(n.theme||"default"),[H,O]=j.useState(""),Y=()=>{O("");const I={...n,nickname:m,defaultDifficulty:M,theme:L};if(p){if(p!==S){O("새 비밀번호가 일치하지 않습니다.");return}I.password=p}i(I),O("성공적으로 저장되었습니다!"),v(""),x(""),setTimeout(()=>O(""),3e3)},W=I=>I.length>8?`${I.substring(0,4)}...${I.substring(I.length-4)}`:"****";return C.jsxs("div",{className:"settings-screen",children:[C.jsxs("header",{className:"selection-header",children:[C.jsx("h2",{children:"설정"}),C.jsx("p",{children:"개인 정보를 수정하거나 학습 데이터를 관리할 수 있습니다."})]}),C.jsx("div",{className:"form-box",style:{maxWidth:"600px",margin:"0 auto"},children:C.jsxs("div",{className:"form-content",children:[C.jsx("h3",{children:"프로필 정보"}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"settings-nickname",children:"닉네임"}),C.jsx("input",{id:"settings-nickname",type:"text",value:m,onChange:I=>y(I.target.value)})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"settings-difficulty",children:"기본 학습 난이도"}),C.jsx("select",{id:"settings-difficulty",value:M,onChange:I=>N(I.target.value),children:Aa.map(I=>C.jsx("option",{value:I,children:I},I))})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"기본 테마 색상"}),C.jsx(py,{selectedTheme:L,onSelectTheme:G})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"settings-password",children:"새 비밀번호 (선택)"}),C.jsx("input",{id:"settings-password",type:"password",value:p,onChange:I=>v(I.target.value),placeholder:"변경할 경우에만 입력하세요"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"settings-confirm-password",children:"새 비밀번호 확인"}),C.jsx("input",{id:"settings-confirm-password",type:"password",value:S,onChange:I=>x(I.target.value),placeholder:"비밀번호를 다시 입력하세요"})]}),H&&C.jsx("p",{className:"form-success",children:H}),C.jsx("button",{className:"cta-button",onClick:Y,children:"프로필 변경사항 저장"}),C.jsx("h3",{style:{marginTop:"3rem"},children:"API 키 관리"}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"api-key-display",children:"현재 API 키"}),C.jsx("input",{id:"api-key-display",type:"text",value:W(e),readOnly:!0,disabled:!0})]}),C.jsx("button",{className:"secondary-button",onClick:()=>{confirm("정말로 API 키를 삭제하시겠습니까? 다시 입력해야 앱을 사용할 수 있습니다.")&&f()},children:"API 키 삭제"}),C.jsx("h3",{style:{marginTop:"3rem"},children:"데이터 관리"}),C.jsxs("div",{className:"data-management-buttons",children:[C.jsx("button",{className:"secondary-button",onClick:o,children:"학습 데이터 백업 (내보내기)"}),C.jsx("button",{className:"danger-button",onClick:()=>{confirm("정말로 모든 학습 기록과 프로필을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.")&&a()},children:"모든 데이터 삭제"})]})]})})]})},kN=({currentView:n,onNavigate:e,onNew:i,onEndLesson:o,isLessonActive:a,isLessonFinished:f})=>{const[h,m]=j.useState(!1),y=S=>{e(S),m(!1)},p=()=>{i(),m(!1)},v=()=>{o(),m(!1)};return C.jsxs(C.Fragment,{children:[C.jsx("button",{className:"mobile-menu-toggle",onClick:()=>m(!h),"aria-label":"메뉴 열기",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),C.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),C.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),C.jsxs("aside",{className:`sidebar ${h?"is-open":""}`,children:[C.jsxs("div",{className:"sidebar-header",children:[C.jsx("span",{role:"img","aria-label":"brain icon",children:"🧠"}),C.jsx("h1",{children:"Let We Study"})]}),C.jsxs("nav",{className:"sidebar-nav",children:[C.jsxs("button",{onClick:p,className:n==="selection"?"active":"",children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M12 5v14"}),C.jsx("path",{d:"M5 12h14"})]}),C.jsx("span",{children:"새 학습 시작"})]}),C.jsxs("button",{onClick:()=>y("summaries"),className:n==="summaries"?"active":"",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),C.jsx("span",{children:"학습 기록"})]}),C.jsxs("button",{onClick:()=>y("special_lecture"),className:n==="special_lecture"?"active":"",children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),C.jsx("path",{d:"M2 17l10 5 10-5"}),C.jsx("path",{d:"M2 12l10 5 10-5"})]}),C.jsx("span",{children:"AI 특강"})]}),C.jsxs("button",{onClick:()=>y("settings"),className:n==="settings"?"active":"",children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94s-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.44.17-.48.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.81c-.11.2-.06.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.04.24.24.41.48.41h3.84c.24 0 .44-.17-.48.41l.36-2.54c.59-.24 1.13-.57-1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.06-.47-.12-.61L19.14 12.94z"}),C.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),C.jsx("span",{children:"설정"})]}),a&&C.jsxs("button",{onClick:v,className:"end-lesson-button",disabled:!f,children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M15 3h5a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5"}),C.jsx("polyline",{points:"10 17 15 12 10 7"}),C.jsx("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]}),C.jsx("span",{children:"수업 끝내기"})]})]})]}),h&&C.jsx("div",{className:"sidebar-overlay",onClick:()=>m(!1)})]})},UN=()=>{const[n,e]=j.useState(null),[i,o]=j.useState(!0),[a,f]=j.useState(!1),[h,m]=j.useState(null),[y,p]=j.useState(!1),[v,S]=j.useState(!1),[x,M]=j.useState("selection"),[N,L]=j.useState(!1),[G,H]=j.useState(null),[O,Y]=j.useState(null),[W,I]=j.useState(null),[oe,$]=j.useState(""),[se,X]=j.useState([]),[ye,he]=j.useState({}),Te=j.useMemo(()=>h?new VR({apiKey:h}):null,[h]);j.useEffect(()=>{S(Tg()),p(Sg());try{const ue=localStorage.getItem("ai-tutor-data"),Me=localStorage.getItem("ai-tutor-api-key");if(Me&&m(Me),ue){const Ne=JSON.parse(ue);if(Ne.profile&&Ne.profile.nickname){const Oe=Ne.profile;Oe.theme||(Oe.theme="default"),e(Oe),X(Ne.summaries||[]),he(Ne.cachedLessons||{}),o(!0)}}}catch(ue){console.error("Failed to load data from storage",ue),localStorage.removeItem("ai-tutor-data"),localStorage.removeItem("ai-tutor-api-key")}finally{f(!0)}},[]),j.useEffect(()=>{if(n&&!i)try{const ue={profile:n,summaries:se,cachedLessons:ye};localStorage.setItem("ai-tutor-data",JSON.stringify(ue))}catch(ue){console.error("Failed to save data",ue)}},[n,se,ye,i]),j.useEffect(()=>{if(document.body.className="",i||!n){document.body.classList.add("theme-default");return}const ue=O==null?void 0:O.subject;if(ue){const Me=`theme-${oi[ue].className}`;document.body.classList.add(Me)}else{const Me=n.theme||"default",Ne=`theme-${dy[Me].className}`;document.body.classList.add(Ne)}},[O,i,n]);const We=()=>{M("selection"),Y(null),$(""),I(null),H(null)},rt=ue=>{ue!=="special_lecture"&&ue!=="settings"&&(Y(null),I(null)),M(ue),H(null)},Le=async(ue,Me,Ne,Oe)=>{if(!Te){H("API 키가 설정되지 않았습니다. 설정에서 API 키를 입력해주세요.");return}L(!0),H(null),$(""),I(null);const Ke=`${ue}-${Me}-${Ne}-${Oe}`;let en="";try{if(ye[Ke])en=ye[Ke].explanation;else{const ki=`너는 "Let We Study"의 AI 튜터야. "${Oe}" 수준의 학생에게 "${ue} > ${Me} > ${Ne}"에 대해 핵심 개념을 중심으로 명확하고 간결하게, 마크다운(Markdown) 문법을 적극적으로 사용하여 설명해줘. 목록, 강조 등을 활용해서 가독성을 높여줘.`;en=(await Te.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:ki})).text,he(Da=>({...Da,[Ke]:{explanation:en,summarySuggestions:[]}}))}Y({type:"lesson",subject:ue,path:Me,title:Ne,difficulty:Oe,explanation:en}),M("learning")}catch(ki){const Nt=ki instanceof Error?ki.message:"An unknown error occurred.";H(`설명을 생성하는 데 실패했습니다: ${Nt}`),We()}finally{L(!1)}},V=async(ue,Me)=>{if(!Te){H("API 키가 설정되지 않았습니다. 설정에서 API 키를 입력해주세요.");return}L(!0),H(null),$(""),I(null);try{const Ne=`너는 "Let We Study"의 AI 특강 강사야. "${ue}" 과목에 대해 학생이 다음과 같은 질문을 했어. 이 질문에 대해 جامع하고, 구조화된 방식으로 상세한 강의를 제공해줘. 반드시 마크다운(Markdown)을 적극적으로 사용하여 가독성을 극대화해야 해. (예: 제목, 목록, 강조, 코드 블록 등 활용)

학생의 질문: "${Me}"`,Ke=(await Te.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:Ne})).text;Y({type:"lecture",subject:ue,path:`${ue} 특강`,title:Me,difficulty:"특강",explanation:Ke}),M("learning")}catch(Ne){const Oe=Ne instanceof Error?Ne.message:"An unknown error occurred.";H(`특강 내용을 생성하는 데 실패했습니다: ${Oe}`)}finally{L(!1)}},K=(ue,Me)=>{if(O)if(W)X(Ne=>Ne.map(Oe=>Oe.id===W?{...Oe,userSummary:ue,aiFeedback:Me,timestamp:Date.now()}:Oe)),$(Me);else{const Ne={id:crypto.randomUUID(),...O,userSummary:ue,aiFeedback:Me,timestamp:Date.now()};I(Ne.id),$(Me),X(Oe=>[Ne,...Oe])}},re=()=>$(""),De=async ue=>{if(!Te){H("API 키가 설정되지 않았습니다. 설정에서 API 키를 입력해주세요."),M("summaries");return}M("selection"),L(!0),H(null),$(""),I(null);try{const Me=`당신은 학생의 심화 학습을 돕는 "Let We Study"의 AI 튜터입니다. 학생은 이미 아래 내용을 학습했습니다. 이 내용과 자연스럽게 이어지는 다음 단계의 심화 개념이나 주제를 하나 선정하여, 그것에 대해 새롭게 설명해주세요. 이전 내용을 반복하지 말고, 완전히 새로운 내용을 알려주어야 합니다. 마크다운을 사용하여 가독성 좋게 작성해주세요.

[기존 학습 내용]
${ue.explanation}`,Oe=(await Te.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:Me})).text,Ke={type:"advanced",subject:ue.subject,path:ue.path,title:`[심화] ${ue.title}`,difficulty:"심화",explanation:Oe};Y(Ke),M("learning")}catch(Me){const Ne=Me instanceof Error?Me.message:"An unknown error occurred.";H(`심화 학습 내용을 생성하는 데 실패했습니다: ${Ne}`),M("summaries")}finally{L(!1)}},A=ue=>{X(Me=>Me.filter(Ne=>Ne.id!==ue))},q=ue=>{e(ue),o(!1)},J=async(ue,Me)=>{const Ne=await ue.text(),Oe=JSON.parse(Ne),Ke=await RN(Oe.encryptedData,Me),en=Ke.profile;en.theme||(en.theme="default"),e(en),X(Ke.summaries||[]),he(Ke.cachedLessons||{}),Ke.apiKey&&(m(Ke.apiKey),localStorage.setItem("ai-tutor-api-key",Ke.apiKey)),o(!1)},Z=ue=>{ue===(n==null?void 0:n.password)?(o(!1),H(null)):H("비밀번호가 올바르지 않습니다.")},ne=ue=>{e(ue)},Ae=async()=>{if(!(n!=null&&n.password))return;const ue={profile:n,summaries:se,cachedLessons:ye,apiKey:h};try{const Me=await MN(ue,n.password),Ne=new Blob([JSON.stringify({encryptedData:Me})],{type:"application/json"}),Oe=URL.createObjectURL(Ne),Ke=document.createElement("a");Ke.href=Oe,Ke.download=`ai-tutor-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),URL.revokeObjectURL(Oe),alert("데이터 백업이 완료되었습니다.")}catch(Me){alert("데이터 백업에 실패했습니다."),console.error(Me)}},fe=()=>{localStorage.removeItem("ai-tutor-data"),localStorage.removeItem("ai-tutor-api-key"),e(null),X([]),he({}),m(null),o(!0),We()},St=ue=>{ue.trim()&&(m(ue.trim()),localStorage.setItem("ai-tutor-api-key",ue.trim()))},Ye=()=>{m(null),localStorage.removeItem("ai-tutor-api-key")},jt=()=>{if(N&&x==="selection")return C.jsxs("div",{className:"loading-fullscreen",children:[C.jsx(Ho,{}),C.jsx("p",{children:"AI가 다음 학습을 준비하고 있어요. 잠시만 기다려주세요..."})]});switch(x){case"learning":return O?C.jsx(TN,{lesson:O,ai:Te,aiFeedback:oe,onSaveRecord:K,onRetrySummary:re},O.title):(M("selection"),null);case"summaries":return C.jsx(CN,{summaries:se,deleteSummary:A,resetSelection:We,onStartAdvancedLesson:De,isLoading:N});case"special_lecture":return C.jsx(_N,{isLoading:N,onStartSpecialLecture:V});case"settings":return C.jsx(DN,{profile:n,apiKey:h,onUpdate:ne,onExport:Ae,onDeleteProfile:fe,onDeleteApiKey:Ye,onBack:We});case"selection":default:return C.jsx(qR,{onStartLesson:Le,isLoading:N,defaultDifficulty:(n==null?void 0:n.defaultDifficulty)||null})}};return a?Tg()?n?i?C.jsx(bN,{nickname:n.nickname,onUnlock:Z,error:G}):h?Sg()?C.jsxs("div",{className:"app-layout",children:[C.jsx(kN,{currentView:x,onNavigate:rt,onNew:We,onEndLesson:We,isLessonActive:!!O,isLessonFinished:!!oe}),C.jsxs("main",{className:"main-content",children:[G&&x!=="learning"&&C.jsx(AN,{message:G}),jt()]})]}):C.jsx(EN,{}):C.jsx(NN,{onSave:St}):C.jsx(wN,{onSetup:q,onImport:J}):C.jsx(xN,{}):C.jsx("div",{className:"loading-fullscreen",children:C.jsx(Ho,{})})},IN=document.getElementById("root"),LN=$T.createRoot(IN);LN.render(C.jsx(UN,{}));
